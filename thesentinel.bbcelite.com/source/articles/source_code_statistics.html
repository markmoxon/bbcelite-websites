<?php
include_once("../../templates/template_functions.php");
page_header("source_statistics", "home.html", "Source code statistics", "Source code statistics", "A statistical breakdown of the source code for The Sentinel", "the_sentinel-index", "source_statistics", "home", "");
?>


				<div class="codeBlockWrapper">
					<div class="codeBlock article">
						<p>Here's a statistical breakdown of the source code for The Sentinel. Click on the table headers to sort by that statistic. For more information, see the notes after the table.</p>

						<table class="spacedTableBorder codeSummary codeStatistics">
							<tbody>
								<tr class="codeSummaryHeader"><th class="codeSummaryLabel">Category</th><th>Instructions</th><th>Subroutines</th><th>Variables</th><th>Data (bytes)</th><!--<th>Workspaces</th><th>Macros</th>--></tr>								<tr><td class="codeSummaryCategory"><span>3D objects</span></td><td><span class="yes">190 </span> (3.0%)</td><td><span class="yes">6  </span> (2.3%)</td><td><span class="yes">9   </span> (1.5%)</td><td><span class="yes">401  </span> (3.4%)</td><!--<td><span class="yes">0 </span> (0.0%)</td><td><span class="yes">0 </span> (0.0%)</td>--></tr>
								<tr><td class="codeSummaryCategory"><span>Cracker protection</span></td><td><span class="yes">54  </span> (0.9%)</td><td><span class="yes">9  </span> (3.5%)</td><td><span class="yes">0   </span> (0.0%)</td><td><span class="yes">1    </span> (0.0%)</td><!--<td><span class="yes">0 </span> (0.0%)</td><td><span class="yes">0 </span> (0.0%)</td>--></tr>
								<tr><td class="codeSummaryCategory"><span>Drawing objects</span></td><td><span class="yes">332 </span> (5.3%)</td><td><span class="yes">5  </span> (1.9%)</td><td><span class="yes">17  </span> (2.8%)</td><td><span class="yes">1675 </span>(14.2%)</td><!--<td><span class="yes">0 </span> (0.0%)</td><td><span class="yes">0 </span> (0.0%)</td>--></tr>
								<tr><td class="codeSummaryCategory"><span>Drawing polygons</span></td><td><span class="yes">800 </span>(12.7%)</td><td><span class="yes">20 </span> (7.7%)</td><td><span class="yes">8   </span> (1.3%)</td><td><span class="yes">852  </span> (7.2%)</td><!--<td><span class="yes">0 </span> (0.0%)</td><td><span class="yes">0 </span> (0.0%)</td>--></tr>
								<tr><td class="codeSummaryCategory"><span>Drawing the landscape</span></td><td><span class="yes">764 </span>(12.1%)</td><td><span class="yes">21 </span> (8.1%)</td><td><span class="yes">9   </span> (1.5%)</td><td><span class="yes">560  </span> (4.7%)</td><!--<td><span class="yes">0 </span> (0.0%)</td><td><span class="yes">0 </span> (0.0%)</td>--></tr>
								<tr><td class="codeSummaryCategory"><span>Gameplay</span></td><td><span class="yes">633 </span>(10.0%)</td><td><span class="yes">25 </span> (9.6%)</td><td><span class="yes">2   </span> (0.3%)</td><td><span class="yes">8    </span> (0.1%)</td><!--<td><span class="yes">0 </span> (0.0%)</td><td><span class="yes">0 </span> (0.0%)</td>--></tr>
								<tr><td class="codeSummaryCategory"><span>Graphics</span></td><td><span class="yes">212 </span> (3.4%)</td><td><span class="yes">9  </span> (3.5%)</td><td><span class="yes">15  </span> (2.4%)</td><td><span class="yes">155  </span> (1.3%)</td><!--<td><span class="yes">0 </span> (0.0%)</td><td><span class="yes">0 </span> (0.0%)</td>--></tr>
								<tr><td class="codeSummaryCategory"><span>Keyboard</span></td><td><span class="yes">277 </span> (4.4%)</td><td><span class="yes">13 </span> (5.0%)</td><td><span class="yes">3   </span> (0.5%)</td><td><span class="yes">32   </span> (0.3%)</td><!--<td><span class="yes">0 </span> (0.0%)</td><td><span class="yes">0 </span> (0.0%)</td>--></tr>
								<tr><td class="codeSummaryCategory"><span>Landscape</span></td><td><span class="yes">674 </span>(10.7%)</td><td><span class="yes">22 </span> (8.5%)</td><td><span class="yes">11  </span> (1.8%)</td><td><span class="yes">1828 </span>(15.5%)</td><!--<td><span class="yes">0 </span> (0.0%)</td><td><span class="yes">0 </span> (0.0%)</td>--></tr>
								<tr><td class="codeSummaryCategory"><span>Main game loop</span></td><td><span class="yes">171 </span> (2.7%)</td><td><span class="yes">5  </span> (1.9%)</td><td><span class="yes">1   </span> (0.2%)</td><td><span class="yes">6    </span> (0.1%)</td><!--<td><span class="yes">0 </span> (0.0%)</td><td><span class="yes">0 </span> (0.0%)</td>--></tr>
								<tr><td class="codeSummaryCategory"><span>Main title Loop</span></td><td><span class="yes">30  </span> (0.5%)</td><td><span class="yes">2  </span> (0.8%)</td><td><span class="yes">0   </span> (0.0%)</td><td><span class="yes">0    </span> (0.0%)</td><!--<td><span class="yes">0 </span> (0.0%)</td><td><span class="yes">0 </span> (0.0%)</td>--></tr>
								<tr><td class="codeSummaryCategory"><span>Main title loop</span></td><td><span class="yes">46  </span> (0.7%)</td><td><span class="yes">2  </span> (0.8%)</td><td><span class="yes">0   </span> (0.0%)</td><td><span class="yes">0    </span> (0.0%)</td><!--<td><span class="yes">0 </span> (0.0%)</td><td><span class="yes">0 </span> (0.0%)</td>--></tr>
								<tr><td class="codeSummaryCategory"><span>Maths (Arithmetic)</span></td><td><span class="yes">229 </span> (3.6%)</td><td><span class="yes">13 </span> (5.0%)</td><td><span class="yes">4   </span> (0.6%)</td><td><span class="yes">8    </span> (0.1%)</td><!--<td><span class="yes">0 </span> (0.0%)</td><td><span class="yes">0 </span> (0.0%)</td>--></tr>
								<tr><td class="codeSummaryCategory"><span>Maths (Geometry)</span></td><td><span class="yes">696 </span>(11.0%)</td><td><span class="yes">24 </span> (9.2%)</td><td><span class="yes">6   </span> (1.0%)</td><td><span class="yes">902  </span> (7.6%)</td><!--<td><span class="yes">0 </span> (0.0%)</td><td><span class="yes">0 </span> (0.0%)</td>--></tr>
								<tr><td class="codeSummaryCategory"><span>Scanner/energy row</span></td><td><span class="yes">147 </span> (2.3%)</td><td><span class="yes">6  </span> (2.3%)</td><td><span class="yes">4   </span> (0.6%)</td><td><span class="yes">15   </span> (0.1%)</td><!--<td><span class="yes">0 </span> (0.0%)</td><td><span class="yes">0 </span> (0.0%)</td>--></tr>
								<tr><td class="codeSummaryCategory"><span>Screen buffer</span></td><td><span class="yes">267 </span> (4.2%)</td><td><span class="yes">38 </span>(14.6%)</td><td><span class="yes">21  </span> (3.4%)</td><td><span class="yes">3967 </span>(33.6%)</td><!--<td><span class="yes">0 </span> (0.0%)</td><td><span class="yes">0 </span> (0.0%)</td>--></tr>
								<tr><td class="codeSummaryCategory"><span>Setup</span></td><td><span class="yes">138 </span> (2.2%)</td><td><span class="yes">4  </span> (1.5%)</td><td><span class="yes">0   </span> (0.0%)</td><td><span class="yes">246  </span> (2.1%)</td><!--<td><span class="yes">0 </span> (0.0%)</td><td><span class="yes">0 </span> (0.0%)</td>--></tr>
								<tr><td class="codeSummaryCategory"><span>Sights</span></td><td><span class="yes">194 </span> (3.1%)</td><td><span class="yes">7  </span> (2.7%)</td><td><span class="yes">10  </span> (1.6%)</td><td><span class="yes">80   </span> (0.7%)</td><!--<td><span class="yes">0 </span> (0.0%)</td><td><span class="yes">0 </span> (0.0%)</td>--></tr>
								<tr><td class="codeSummaryCategory"><span>Sound</span></td><td><span class="yes">144 </span> (2.3%)</td><td><span class="yes">9  </span> (3.5%)</td><td><span class="yes">7   </span> (1.1%)</td><td><span class="yes">247  </span> (2.1%)</td><!--<td><span class="yes">0 </span> (0.0%)</td><td><span class="yes">0 </span> (0.0%)</td>--></tr>
								<tr><td class="codeSummaryCategory"><span>Text</span></td><td><span class="yes">115 </span> (1.8%)</td><td><span class="yes">11 </span> (4.2%)</td><td><span class="yes">22  </span> (3.6%)</td><td><span class="yes">205  </span> (1.7%)</td><!--<td><span class="yes">0 </span> (0.0%)</td><td><span class="yes">0 </span> (0.0%)</td>--></tr>
								<tr><td class="codeSummaryCategory"><span>Title screen</span></td><td><span class="yes">205 </span> (3.2%)</td><td><span class="yes">9  </span> (3.5%)</td><td><span class="yes">15  </span> (2.4%)</td><td><span class="yes">48   </span> (0.4%)</td><!--<td><span class="yes">0 </span> (0.0%)</td><td><span class="yes">0 </span> (0.0%)</td>--></tr>
								<tr><td class="codeSummaryCategory"><span>Workspaces</span></td><td><span class="yes">0   </span> (0.0%)</td><td><span class="yes">0  </span> (0.0%)</td><td><span class="yes">452 </span>(73.4%)</td><td><span class="yes">583  </span> (4.9%)</td><!--<td><span class="yes">3 </span>(100.0%)</td><td><span class="yes">0 </span> (0.0%)</td>--></tr>
								<tr class="codeSummaryHeader footer"><th>Totals</th><th>6318</th><th>260</th><th>616</th><th>11819</th><!--<th>3</th><th>0</th>--></tr>
							</tbody>
						</table>

						<script>
							const getCellValue = (tr, idx) => tr.children[idx].children[0].innerText || tr.children[idx].children[0].textContent;

							const comparer = (idx, asc) => (a, b) => ((v1, v2) =>
								v1 !== '' && v2 !== '' && !isNaN(v1) && !isNaN(v2) ? v2 - v1 : v1.toString().localeCompare(v2)
								)(getCellValue(asc ? a : b, idx), getCellValue(asc ? b : a, idx));

							document.querySelectorAll('tbody th').forEach(th => th.addEventListener('click', (() => {
								const table = th.closest('table tbody');
								const footer = table.querySelectorAll('.footer');
								footerClone = footer[0].cloneNode(true);
								footer[0].remove();
								Array.from(table.querySelectorAll('tr:nth-child(n+2)'))
									.sort(comparer(Array.from(th.parentNode.children).indexOf(th), this.asc = !this.asc))
									.forEach(tr => table.appendChild(tr)
								);
								table.append(footerClone);
							})));
						</script>

						<p>Some notes on the above:</p>

						<ul>
							<li>The instruction count does not include EQUB, EQUW, EQUD, EQUS or SKIP operatives; these are counted as data.</li>
							<li>Each part of a multi-part subroutine counts as an individual subroutine.</li>
							<li>The statistics are produced by a relatively simple static analysis of the source code. They are not 100% accurate, though they are pretty close.</li>
						</ul>
					</div>
				</div>


			</article>

<?php
include_once("../../templates_local/navigation.php");
?>
		</div>
	</body>
</html>
