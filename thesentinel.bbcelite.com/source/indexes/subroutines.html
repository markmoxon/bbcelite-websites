<?php
include_once("../../templates/template_functions.php");
page_header("indexes", "subroutines.html", "List of all subroutines", "List of all subroutines", "List of all subroutines in The Sentinel", "the_sentinel-index", "source_indexes", "subroutines", "");
?>
				<div class="codeBlockWrapper nav">
					<nav class="codeBlock previousNext"><a class="previous" rel="prev" title="Previous routine" href="/source/articles/source_code_cross-references.html">Source code cross-references</a><a class="next" rel="next" title="Next routine" href="/source/indexes/variables.html">List of all variables</a></nav>
				</div>

				<div class="codeBlockWrapper">
					<div class="codeBlock article">
						<p>This index contains every subroutine and entry point that appears in the source code for The Sentinel, grouped by category. An entry points is a label within a subroutine that is called from outside the subroutine, which typically implements a subset or variation of the functionality of the parent subroutine.</p>

						<ul class="indexLinks small">
							<li><a href="#3d-objects">3D objects</a></li>
							<li><a href="#cracker-protection">Cracker protection</a></li>
							<li><a href="#drawing-objects">Drawing objects</a></li>
							<li><a href="#drawing-polygons">Drawing polygons</a></li>
							<li><a href="#drawing-the-landscape">Drawing the landscape</a></li>
							<li><a href="#gameplay">Gameplay</a></li>
							<li><a href="#graphics">Graphics</a></li>
							<li><a href="#keyboard">Keyboard</a></li>
							<li><a href="#landscape">Landscape</a></li>
							<li><a href="#main-game-loop">Main game loop</a></li>
							<li><a href="#main-title-loop">Main title loop</a></li>
							<li><a href="#maths-arithmetic">Maths (Arithmetic)</a></li>
							<li><a href="#maths-geometry">Maths (Geometry)</a></li>
							<li><a href="#scanner-energy-row">Scanner/energy row</a></li>
							<li><a href="#screen-buffer">Screen buffer</a></li>
							<li><a href="#setup">Setup</a></li>
							<li><a href="#sights">Sights</a></li>
							<li><a href="#sound">Sound</a></li>
							<li><a href="#text">Text</a></li>
							<li><a href="#title-screen">Title screen</a></li>
						</ul>

						<table class="spacedTableBorder codeSummary crossReferences">
							<tbody>
								<tr class="blank"><td colspan="2"><a id="3d-objects" class="anchor"></a><h2 class="articleSubheader">3D objects<br>----------</h2></td></tr>
								<tr><td><a href="/source/main/subroutine/deleteobject.html">DeleteObject</a></td><td>Delete an object, removing it from the landscape and vacating its object number</td></tr>
								<tr><td><a href="/source/main/subroutine/getobjectangles.html">GetObjectAngles</a></td><td>Calculate the angles and distances of the vector from the viewer to a specific object</td></tr>
								<tr><td><a href="/source/main/subroutine/getobjectcoords.html">GetObjectCoords</a></td><td>Get an object's coordinates</td></tr>
								<tr><td><a href="/source/main/subroutine/placeobjectbelow.html">PlaceObjectBelow</a></td><td>Attempt to place an object on a tile that is below the maximum altitude specified in A</td></tr>
								<tr><td><a href="/source/main/subroutine/placeobjectontile.html">PlaceObjectOnTile</a></td><td>Place an object on a tile, putting it on top of any existing boulders or towers</td></tr>
								<tr><td><a href="/source/main/subroutine/spawnobject.html">SpawnObject</a></td><td>Add a new object of the specified type to the objectTypes table</td></tr>
								<tr><td><a href="/source/main/subroutine/spawnobject.html">SpawnObject+3</a></td><td>Spawn an object of the type specified in keyPress</td></tr>
								<tr class="blank"><td colspan="2"><a id="cracker-protection" class="anchor"></a><h2 class="articleSubheader">Cracker protection<br>------------------</h2></td></tr>
								<tr><td><a href="/source/main/subroutine/altercrackerseed.html">AlterCrackerSeed</a></td><td>Create an altered version of the anti-cracker seed-related data, as part of the anti-cracker code</td></tr>
								<tr><td><a href="/source/main/subroutine/checkcrackerseed.html">CheckCrackerSeed</a></td><td>Check whether the anti-cracker seed-related data is correctly set up, as part of the anti-cracker code</td></tr>
								<tr><td><a href="/source/main/subroutine/checksecretstash.html">CheckSecretStash</a></td><td>Check whether the secret code stash is correctly set up, as part of the anti-cracker code</td></tr>
								<tr><td><a href="/source/main/subroutine/corruptsecretcode.html">CorruptSecretCode</a></td><td>Corrupt the generation process for the landscape's secret code by fetching one more seed number than necessary</td></tr>
								<tr><td><a href="/source/main/subroutine/crackerseed.html">CrackerSeed</a></td><td>Obfuscated storage for the high byte of the landscape number as part of the anti-cracker code</td></tr>
								<tr><td><a href="/source/main/subroutine/jumptopreview.html">JumpToPreview</a></td><td>An intentionally confusing jump point for controlling the main title loop flow when returning from the GenerateLandscape routine</td></tr>
								<tr><td><a href="/source/main/subroutine/setcrackerseed.html">SetCrackerSeed</a></td><td>Set up anti-cracker tile-related data that can be checked in the CheckCrackerSeed routine</td></tr>
								<tr><td><a href="/source/main/subroutine/setplayerisontower.html">SetPlayerIsOnTower</a></td><td>Set up the playerIsOnTower value for checking the game is won, as part of the anti-cracker code</td></tr>
								<tr><td><a href="/source/main/subroutine/setsecretstash.html">SetSecretStash</a></td><td>Alter the secret code stash, as part of the anti-cracker code</td></tr>
								<tr class="blank"><td colspan="2"><a id="drawing-objects" class="anchor"></a><h2 class="articleSubheader">Drawing objects<br>---------------</h2></td></tr>
								<tr><td><a href="/source/main/subroutine/checkobjvisibility.html">CheckObjVisibility</a></td><td>Check whether an object is visible on-screen and should therefore not be changed if a pan operation is about to happen</td></tr>
								<tr><td><a href="/source/main/subroutine/checkobjvisibility.html">cvis1</a></td><td>Contains an RTS</td></tr>
								<tr><td><a href="/source/main/subroutine/drawobject.html">DrawObject</a></td><td>Draw a 3D object</td></tr>
								<tr><td><a href="/source/main/subroutine/drawobjectstack.html">DrawObjectStack</a></td><td>Draw an entire stack of objects</td></tr>
								<tr><td><a href="/source/main/subroutine/drawupdatedobject.html">DrawUpdatedObject</a></td><td>Draw an updated object on-screen, optionally with a dithered effect, and with or without the surrounding landscape</td></tr>
								<tr><td><a href="/source/main/subroutine/getobjpointangles.html">GetObjPointAngles</a></td><td>Calculate the view-relative pitch and yaw angles of all the points in an object</td></tr>
								<tr class="blank"><td colspan="2"><a id="drawing-polygons" class="anchor"></a><h2 class="articleSubheader">Drawing polygons<br>----------------</h2></td></tr>
								<tr><td><a href="/source/main/subroutine/drawpolygon.html">DrawPolygon</a></td><td>Draw a polygon</td></tr>
								<tr><td><a href="/source/main/subroutine/drawpolygonlines_part_1_of_4.html">DrawPolygonLines (Part 1 of 4)</a></td><td>Draw an analysed polygon into the screen buffer</td></tr>
								<tr><td><a href="/source/main/subroutine/drawpolygonlines_part_2_of_4.html">DrawPolygonLines (Part 2 of 4)</a></td><td>Process the line overflowing the sides of the buffer, or fitting into one pixel byte, and loop on to the next polygon pixel line</td></tr>
								<tr><td><a href="/source/main/subroutine/drawpolygonlines_part_3_of_4.html">DrawPolygonLines (Part 3 of 4)</a></td><td>Draw the left and right edges of the polygon line and fall into part 4 to draw the line in between</td></tr>
								<tr><td><a href="/source/main/subroutine/drawpolygonlines_part_4_of_4.html">DrawPolygonLines (Part 4 of 4)</a></td><td>Draw a horizontal pixel line of a specific length in character columns</td></tr>
								<tr><td><a href="/source/main/subroutine/getpolygonlines_part_1_of_6.html">GetPolygonLines (Part 1 of 6)</a></td><td>Calculate the points in a two-face tile polygon when it consists of a pair of triangles</td></tr>
								<tr><td><a href="/source/main/subroutine/getpolygonlines_part_2_of_6.html">GetPolygonLines (Part 2 of 6)</a></td><td>The main entry point for the routine to calculate the horizontal lines in filled polygon and prepare them for drawing on-screen</td></tr>
								<tr><td><a href="/source/main/subroutine/getpolygonlines_part_3_of_6.html">GetPolygonLines (Part 3 of 6)</a></td><td>Convert all the polygon point yaw angles into pixel x-coordinates (for larger yaw angles that convert into a 16-bit x-coordinate)</td></tr>
								<tr><td><a href="/source/main/subroutine/getpolygonlines_part_4_of_6.html">GetPolygonLines (Part 4 of 6)</a></td><td>Convert all the polygon point yaw angles into pixel x-coordinates (for smaller yaw angles that convert into an 8-bit x-coordinate)</td></tr>
								<tr><td><a href="/source/main/subroutine/getpolygonlines_part_5_of_6.html">GetPolygonLines (Part 5 of 6)</a></td><td>Loop through all the edges in the polygon and call the correct routines to process one-byte, two-byte or horizontal edges</td></tr>
								<tr><td><a href="/source/main/subroutine/getpolygonlines_part_6_of_6.html">GetPolygonLines (Part 6 of 6)</a></td><td>Split polygon edges whose coordinates are stored in two-byte numbers into smaller sections for processing</td></tr>
								<tr><td><a href="/source/main/subroutine/modifystoringcode.html">ModifyStoringCode</a></td><td>Modify the code in TracePolygonEdge that stores the coordinates of the polygon edge that is being traced</td></tr>
								<tr><td><a href="/source/main/subroutine/tracepolygonedge_part_1_of_8.html">TracePolygonEdge (Part 1 of 8)</a></td><td>Trace a polygon edge, populating xPolygonRight or xPolygonLeft with the x-coordinate of the edge for each y-coordinate</td></tr>
								<tr><td><a href="/source/main/subroutine/tracepolygonedge_part_2_of_8.html">TracePolygonEdge (Part 2 of 8)</a></td><td>Trace a polygon edge with a steep gradient by stepping along the y-axis</td></tr>
								<tr><td><a href="/source/main/subroutine/tracepolygonedge_part_3_of_8.html">TracePolygonEdge (Part 3 of 8)</a></td><td>Trace a polygon edge with a shallow gradient by stepping along the x-axis</td></tr>
								<tr><td><a href="/source/main/subroutine/tracepolygonedge_part_4_of_8.html">TracePolygonEdge (Part 4 of 8)</a></td><td>Trace a steep edge that starts off-screen, without storing the coordinates, until we reach the screen and return to part 2</td></tr>
								<tr><td><a href="/source/main/subroutine/tracepolygonedge_part_5_of_8.html">TracePolygonEdge (Part 5 of 8)</a></td><td>Trace a shallow edge that starts off-screen, without storing the coordinates, until we reach the screen and return to part 3</td></tr>
								<tr><td><a href="/source/main/subroutine/tracepolygonedge_part_6_of_8.html">TracePolygonEdge (Part 6 of 8)</a></td><td>Trace a polygon edge where the start or end point x-coordinates are two-byte numbers</td></tr>
								<tr><td><a href="/source/main/subroutine/tracepolygonedge_part_7_of_8.html">TracePolygonEdge (Part 7 of 8)</a></td><td>Trace a polygon edge with a steep gradient by stepping along the y-axis (for two-byte x-coordinates)</td></tr>
								<tr><td><a href="/source/main/subroutine/tracepolygonedge_part_8_of_8.html">TracePolygonEdge (Part 8 of 8)</a></td><td>Trace a polygon edge with a shallow gradient by stepping along the x-axis (for two-byte x-coordinates)</td></tr>
								<tr class="blank"><td colspan="2"><a id="drawing-the-landscape" class="anchor"></a><h2 class="articleSubheader">Drawing the landscape<br>---------------------</h2></td></tr>
								<tr><td><a href="/source/main/subroutine/drawflattile.html">DrawFlatTile</a></td><td>Draw a flat tile in the correct colour for the chess board effect that we use to draw the landscape</td></tr>
								<tr><td><a href="/source/main/subroutine/drawlandscaperow.html">DrawLandscapeRow</a></td><td>Draw a row of tiles between the left visible edge and the right visible, in two parts towards each side of the viewer</td></tr>
								<tr><td><a href="/source/main/subroutine/drawlandscapeview_part_1_of_3.html">DrawLandscapeView (Part 1 of 3)</a></td><td>Set up a number of variables for drawing the landscape view</td></tr>
								<tr><td><a href="/source/main/subroutine/drawlandscapeview_part_2_of_3.html">DrawLandscapeView (Part 2 of 3)</a></td><td>Work through the landscape, drawing one row of tiles/objects at a time, from the back row to the front row</td></tr>
								<tr><td><a href="/source/main/subroutine/drawlandscapeview_part_3_of_3.html">DrawLandscapeView (Part 3 of 3)</a></td><td>Draw a tile row in two parts, one on either side of the viewer</td></tr>
								<tr><td><a href="/source/main/subroutine/drawonefacetile.html">DrawOneFaceTile</a></td><td>Draw a tile with one quadrilateral (four-sided) face</td></tr>
								<tr><td><a href="/source/main/subroutine/drawslopingtile.html">DrawSlopingTile</a></td><td>Draw a sloping tile that is not shape 4 or 12</td></tr>
								<tr><td><a href="/source/main/subroutine/drawtileandobjects.html">DrawTileAndObjects</a></td><td>Draw a tile and any objects stacked on it</td></tr>
								<tr><td><a href="/source/main/subroutine/drawtwofacetile.html">DrawTwoFaceTile</a></td><td>Draw a tile with two triangular (three-sided) faces</td></tr>
								<tr><td><a href="/source/main/subroutine/getrowvisibility_part_1_of_2.html">GetRowVisibility (Part 1 of 2)</a></td><td>Set up the calculations to determine whether each tile corner in a tile row is obscured from the player by any intervening landscape</td></tr>
								<tr><td><a href="/source/main/subroutine/getrowvisibility_part_2_of_2.html">GetRowVisibility (Part 2 of 2)</a></td><td>Calculate whether each tile corner in a tile row is obscured from the player by any intervening landscape</td></tr>
								<tr><td><a href="/source/main/subroutine/gettilealtitudes.html">GetTileAltitudes</a></td><td>Calculate tile corner altitudes and maximum tile corner altitudes for each tile in the landscape</td></tr>
								<tr><td><a href="/source/main/subroutine/gettileedgetoleft.html">GetTileEdgeToLeft</a></td><td>Move one tile to the left along the tile row that we are analysing for view edges and tile angles</td></tr>
								<tr><td><a href="/source/main/subroutine/gettileedgetoright.html">GetTileEdgeToRight</a></td><td>Move one tile to the right along the tile row that we are analysing for view edges and tile angles</td></tr>
								<tr><td><a href="/source/main/subroutine/gettileviewangles_part_1_of_4.html">GetTileViewAngles (Part 1 of 4)</a></td><td>Calculate the pitch and yaw angles for a tile corner, relative to a viewer object (e.g. the player), and whether it is on-screen</td></tr>
								<tr><td><a href="/source/main/subroutine/gettileviewangles_part_2_of_4.html">GetTileViewAngles (Part 2 of 4)</a></td><td>Fetch the tile data for the tile corner we are analysing</td></tr>
								<tr><td><a href="/source/main/subroutine/gettileviewangles_part_3_of_4.html">GetTileViewAngles (Part 3 of 4)</a></td><td>Calculate the pitch angle for the tile corner</td></tr>
								<tr><td><a href="/source/main/subroutine/gettileviewangles_part_4_of_4.html">GetTileViewAngles (Part 4 of 4)</a></td><td>Calculate how much of the tile is on-screen</td></tr>
								<tr><td><a href="/source/main/subroutine/gettileviewedges.html">GetTileViewEdges</a></td><td>For a given tile row, work out the edges of the visible portion of the row in the current player view, as left to right tile numbers</td></tr>
								<tr><td><a href="/source/main/subroutine/gettilevisibility.html">GetTileVisibility</a></td><td>For each tile in the landscape, calculate whether the player can see that tile, to speed up the process of drawing the landscape</td></tr>
								<tr><td><a href="/source/main/subroutine/panlandscapeview.html">PanLandscapeView</a></td><td>Pan the landscape and update the landscape view</td></tr>
								<tr><td><a href="/source/main/subroutine/gettileedgetoleft.html">prev1</a></td><td>Return from the subroutine with the C flag set</td></tr>
								<tr><td><a href="/source/main/subroutine/gettilealtitudes.html">talt2</a></td><td>Jump to MainTitleLoop via game10</td></tr>
								<tr class="blank"><td colspan="2"><a id="gameplay" class="anchor"></a><h2 class="articleSubheader">Gameplay<br>--------</h2></td></tr>
								<tr><td><a href="/source/main/subroutine/abortwhenvisible.html">AbortWhenVisible</a></td><td>Abort applying the tactics for this gameplay loop if updating the object on-screen will corrupt a screen pan</td></tr>
								<tr><td><a href="/source/main/subroutine/applyenemytactics.html">ApplyEnemyTactics</a></td><td>Apply tactics to an enemy object, setting things up so the next call applies tactics to the next enemy object</td></tr>
								<tr><td><a href="/source/main/subroutine/applytactics_part_1_of_8.html">ApplyTactics (Part 1 of 8)</a></td><td>Apply tactics to the Sentinel or a sentry</td></tr>
								<tr><td><a href="/source/main/subroutine/applytactics_part_2_of_8.html">ApplyTactics (Part 2 of 8)</a></td><td>Process the tactics for a meanie</td></tr>
								<tr><td><a href="/source/main/subroutine/applytactics_part_3_of_8.html">ApplyTactics (Part 3 of 8)</a></td><td>If the enemy has any residual energy, try expending it onto the landscape in the form of a tree (and end tactics if successful)</td></tr>
								<tr><td><a href="/source/main/subroutine/applytactics_part_4_of_8.html">ApplyTactics (Part 4 of 8)</a></td><td>If configured, search the landscape for a suitable target for the enemy to drain of energy</td></tr>
								<tr><td><a href="/source/main/subroutine/applytactics_part_5_of_8.html">ApplyTactics (Part 5 of 8)</a></td><td>Look for a suitable robot to drain of energy, or look for a drainable tree or boulder if there are no suitable robots</td></tr>
								<tr><td><a href="/source/main/subroutine/applytactics_part_6_of_8.html">ApplyTactics (Part 6 of 8)</a></td><td>Rotate the enemy and make a rotation sound</td></tr>
								<tr><td><a href="/source/main/subroutine/applytactics_part_7_of_8.html">ApplyTactics (Part 7 of 8)</a></td><td>Drain energy from the enemy's target object, or try scanning for a tree to turn into a meanie if the target's tile is obscured</td></tr>
								<tr><td><a href="/source/main/subroutine/applytactics_part_8_of_8.html">ApplyTactics (Part 8 of 8)</a></td><td>Redraw the object on the screen, optionally with a dithered effect</td></tr>
								<tr><td><a href="/source/main/subroutine/checkenemygaze_part_1_of_2.html">CheckEnemyGaze (Part 1 of 2)</a></td><td>Check to see whether the current enemy can see a specific target object of a specific type</td></tr>
								<tr><td><a href="/source/main/subroutine/checkenemygaze_part_2_of_2.html">CheckEnemyGaze (Part 2 of 2)</a></td><td>Calculate whether the current enemy can see the specified object</td></tr>
								<tr><td><a href="/source/main/subroutine/drainobjectenergy.html">DrainObjectEnergy</a></td><td>Drain energy from an object into an enemy, transforming it into an object with an energy level of one unit less (if applicable)</td></tr>
								<tr><td><a href="/source/main/subroutine/expendenemyenergy.html">ExpendEnemyEnergy</a></td><td>Drain one unit of energy from an enemy and expend it onto the landscape by spawning a tree, if possible</td></tr>
								<tr><td><a href="/source/main/subroutine/findobjecttodrain.html">FindObjectToDrain</a></td><td>Find a suitable target object for an enemy to drain</td></tr>
								<tr><td><a href="/source/main/subroutine/finishenemytactics.html">FinishEnemyTactics</a></td><td>Stop applying tactics to the current enemy and return to the ProcessGameplay routine to continue with the gameplay loop</td></tr>
								<tr><td><a href="/source/main/subroutine/getobjvisibility.html">GetObjVisibility</a></td><td>Calculate whether any part of an object is visible on-screen, and if so, which character columns it spans on the screen</td></tr>
								<tr><td><a href="/source/main/subroutine/getplayerdrain.html">GetPlayerDrain</a></td><td>Calculate whether the player is being scanned by an enemy and whether the enemy can see the player's tile</td></tr>
								<tr><td><a href="/source/main/subroutine/moveontonextenemy.html">MoveOnToNextEnemy</a></td><td>Update enemyObject so the next time we consider applying enemy tactics, we apply them to the next enemy, looping from 7 to 0</td></tr>
								<tr><td><a href="/source/main/subroutine/performhyperspace.html">PerformHyperspace</a></td><td>Hyperspace the player to a brand new tile, ideally at the same altitude as the current tile</td></tr>
								<tr><td><a href="/source/main/subroutine/processgameplay.html">ProcessGameplay</a></td><td>A gameplay loop that processes all game key presses, returning to the main game loop when the player moves, quits, loses or pans</td></tr>
								<tr><td><a href="/source/main/subroutine/resetmeaniescan.html">ResetMeanieScan</a></td><td>Reset the data stored for any meanie scans that the enemy has tried in the past, so we can start looking with a clean slate</td></tr>
								<tr><td><a href="/source/main/subroutine/scanformeanietree.html">ScanForMeanieTree</a></td><td>Scan through the objects in the landscape to see if any of them are trees that are suitable for turning into a meanie</td></tr>
								<tr><td><a href="/source/main/subroutine/applytactics_part_8_of_8.html">tact25</a></td><td>Dither the updated object #X onto the screen, with bit 7 of drawLandscape determining whether the object is drawn on its own (bit 7 set) or with the surrounding landscape (bit 7 clear)</td></tr>
								<tr><td><a href="/source/main/subroutine/updateenemytimers.html">UpdateEnemyTimers</a></td><td>Update the timers that control the enemy tactics</td></tr>
								<tr><td><a href="/source/main/subroutine/updateplayerenergy.html">UpdatePlayerEnergy</a></td><td>Update the player's energy levels by adding or subtracting the amount of energy in a specific object</td></tr>
								<tr class="blank"><td colspan="2"><a id="graphics" class="anchor"></a><h2 class="articleSubheader">Graphics<br>--------</h2></td></tr>
								<tr><td><a href="/source/main/subroutine/clearscreen.html">ClearScreen</a></td><td>Clear the screen to a specified background</td></tr>
								<tr><td><a href="/source/main/subroutine/decayscreentoblack.html">DecayScreenToBlack</a></td><td>Smother the screen with randomly placed black dots to decay the screen to black</td></tr>
								<tr><td><a href="/source/main/subroutine/drawblackdots.html">DrawBlackDots</a></td><td>Draw 80 randomly positioned dots on the screen in colour 1 (black)</td></tr>
								<tr><td><a href="/source/main/subroutine/drawrandomdots.html">DrawRandomDots</a></td><td>Draw 80 randomly positioned dots on the screen</td></tr>
								<tr><td><a href="/source/main/subroutine/drawstars.html">DrawStars</a></td><td>Draw 80 randomly positioned stars on the screen in colour 2 (white, yellow, cyan or red)</td></tr>
								<tr><td><a href="/source/main/subroutine/fillscreen.html">FillScreen</a></td><td>Fill a rectangular in screen memory or the screen buffer with the specified background</td></tr>
								<tr><td><a href="/source/main/subroutine/resetscreenaddress.html">ResetScreenAddress</a></td><td>Reset the address of the start of screen memory</td></tr>
								<tr><td><a href="/source/main/subroutine/scrollplayerview.html">ScrollPlayerView</a></td><td>Scroll the screen and copy data from the screen buffer into screen memory to implement the player's scrolling landscape view</td></tr>
								<tr><td><a href="/source/main/subroutine/setcolourpalette.html">SetColourPalette</a></td><td>Set the logical colours for each of the four physical colours in screen mode 5</td></tr>
								<tr class="blank"><td colspan="2"><a id="keyboard" class="anchor"></a><h2 class="articleSubheader">Keyboard<br>--------</h2></td></tr>
								<tr><td><a href="/source/main/subroutine/checkforkeypresses.html">CheckForKeyPresses</a></td><td>Check for various game key presses and update the key logger and relevant variables (during the interrupt handler)</td></tr>
								<tr><td><a href="/source/main/subroutine/checkforsamepankey.html">CheckForSamePanKey</a></td><td>Check to see whether the same pan key is being held down compared to the last time we checked</td></tr>
								<tr><td><a href="/source/main/subroutine/enablekeyboard.html">EnableKeyboard</a></td><td>Select the keyboard as the input stream and flush the keyboard buffer</td></tr>
								<tr><td><a href="/source/main/subroutine/flushbuffer.html">FlushBuffer</a></td><td>Flush the specified buffer</td></tr>
								<tr><td><a href="/source/main/subroutine/focusonkeyaction.html">focu1</a></td><td>Store the current setting of focusOnKeyAction in the previousFocus variable so we can detect (in the ProcessGameplay routine) whether the player is still holding down a pan key after we finish scrolling the screen for the previous pan... and then return from the subroutine</td></tr>
								<tr><td><a href="/source/main/subroutine/focusonkeyaction.html">FocusOnKeyAction</a></td><td>Tell the game to start focusing effort on the action that has been initiated, such as a pan of the landscape, absorb, transfer etc.</td></tr>
								<tr><td><a href="/source/main/subroutine/processactionkeys_part_1_of_2.html">ProcessActionKeys (Part 1 of 2)</a></td><td>Process an action key press from key logger entry 1 (absorb, transfer, create, hyperspace, U-turn)</td></tr>
								<tr><td><a href="/source/main/subroutine/processactionkeys_part_2_of_2.html">ProcessActionKeys (Part 2 of 2)</a></td><td>Process an action key press from key logger entry 1 (absorb, transfer, create, hyperspace, U-turn)</td></tr>
								<tr><td><a href="/source/main/subroutine/processpausekeys.html">ProcessPauseKeys</a></td><td>Pause or unpause the game when COPY or DELETE are pressed</td></tr>
								<tr><td><a href="/source/main/subroutine/readcharacter.html">ReadCharacter</a></td><td>Read a character from the currently selected input stream</td></tr>
								<tr><td><a href="/source/main/subroutine/readkeyboard.html">ReadKeyboard</a></td><td>Enable the keyboard and read a character from it</td></tr>
								<tr><td><a href="/source/main/subroutine/readnumber.html">ReadNumber</a></td><td>Read a number from the keyboard into the input buffer</td></tr>
								<tr><td><a href="/source/main/subroutine/scanforgamekeys.html">ScanForGameKeys</a></td><td>Scan for game key presses and update the key logger</td></tr>
								<tr><td><a href="/source/main/subroutine/scankeyboard.html">ScanKeyboard</a></td><td>Scan the keyboard for a specific key press</td></tr>
								<tr class="blank"><td colspan="2"><a id="landscape" class="anchor"></a><h2 class="articleSubheader">Landscape<br>---------</h2></td></tr>
								<tr><td><a href="/source/main/subroutine/addenemiestotiles.html">AddEnemiesToTiles</a></td><td>Add the required number of enemies to the landscape, starting from the highest altitude and working down, with one enemy per contour</td></tr>
								<tr><td><a href="/source/main/subroutine/checksecretcode_part_1_of_2.html">CheckSecretCode (Part 1 of 2)</a></td><td>Generate the secret code for this landscape and optionally check it against the entered code in the keyboard input buffer</td></tr>
								<tr><td><a href="/source/main/subroutine/checksecretcode_part_2_of_2.html">CheckSecretCode (Part 2 of 2)</a></td><td>Check the results of the secret code matching process, and if the secret codes match, jump to PlayGame to play the game</td></tr>
								<tr><td><a href="/source/main/subroutine/generatelandscape.html">GenerateLandscape</a></td><td>Generate tile data for the landscape</td></tr>
								<tr><td><a href="/source/main/subroutine/getenemycount.html">GetEnemyCount</a></td><td>Calculate the number of enemies for the current landscape</td></tr>
								<tr><td><a href="/source/main/subroutine/gethighesttiles.html">GetHighestTiles</a></td><td>Calculate both the highest tiles in each 4x4 block of tiles in the landscape and the altitude of the highest tile in the landscape</td></tr>
								<tr><td><a href="/source/main/subroutine/gettilealtitude.html">GetTileAltitude</a></td><td>Calculate the altitude of a tile, optionally including platform objects and trees in the calculation</td></tr>
								<tr><td><a href="/source/main/subroutine/gettiledata.html">GetTileData</a></td><td>Get the tile data and tile data address for a specific tile</td></tr>
								<tr><td><a href="/source/main/subroutine/gettilesataltitude.html">GetTilesAtAltitude</a></td><td>Return a list of tile blocks at a specified altitude</td></tr>
								<tr><td><a href="/source/main/subroutine/gettileshape.html">GetTileShape</a></td><td>Calculate the shape of the tile anchored at (xTile, zTile)</td></tr>
								<tr><td><a href="/source/main/subroutine/initialiseseeds.html">InitialiseSeeds</a></td><td>Initialise the seed number generator so it generates the sequence of seed numbers for a specific landscape number</td></tr>
								<tr><td><a href="/source/main/subroutine/previewlandscape.html">PreviewLandscape</a></td><td>Draw an aerial preview of the landscape</td></tr>
								<tr><td><a href="/source/main/subroutine/processtiledata.html">ProcessTileData</a></td><td>Process the tile data for all tiles in the landscape</td></tr>
								<tr><td><a href="/source/main/subroutine/secretcodestash.html">secretCodeStash</a></td><td>A stash for calculated values for each iteration in the CheckSecretCode routine</td></tr>
								<tr><td><a href="/source/main/subroutine/smoothtilecorners_part_1_of_4.html">SmoothTileCorners (Part 1 of 4)</a></td><td>Smooth a row or column of tile corners (a "strip of tiles")</td></tr>
								<tr><td><a href="/source/main/subroutine/smoothtilecorners_part_2_of_4.html">SmoothTileCorners (Part 2 of 4)</a></td><td>Smooth a strip by moving each outlier tile corner to the altitude of its closest immediate neighbour (in terms of altitude)</td></tr>
								<tr><td><a href="/source/main/subroutine/smoothtilecorners_part_3_of_4.html">SmoothTileCorners (Part 3 of 4)</a></td><td>Smooth a strip by setting the tile corner altitudes to the average of the current tile corner altitude and three following corners</td></tr>
								<tr><td><a href="/source/main/subroutine/smoothtilecorners_part_4_of_4.html">SmoothTileCorners (Part 4 of 4)</a></td><td>Copy the smoothed strip data back into the tileData table</td></tr>
								<tr><td><a href="/source/main/subroutine/smoothtiledata.html">SmoothTileData</a></td><td>Smooth the entire landscape</td></tr>
								<tr><td><a href="/source/main/subroutine/spawnenemies.html">SpawnEnemies</a></td><td>Calculate the number of enemies for this landscape, add them to the landscape and set the palette accordingly</td></tr>
								<tr><td><a href="/source/main/subroutine/spawnplayer.html">SpawnPlayer</a></td><td>Add the player object to the landscape, ideally placing it below all the enemies and in the bottom half of the landscape</td></tr>
								<tr><td><a href="/source/main/subroutine/spawntrees.html">SpawnTrees</a></td><td>Add trees to the landscape, ideally placing them below all the enemies in the landscape</td></tr>
								<tr class="blank"><td colspan="2"><a id="main-game-loop" class="anchor"></a><h2 class="articleSubheader">Main game loop<br>--------------</h2></td></tr>
								<tr><td><a href="/source/main/subroutine/finishlandscape.html">FinishLandscape</a></td><td>Add the player's energy to the landscape number to get the number of the next landscape and display that landscape's secret code</td></tr>
								<tr><td><a href="/source/main/subroutine/maingameloop.html">game10</a></td><td>Jump to MainTitleLoop to restart the game</td></tr>
								<tr><td><a href="/source/main/subroutine/irqhandler.html">IRQHandler</a></td><td>The main interrupt handler, which gets run 50 times a second to update the game state and check for game key presses</td></tr>
								<tr><td><a href="/source/main/subroutine/maingameloop.html">MainGameLoop</a></td><td>The main game loop for playing a landscape</td></tr>
								<tr><td><a href="/source/main/subroutine/playgame.html">PlayGame</a></td><td>Start playing the generated landscape</td></tr>
								<tr><td><a href="/source/main/subroutine/setscannerandpause.html">SetScannerAndPause</a></td><td>Set the scanner update status and delay for 40 empty loops of 256 iterations each (i.e. 10,240 loops)</td></tr>
								<tr class="blank"><td colspan="2"><a id="main-title-loop" class="anchor"></a><h2 class="articleSubheader">Main title loop<br>---------------</h2></td></tr>
								<tr><td><a href="/source/main/subroutine/maintitleloop.html">main1</a></td><td>The entry point for rejoining the main title loop after the player enters an incorrect secret code</td></tr>
								<tr><td><a href="/source/main/subroutine/maintitleloop.html">main4</a></td><td>The entry point for restarting a landscape after dying, so the player doesn't have to enter the landscape's secret code again</td></tr>
								<tr><td><a href="/source/main/subroutine/maintitleloop.html">MainTitleLoop</a></td><td>The main title loop: display the title screen, fetch the landscape number/code, preview the landscape and jump to the main game loop</td></tr>
								<tr><td><a href="/source/main/subroutine/maintitleloop.html">MainTitleLoop-1</a></td><td>Contains an RTS</td></tr>
								<tr><td><a href="/source/main/subroutine/resettilesobjects.html">ResetTilesObjects</a></td><td>Reset the tile visibility table and deallocate all object numbers</td></tr>
								<tr><td><a href="/source/main/subroutine/resetvariables.html">ResetVariables</a></td><td>Reset all the game's main variables</td></tr>
								<tr><td><a href="/source/main/subroutine/secretcodeerror.html">SecretCodeError</a></td><td>Display the "WRONG SECRET CODE" error, wait for a key press and rejoin the main title loop</td></tr>
								<tr class="blank"><td colspan="2"><a id="maths-arithmetic" class="anchor"></a><h2 class="articleSubheader">Maths (Arithmetic)<br>------------------</h2></td></tr>
								<tr><td><a href="/source/main/subroutine/absolute16bit.html">Absolute16Bit</a></td><td>Calculate the absolute value (modulus) of a 16-bit number</td></tr>
								<tr><td><a href="/source/main/subroutine/divideby16.html">DivideBy16</a></td><td>Divide a 16-bit sign-magnitude number by 16</td></tr>
								<tr><td><a href="/source/main/subroutine/getnextseed0to22.html">GetNextSeed0To22</a></td><td>Set A to the next number from the landscape's sequence of seed numbers, converted to the range 0 to 22</td></tr>
								<tr><td><a href="/source/main/subroutine/getnextseed0to30.html">GetNextSeed0To30</a></td><td>Set A to the next number from the landscape's sequence of seed numbers, converted to the range 0 to 30</td></tr>
								<tr><td><a href="/source/main/subroutine/getnextseedasbcd.html">GetNextSeedAsBCD</a></td><td>Set A to the next number from the landscape's sequence of seed numbers, converted to a binary coded decimal (BCD) number</td></tr>
								<tr><td><a href="/source/main/subroutine/getnextseednumber.html">GetNextSeedNumber</a></td><td>Set A to a seed number</td></tr>
								<tr><td><a href="/source/main/subroutine/getplayerenergybcd.html">GetPlayerEnergyBCD</a></td><td>Fetch the player's energy in binary coded decimal (BCD)</td></tr>
								<tr><td><a href="/source/main/subroutine/getrandomnumber.html">GetRandomNumber</a></td><td>Set A to a random number</td></tr>
								<tr><td><a href="/source/main/subroutine/multiply16x16.html">Multiply16x16</a></td><td>Multiply a sign-magnitude 16-bit number and a signed 16-bit number</td></tr>
								<tr><td><a href="/source/main/subroutine/multiply8x16.html">Multiply8x16</a></td><td>Multiply an 8-bit and a 16-bit number</td></tr>
								<tr><td><a href="/source/main/subroutine/multiply8x8.html">Multiply8x8</a></td><td>Calculate (A T) = T * U</td></tr>
								<tr><td><a href="/source/main/subroutine/multiply8x8.html">Multiply8x8+2</a></td><td>Calculate (A T) = T * U</td></tr>
								<tr><td><a href="/source/main/subroutine/multiplycoords.html">MultiplyCoords</a></td><td>Multiply a 16-bit signed number and a 16-bit sign-magnitude value</td></tr>
								<tr><td><a href="/source/main/subroutine/negate16bit.html">Negate16Bit</a></td><td>Negate a 16-bit number</td></tr>
								<tr><td><a href="/source/main/subroutine/negate16bit.html">Negate16Bit+2</a></td><td>Set (A T) = -(U T)</td></tr>
								<tr class="blank"><td colspan="2"><a id="maths-geometry" class="anchor"></a><h2 class="articleSubheader">Maths (Geometry)<br>----------------</h2></td></tr>
								<tr><td><a href="/source/main/subroutine/addvectortocoord.html">AddVectorToCoord</a></td><td>Add a vector to a coordinate</td></tr>
								<tr><td><a href="/source/main/subroutine/checkfortilecentre.html">CheckForTileCentre</a></td><td>Calculate max(|xCoordLo - 128|, |zCoordLo - 128|)</td></tr>
								<tr><td><a href="/source/main/subroutine/followgazevector_part_1_of_5.html">FollowGazeVector (Part 1 of 5)</a></td><td>Follow a gaze vector from a viewing object to determine whether the viewer can see a flat tile or platform (i.e. boulder or tower)</td></tr>
								<tr><td><a href="/source/main/subroutine/followgazevector_part_2_of_5.html">FollowGazeVector (Part 2 of 5)</a></td><td>Calculate the altitudes of the four corners in a non-flat tile</td></tr>
								<tr><td><a href="/source/main/subroutine/followgazevector_part_3_of_5.html">FollowGazeVector (Part 3 of 5)</a></td><td>Calculate whether the viewing object's gaze is obstructed by a tile of shape 4 or 12 (i.e. a tile with one horizontal edge)</td></tr>
								<tr><td><a href="/source/main/subroutine/followgazevector_part_4_of_5.html">FollowGazeVector (Part 4 of 5)</a></td><td>For non-flat tiles with two horizontal edges, work out which tile edge to use when checking for obstruction of the gaze vector</td></tr>
								<tr><td><a href="/source/main/subroutine/followgazevector_part_5_of_5.html">FollowGazeVector (Part 5 of 5)</a></td><td>For non-flat tiles with two horizontal edges, work out whether the tile edge obstructs the gaze vector</td></tr>
								<tr><td><a href="/source/main/subroutine/getanglefromcoords_part_1_of_3.html">GetAngleFromCoords (Part 1 of 3)</a></td><td>Given the coordinates along two axes, calculate the pitch or yaw angle to those coordinates</td></tr>
								<tr><td><a href="/source/main/subroutine/getanglefromcoords_part_2_of_3.html">GetAngleFromCoords (Part 2 of 3)</a></td><td>Overflow and accuracy calculations</td></tr>
								<tr><td><a href="/source/main/subroutine/getanglefromcoords_part_3_of_3.html">GetAngleFromCoords (Part 3 of 3)</a></td><td>Calculate the arctangent to get the angle</td></tr>
								<tr><td><a href="/source/main/subroutine/getangleinradians.html">GetAngleInRadians</a></td><td>Convert a 16-bit angle into radians, restricted to a quarter circle</td></tr>
								<tr><td><a href="/source/main/subroutine/gethorizontaldelta.html">GetHorizontalDelta</a></td><td>Calculate the difference in the x-axis and z-axis between two objects, as both signed and absolute deltas</td></tr>
								<tr><td><a href="/source/main/subroutine/gethypotenuse.html">GetHypotenuse</a></td><td>Calculate the hypotenuse from an angle and two triangle sides with one lookup and one multiplication (so without a square root)</td></tr>
								<tr><td><a href="/source/main/subroutine/gethypotenuseangle.html">GetHypotenuseAngle</a></td><td>Calculate the angle of the hypotenuse in a right-angle triangle given the two non-hypotenuse sides (i.e. two orthogonal axes)</td></tr>
								<tr><td><a href="/source/main/subroutine/getpitchangledelta.html">GetPitchAngleDelta</a></td><td>Calculate the pitch angle of a vector relative to an object's pitch angle</td></tr>
								<tr><td><a href="/source/main/subroutine/getrotationmatrix_part_1_of_5.html">GetRotationMatrix (Part 1 of 5)</a></td><td>Calculate the rotation matrix for rotating the pitch or yaw angle for the sights into the global 3D coordinate system</td></tr>
								<tr><td><a href="/source/main/subroutine/getrotationmatrix_part_2_of_5.html">GetRotationMatrix (Part 2 of 5)</a></td><td>Calculate sin(H G) for smaller angles</td></tr>
								<tr><td><a href="/source/main/subroutine/getrotationmatrix_part_3_of_5.html">GetRotationMatrix (Part 3 of 5)</a></td><td>Calculate sin(H G) for bigger angles</td></tr>
								<tr><td><a href="/source/main/subroutine/getrotationmatrix_part_4_of_5.html">GetRotationMatrix (Part 4 of 5)</a></td><td>Loop back to calculate cos instead of sin</td></tr>
								<tr><td><a href="/source/main/subroutine/getrotationmatrix_part_5_of_5.html">GetRotationMatrix (Part 5 of 5)</a></td><td>Apply the correct signs to the result</td></tr>
								<tr><td><a href="/source/main/subroutine/getsightsvector.html">GetSightsVector</a></td><td>Calculate the angles of the vector from the player's eyes to the sights</td></tr>
								<tr><td><a href="/source/main/subroutine/getsineandcosine.html">GetSineAndCosine</a></td><td>Calculate the sine and the cosine of an angle</td></tr>
								<tr><td><a href="/source/main/subroutine/getvectorforangles.html">GetVectorForAngles</a></td><td>Convert a vector from pitch and yaw angles into a 3D cartesian vector</td></tr>
								<tr><td><a href="/source/main/subroutine/getverticaldelta.html">GetVerticalDelta</a></td><td>Calculate the difference in the y-axis between two objects as a signed delta</td></tr>
								<tr class="blank"><td colspan="2"><a id="scanner-energy-row" class="anchor"></a><h2 class="articleSubheader">Scanner/energy row<br>------------------</h2></td></tr>
								<tr><td><a href="/source/main/subroutine/cleariconsscanner.html">ClearIconsScanner</a></td><td>Clear the energy icon and scanner row at the top of the screen</td></tr>
								<tr><td><a href="/source/main/subroutine/drawicon.html">DrawIcon</a></td><td>Draw a single icon in the top-left corner of the screen (via the icon screen buffer at iconBuffer) and move along to the right</td></tr>
								<tr><td><a href="/source/main/subroutine/geticonrowaddress.html">GetIconRowAddress</a></td><td>Calculate the address in screen memory of the icon and scanner row at the top of the screen</td></tr>
								<tr><td><a href="/source/main/subroutine/updatescannernow.html">scan6</a></td><td>Contains an RTS</td></tr>
								<tr><td><a href="/source/main/subroutine/updateiconsscanner.html">UpdateIconsScanner</a></td><td>Update the icons in the top-left corner of the screen to show the player's current energy level and redraw the scanner box</td></tr>
								<tr><td><a href="/source/main/subroutine/updatescanner.html">UpdateScanner</a></td><td>Update the scanner, if required</td></tr>
								<tr><td><a href="/source/main/subroutine/updatescannernow.html">UpdateScannerNow</a></td><td>Update the scanner to a new state</td></tr>
								<tr class="blank"><td colspan="2"><a id="screen-buffer" class="anchor"></a><h2 class="articleSubheader">Screen buffer<br>-------------</h2></td></tr>
								<tr><td><a href="/source/main/subroutine/configureobjbuffer.html">buff1</a></td><td>Contains an RTS</td></tr>
								<tr><td><a href="/source/main/subroutine/configurebuffer.html">ConfigureBuffer</a></td><td>Set up the variables required to configure the screen buffer to a specific buffer type</td></tr>
								<tr><td><a href="/source/main/subroutine/configureobjbuffer.html">ConfigureObjBuffer</a></td><td>Set up the variables required to configure the screen buffer for updating an object</td></tr>
								<tr><td><a href="/source/main/subroutine/ditherscreenbuffer.html">DitherScreenBuffer</a></td><td>Dither the contents of the screen buffer onto the screen</td></tr>
								<tr><td><a href="/source/main/subroutine/showbufferrow.html">drow3</a></td><td>Contains an RTS</td></tr>
								<tr><td><a href="/source/main/subroutine/flipbuffertype.html">FlipBufferType</a></td><td>Flip the buffer type between buffer type 0 (left row buffer) and buffer type 1 (right row buffer)</td></tr>
								<tr><td><a href="/source/main/subroutine/userowbuffer.html">rbuf1</a></td><td>Set the minimum and maximum pitch angled for the buffer type specified in Y (0 = row buffer, 1 = column buffer)</td></tr>
								<tr><td><a href="/source/main/subroutine/screenbufferrow0.html">screenBufferRow0</a></td><td>The screen buffer for character row 0</td></tr>
								<tr><td><a href="/source/main/subroutine/screenbufferrow1.html">screenBufferRow1</a></td><td>The screen buffer for character row 1</td></tr>
								<tr><td><a href="/source/main/subroutine/screenbufferrow10.html">screenBufferRow10</a></td><td>The screen buffer for character row 10</td></tr>
								<tr><td><a href="/source/main/subroutine/screenbufferrow11.html">screenBufferRow11</a></td><td>The screen buffer for character row 11</td></tr>
								<tr><td><a href="/source/main/subroutine/screenbufferrow12.html">screenBufferRow12</a></td><td>The screen buffer for character row 12</td></tr>
								<tr><td><a href="/source/main/subroutine/screenbufferrow13.html">screenBufferRow13</a></td><td>The screen buffer for character row 13</td></tr>
								<tr><td><a href="/source/main/subroutine/screenbufferrow14.html">screenBufferRow14</a></td><td>The screen buffer for character row 14</td></tr>
								<tr><td><a href="/source/main/subroutine/screenbufferrow15.html">screenBufferRow15</a></td><td>The screen buffer for character row 15</td></tr>
								<tr><td><a href="/source/main/subroutine/screenbufferrow16.html">screenBufferRow16</a></td><td>The screen buffer for character row 16 (as part of a column buffer)</td></tr>
								<tr><td><a href="/source/main/subroutine/screenbufferrow17.html">screenBufferRow17</a></td><td>The screen buffer for character row 17 (as part of a column buffer)</td></tr>
								<tr><td><a href="/source/main/subroutine/screenbufferrow18.html">screenBufferRow18</a></td><td>The screen buffer for character row 18 (as part of a column buffer)</td></tr>
								<tr><td><a href="/source/main/subroutine/screenbufferrow19.html">screenBufferRow19</a></td><td>The screen buffer for character row 19 (as part of a column buffer)</td></tr>
								<tr><td><a href="/source/main/subroutine/screenbufferrow2.html">screenBufferRow2</a></td><td>The screen buffer for character row 2</td></tr>
								<tr><td><a href="/source/main/subroutine/screenbufferrow20.html">screenBufferRow20</a></td><td>The screen buffer for character row 20 (as part of a column buffer)</td></tr>
								<tr><td><a href="/source/main/subroutine/screenbufferrow21.html">screenBufferRow21</a></td><td>The screen buffer for character row 21 (as part of a column buffer)</td></tr>
								<tr><td><a href="/source/main/subroutine/screenbufferrow22.html">screenBufferRow22</a></td><td>The screen buffer for character row 22 (as part of a column buffer)</td></tr>
								<tr><td><a href="/source/main/subroutine/screenbufferrow23.html">screenBufferRow23</a></td><td>The screen buffer for character row 23 (as part of a column buffer)</td></tr>
								<tr><td><a href="/source/main/subroutine/screenbufferrow3.html">screenBufferRow3</a></td><td>The screen buffer for character row 3</td></tr>
								<tr><td><a href="/source/main/subroutine/screenbufferrow4.html">screenBufferRow4</a></td><td>The screen buffer for character row 4</td></tr>
								<tr><td><a href="/source/main/subroutine/screenbufferrow5.html">screenBufferRow5</a></td><td>The screen buffer for character row 5</td></tr>
								<tr><td><a href="/source/main/subroutine/screenbufferrow6.html">screenBufferRow6</a></td><td>The screen buffer for character row 6</td></tr>
								<tr><td><a href="/source/main/subroutine/screenbufferrow7.html">screenBufferRow7</a></td><td>The screen buffer for character row 7</td></tr>
								<tr><td><a href="/source/main/subroutine/screenbufferrow8.html">screenBufferRow8</a></td><td>The screen buffer for character row 8</td></tr>
								<tr><td><a href="/source/main/subroutine/screenbufferrow9.html">screenBufferRow9</a></td><td>The screen buffer for character row 9</td></tr>
								<tr><td><a href="/source/main/subroutine/setbufferaddress.html">SetBufferAddress</a></td><td>Set screenBufferAddr(1 0) to the address from which the interrupt handler should fetch new content to scroll onto the screen</td></tr>
								<tr><td><a href="/source/main/subroutine/setcolumnbuffermax.html">SetColumnBufferMax</a></td><td>Set the maximum and minimum pitch angles for the column buffer</td></tr>
								<tr><td><a href="/source/main/subroutine/showbufferblock.html">ShowBufferBlock</a></td><td>Update the player's scrolling landscape view by copying an 8-byte character block from the screen buffer into screen memory</td></tr>
								<tr><td><a href="/source/main/subroutine/showbuffercolumn.html">ShowBufferColumn</a></td><td>Update the player's scrolling landscape view by copying a 2-pixel wide column from the screen buffer into screen memory</td></tr>
								<tr><td><a href="/source/main/subroutine/showbufferrow.html">ShowBufferRow</a></td><td>Update the player's scrolling landscape view by copying an 8-pixel high character row from the screen buffer into screen memory</td></tr>
								<tr><td><a href="/source/main/subroutine/showiconbuffer.html">ShowIconBuffer</a></td><td>Display the redrawn icon and scanner row by copying the contents of the icon screen buffer into screen memory</td></tr>
								<tr><td><a href="/source/main/subroutine/showscreenbuffer.html">ShowScreenBuffer</a></td><td>Update the player's scrolling landscape view by copying the relevant parts of the screen buffer into screen memory</td></tr>
								<tr><td><a href="/source/main/subroutine/startscrollingview.html">StartScrollingView</a></td><td>Start a scroll process in the background by setting the number of scroll steps and the address to start copying new content from</td></tr>
								<tr><td><a href="/source/main/subroutine/usecolumnbuffer.html">UseColumnBuffer</a></td><td>Configure the column buffer for use</td></tr>
								<tr><td><a href="/source/main/subroutine/userowbuffer.html">UseRowBuffer</a></td><td>Configure the row buffer for use</td></tr>
								<tr class="blank"><td colspan="2"><a id="setup" class="anchor"></a><h2 class="articleSubheader">Setup<br>-----</h2></td></tr>
								<tr><td><a href="/source/main/subroutine/clearmemory.html">ClearMemory</a></td><td>Clear game memory, so that the BREAK key can remove all trace of the game code in early versions of the operating system</td></tr>
								<tr><td><a href="/source/main/subroutine/configuremachine.html">ConfigureMachine</a></td><td>Configure the custom screen mode, set the break handler to clear memory, move code, reset timers and set the interrupt handler</td></tr>
								<tr><td><a href="/source/main/subroutine/entry.html">Entry</a></td><td>The main entry point for the game</td></tr>
								<tr><td><a href="/source/main/subroutine/nmihandler.html">NMIHandler</a></td><td>The NMI handler at the start of the NMI workspace</td></tr>
								<tr class="blank"><td colspan="2"><a id="sights" class="anchor"></a><h2 class="articleSubheader">Sights<br>------</h2></td></tr>
								<tr><td><a href="/source/main/subroutine/drawsights.html">DrawSights</a></td><td>Draw the sights on the screen, saving the existing screen contents in the sights pixel byte stash</td></tr>
								<tr><td><a href="/source/main/subroutine/initialisesights.html">InitialiseSights</a></td><td>Initialise the variables used to manage the sights, so the sights appear in the middle of the screen</td></tr>
								<tr><td><a href="/source/main/subroutine/movesights.html">MoveSights</a></td><td>Check for up/down/left/right key presses and move the sights accordingly, panning the screen if they go past the screen edges</td></tr>
								<tr><td><a href="/source/main/subroutine/movesightssideways.html">MoveSightsSideways</a></td><td>Check for the left/right keys and move the sights accordingly, panning to the left or right if they go past the screen edges</td></tr>
								<tr><td><a href="/source/main/subroutine/movesightsupdown.html">MoveSightsUpDown</a></td><td>Check for the up/down keys and move the sights accordingly, panning up or down if they go past the screen edges</td></tr>
								<tr><td><a href="/source/main/subroutine/removesights.html">RemoveSights</a></td><td>Remove the sights from the screen</td></tr>
								<tr><td><a href="/source/main/subroutine/setsightsaddress.html">sadr3</a></td><td>Contains an RTS</td></tr>
								<tr><td><a href="/source/main/subroutine/setsightsaddress.html">SetSightsAddress</a></td><td>Update the address variables for the sights when they move into a new character block or row</td></tr>
								<tr class="blank"><td colspan="2"><a id="sound" class="anchor"></a><h2 class="articleSubheader">Sound<br>-----</h2></td></tr>
								<tr><td><a href="/source/main/subroutine/defineenvelope.html">DefineEnvelope</a></td><td>Define a sound envelope</td></tr>
								<tr><td><a href="/source/main/subroutine/flushsoundbuffer0.html">FlushSoundBuffer0</a></td><td>Flush the sound channel 0 buffer</td></tr>
								<tr><td><a href="/source/main/subroutine/flushsoundbuffers.html">FlushSoundBuffers</a></td><td>Flush all four sound channel buffers</td></tr>
								<tr><td><a href="/source/main/subroutine/makesound.html">MakeSound</a></td><td>Make a sound</td></tr>
								<tr><td><a href="/source/main/subroutine/makesound.html">MakeSound-6</a></td><td>Make a two-part sound at the pitches defined in X and Y, where X is the pitch for sound data block #0 and Y is the pitch for sound data block #1</td></tr>
								<tr><td><a href="/source/main/subroutine/makesoundenvelope.html">MakeSoundEnvelope</a></td><td>Either make a sound or set up an envelope</td></tr>
								<tr><td><a href="/source/main/subroutine/playmusic.html">PlayMusic</a></td><td>Play a piece of music</td></tr>
								<tr><td><a href="/source/main/subroutine/processmusic.html">ProcessMusic</a></td><td>Play the configured music in the background</td></tr>
								<tr><td><a href="/source/main/subroutine/processsound.html">ProcessSound</a></td><td>Process any sound effects that have been configured so they play in the background (this is called regularly throughout gameplay)</td></tr>
								<tr><td><a href="/source/main/subroutine/processvolumekeys.html">ProcessVolumeKeys</a></td><td>Adjust the volume of the sound envelopes when the volume keys are pressed</td></tr>
								<tr class="blank"><td colspan="2"><a id="text" class="anchor"></a><h2 class="articleSubheader">Text<br>----</h2></td></tr>
								<tr><td><a href="/source/main/subroutine/digittonumber.html">DigitToNumber</a></td><td>Convert a digit from the input buffer into a number</td></tr>
								<tr><td><a href="/source/main/subroutine/print2digitbcd.html">Print2DigitBCD</a></td><td>Print a binary coded decimal (BCD) number using two digits</td></tr>
								<tr><td><a href="/source/main/subroutine/printcharacter.html">PrintCharacter</a></td><td>Print a single-byte VDU command or character from a text token, optionally printing a drop shadow if the character is alphanumeric</td></tr>
								<tr><td><a href="/source/main/subroutine/printdigit.html">PrintDigit</a></td><td>Print a numerical digit, printing zero as a capital "O"</td></tr>
								<tr><td><a href="/source/main/subroutine/printinputbuffer.html">PrintInputBuffer</a></td><td>Print the contents of the keyboard input buffer</td></tr>
								<tr><td><a href="/source/main/subroutine/printlandscapenum.html">PrintLandscapeNum</a></td><td>Print the four-digit landscape number (0000 to 9999)</td></tr>
								<tr><td><a href="/source/main/subroutine/printnumber.html">PrintNumber</a></td><td>Print a number as a single digit, printing zero as a capital "O"</td></tr>
								<tr><td><a href="/source/main/subroutine/printtexttoken.html">PrintTextToken</a></td><td>Print a recursive text token</td></tr>
								<tr><td><a href="/source/main/subroutine/printvducharacter.html">PrintVduCharacter</a></td><td>Print a one-byte character from a text token or a multi-byte VDU 25 command</td></tr>
								<tr><td><a href="/source/main/subroutine/processcharacter.html">ProcessCharacter</a></td><td>Process and print a character from a text token, which can encode another text token or be a one-byte character or VDU command</td></tr>
								<tr><td><a href="/source/main/subroutine/stringtonumber.html">StringToNumber</a></td><td>Convert a string of ASCII digits in the input buffer in-place into a multi-byte BCD number</td></tr>
								<tr class="blank"><td colspan="2"><a id="title-screen" class="anchor"></a><h2 class="articleSubheader">Title screen<br>------------</h2></td></tr>
								<tr><td><a href="/source/main/subroutine/drawtitleobject.html">DrawTitleObject</a></td><td>Draw an object on the title screen</td></tr>
								<tr><td><a href="/source/main/subroutine/drawtitleobjects.html">DrawTitleObjects</a></td><td>Draw an object on top of a tower on the title screen</td></tr>
								<tr><td><a href="/source/main/subroutine/drawtitlescreen.html">DrawTitleScreen</a></td><td>Draw the title screen or the screen showing the secret code</td></tr>
								<tr><td><a href="/source/main/subroutine/drawtitleview.html">DrawTitleView</a></td><td>Draw the main title screen, the secret code screen or the landscape preview</td></tr>
								<tr><td><a href="/source/main/subroutine/showgameoverscreen.html">ShowGameOverScreen</a></td><td>Display the game over screen</td></tr>
								<tr><td><a href="/source/main/subroutine/spawncharacter3d_part_1_of_2.html">SpawnCharacter3D (Part 1 of 2)</a></td><td>Spawn a character on the landscape in large 3D blocks for drawing on the main title screen or secret code screen</td></tr>
								<tr><td><a href="/source/main/subroutine/spawncharacter3d_part_2_of_2.html">SpawnCharacter3D (Part 2 of 2)</a></td><td>Spawn large 3D blocks for the extracted character definition</td></tr>
								<tr><td><a href="/source/main/subroutine/spawnsecretcode3d.html">SpawnSecretCode3D</a></td><td>Draw the landscape's secret code by spawning a set of large 3D text block objects</td></tr>
								<tr><td><a href="/source/main/subroutine/spawntitleobject.html">SpawnTitleObject</a></td><td>Spawn the title object (robot or the Sentinel) as object #1</td></tr>
							</tbody>
						</table>
					</div>
				</div>

				<div class="codeBlockWrapper nav">
					<nav class="codeBlock previousNext"><a class="previous" rel="prev" title="Previous routine" href="/source/articles/source_code_cross-references.html">Source code cross-references</a><a class="next" rel="next" title="Next routine" href="/source/indexes/variables.html">List of all variables</a></nav>
				</div>
			</article>

<?php
include_once("../../templates_local/navigation.php");
?>
		</div>
	</body>
</html>
