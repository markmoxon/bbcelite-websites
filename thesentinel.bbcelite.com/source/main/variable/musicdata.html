<?php
include_once("../../../templates/template_functions.php");
page_header("sound", "variable_musicdata.html", "The musicData variable", "Sound: musicData", "Annotated code for the musicData variable in The Sentinel", "the_sentinel-code", "source_sound", "variable_musicdata", "");
?>
				<div class="codeBlockWrapper nav">
					<nav class="codeBlock previousNext"><a class="previous" rel="prev" title="Previous routine" href="/source/main/variable/token17.html">token17</a><a class="next" rel="next" title="Next routine" href="/source/main/variable/icondata.html">iconData</a></nav>
				</div>

				<div class="codeBlockWrapper">
<pre class="codeBlock sourceCode initial"><div class="headerBlockWrapper"><div class="headerBlock"><span class="headerLabel">       Name:</span> <span class="headerEntry">musicData</span>                                               <span class="routineLink">[<a class="extraDataLink" href="#">Show more</a>]</span>
<span class="headerLabel">       Type:</span> <span class="headerEntry">Variable</span>
<span class="headerLabel">   Category:</span> <span class="headerEntry">Sound</span>
<span class="headerLabel">    Summary:</span> <span class="headerEntry">Data for the game's music</span>
<div class="extraData"><span class="headerLabel">    Context:</span> <span class="headerEntry">See this variable <a href="/source/all/the_sentinel_i.html#header-musicdata">in context in the source code</a></span>
<span class="headerLabel"> References:</span> <span class="headerEntry">This variable is used as follows:</span>
             <span class="headerEntry">* <a href="/source/main/subroutine/processmusic.html">ProcessMusic</a> uses <a href="#musicdata">musicData</a></span>
</div>
<hr class="light">
 Music data is as follows:

   * If a value is 200 + x, then the sound counter for all the following notes
     is set to 4 * x, measured in 1/50 second (i.e. calls to the interrupt
     handler)

   * Otherwise the value is the pitch of the note to play

 Each note is played on a separate tone channel, working through channels 1 to
 3 in sequence.

 Setting the sound counter stops ProcessSound from doing anything until the
 counter runs down. This means that the last three notes are played together,
 so we can play three-note chords by playing two notes with a counter of zero,
 followed by a third note with the counter set to the duration of the chord.

 Setting the counter to zero for the last chord in a piece of music ensures
 that the last chords plays until it naturally decays according to the sound
 envelope for sound #3.

</div></div>
<span class="label">.musicData</span><a id="musicdata" class="anchor"></a>

                        <span class="comment">\ Music data offset 0: Hyperspace</span>

 <span class="mne">EQUB</span> <span class="decimal">200</span> <span class="operator">+</span> <span class="decimal">0</span>           <span class="comment">\ Chord 1 = 8, 36, 36 with sound counter 6 * 4 = 24</span>
 <span class="mne">EQUB</span> <span class="decimal">8</span>
 <span class="mne">EQUB</span> <span class="decimal">36</span>
 <span class="mne">EQUB</span> <span class="decimal">200</span> <span class="operator">+</span> <span class="decimal">6</span>
 <span class="mne">EQUB</span> <span class="decimal">36</span>

 <span class="mne">EQUB</span> <span class="decimal">200</span> <span class="operator">+</span> <span class="decimal">0</span>           <span class="comment">\ Chord 2 = 20, 48, 48 with sound counter 6 * 4 = 24</span>
 <span class="mne">EQUB</span> <span class="decimal">20</span>
 <span class="mne">EQUB</span> <span class="decimal">48</span>
 <span class="mne">EQUB</span> <span class="decimal">200</span> <span class="operator">+</span> <span class="decimal">6</span>
 <span class="mne">EQUB</span> <span class="decimal">48</span>

 <span class="mne">EQUB</span> <span class="decimal">200</span> <span class="operator">+</span> <span class="decimal">0</span>           <span class="comment">\ Chord 3 = 28, 56, 56 with sound counter 6 * 4 = 24</span>
 <span class="mne">EQUB</span> <span class="decimal">28</span>
 <span class="mne">EQUB</span> <span class="decimal">56</span>
 <span class="mne">EQUB</span> <span class="decimal">200</span> <span class="operator">+</span> <span class="decimal">6</span>
 <span class="mne">EQUB</span> <span class="decimal">56</span>

 <span class="mne">EQUB</span> <span class="decimal">200</span> <span class="operator">+</span> <span class="decimal">0</span>           <span class="comment">\ Chord 4 = 0, 28, 28 with sound counter 6 * 4 = 24</span>
 <span class="mne">EQUB</span> <span class="decimal">0</span>
 <span class="mne">EQUB</span> <span class="decimal">28</span>
 <span class="mne">EQUB</span> <span class="decimal">200</span> <span class="operator">+</span> <span class="decimal">6</span>
 <span class="mne">EQUB</span> <span class="decimal">28</span>

 <span class="mne">EQUB</span> <span class="decimal">200</span> <span class="operator">+</span> <span class="decimal">0</span>           <span class="comment">\ Chord 5 = 8, 36, 36 with sound counter 0</span>
 <span class="mne">EQUB</span> <span class="decimal">8</span>
 <span class="mne">EQUB</span> <span class="decimal">36</span>
 <span class="mne">EQUB</span> <span class="decimal">36</span>

 <span class="mne">EQUB</span> <span class="hex">&FF</span>               <span class="comment">\ End of music data</span>

                        <span class="comment">\ Music data offset 25: Transfer into a new robot</span>
                        <span class="comment">\</span>
                        <span class="comment">\ Note that the transfer music plays the U-turn music as</span>
                        <span class="comment">\ its last two chords, as there is no terminator after</span>
                        <span class="comment">\ chord 2 below</span>

 <span class="mne">EQUB</span> <span class="decimal">200</span> <span class="operator">+</span> <span class="decimal">0</span>           <span class="comment">\ Chord 1 = 8, 36, 36 with sound counter 6 * 4 = 24</span>
 <span class="mne">EQUB</span> <span class="decimal">8</span>
 <span class="mne">EQUB</span> <span class="decimal">36</span>
 <span class="mne">EQUB</span> <span class="decimal">200</span> <span class="operator">+</span> <span class="decimal">6</span>
 <span class="mne">EQUB</span> <span class="decimal">36</span>

 <span class="mne">EQUB</span> <span class="decimal">200</span> <span class="operator">+</span> <span class="decimal">0</span>           <span class="comment">\ Chord 2 = 20, 48, 48 with sound counter 6 * 4 = 24</span>
 <span class="mne">EQUB</span> <span class="decimal">20</span>
 <span class="mne">EQUB</span> <span class="decimal">48</span>
 <span class="mne">EQUB</span> <span class="decimal">200</span> <span class="operator">+</span> <span class="decimal">6</span>
 <span class="mne">EQUB</span> <span class="decimal">48</span>

 <span class="mne">EQUB</span> <span class="decimal">200</span> <span class="operator">+</span> <span class="decimal">0</span>           <span class="comment">\ Chord 2 = 16, 44, 44 with sound counter 6 * 4 = 24</span>
 <span class="mne">EQUB</span> <span class="decimal">16</span>
 <span class="mne">EQUB</span> <span class="decimal">44</span>
 <span class="mne">EQUB</span> <span class="decimal">200</span> <span class="operator">+</span> <span class="decimal">6</span>
 <span class="mne">EQUB</span> <span class="decimal">44</span>

                        <span class="comment">\ Music data offset 25: U-turn</span>

 <span class="mne">EQUB</span> <span class="decimal">200</span> <span class="operator">+</span> <span class="decimal">0</span>           <span class="comment">\ Chord 1 = 0, 28, 28 with sound counter 6 * 4 = 24</span>
 <span class="mne">EQUB</span> <span class="decimal">0</span>
 <span class="mne">EQUB</span> <span class="decimal">28</span>
 <span class="mne">EQUB</span> <span class="decimal">200</span> <span class="operator">+</span> <span class="decimal">6</span>
 <span class="mne">EQUB</span> <span class="decimal">28</span>

 <span class="mne">EQUB</span> <span class="decimal">200</span> <span class="operator">+</span> <span class="decimal">0</span>           <span class="comment">\ Chord 2 = 8, 36, 36 with sound counter 0</span>
 <span class="mne">EQUB</span> <span class="decimal">8</span>
 <span class="mne">EQUB</span> <span class="decimal">36</span>
 <span class="mne">EQUB</span> <span class="decimal">36</span>

 <span class="mne">EQUB</span> <span class="hex">&FF</span>               <span class="comment">\ End of music data</span>

                        <span class="comment">\ Music data offset 50: Game over</span>

 <span class="mne">EQUB</span> <span class="decimal">200</span> <span class="operator">+</span> <span class="decimal">4</span>           <span class="comment">\ Note 1 = 8 with sound counter 4 * 4 = 16</span>
 <span class="mne">EQUB</span> <span class="decimal">8</span>

 <span class="mne">EQUB</span> <span class="decimal">36</span>                <span class="comment">\ Note 2 = 36 with sound counter 4 * 4 = 16</span>

 <span class="mne">EQUB</span> <span class="decimal">64</span>                <span class="comment">\ Note 3 = 64 with sound counter 4 * 4 = 16</span>

 <span class="mne">EQUB</span> <span class="decimal">68</span>                <span class="comment">\ Note 4 = 68 with sound counter 4 * 4 = 16</span>

 <span class="mne">EQUB</span> <span class="decimal">200</span> <span class="operator">+</span> <span class="decimal">15</span>          <span class="comment">\ Note 5 = 8 with sound counter 15 * 4 = 60</span>
 <span class="mne">EQUB</span> <span class="decimal">84</span>

 <span class="mne">EQUB</span> <span class="decimal">200</span> <span class="operator">+</span> <span class="decimal">1</span>           <span class="comment">\ Arpeggiated chord of five short notes, each with</span>
 <span class="mne">EQUB</span> <span class="decimal">104</span>               <span class="comment">\ sound counter 1 * 4 = 4:g</span>
 <span class="mne">EQUB</span> <span class="decimal">84</span>                <span class="comment">\</span>
 <span class="mne">EQUB</span> <span class="decimal">68</span>                <span class="comment">\ 104, 84, 68, 64, 36</span>
 <span class="mne">EQUB</span> <span class="decimal">64</span>
 <span class="mne">EQUB</span> <span class="decimal">36</span>

 <span class="mne">EQUB</span> <span class="decimal">200</span> <span class="operator">+</span> <span class="decimal">12</span>          <span class="comment">\ Final note = 8 with counter 15 * 4 = 48</span>
 <span class="mne">EQUB</span> <span class="decimal">8</span>

 <span class="mne">EQUB</span> <span class="hex">&FF</span>               <span class="comment">\ End of music data</span>

                        <span class="comment">\ Music data offset 66: Landscape successfully finished</span>

 <span class="mne">EQUB</span> <span class="decimal">200</span> <span class="operator">+</span> <span class="decimal">1</span>           <span class="comment">\ Chord 1 = 8, 36, 36 with sound counter 12 * 4 = 48 and</span>
 <span class="mne">EQUB</span> <span class="decimal">8</span>                 <span class="comment">\ the first two notes each introduced with a counter of</span>
 <span class="mne">EQUB</span> <span class="decimal">36</span>                <span class="comment">\ 1 * 4 = 4</span>
 <span class="mne">EQUB</span> <span class="decimal">200</span> <span class="operator">+</span> <span class="decimal">12</span>
 <span class="mne">EQUB</span> <span class="decimal">36</span>

 <span class="mne">EQUB</span> <span class="decimal">200</span> <span class="operator">+</span> <span class="decimal">1</span>           <span class="comment">\ Chord 2 = 0, 28, 28 with sound counter 5 * 4 = 20 and</span>
 <span class="mne">EQUB</span> <span class="decimal">0</span>                 <span class="comment">\ the first two notes each introduced with a counter of</span>
 <span class="mne">EQUB</span> <span class="decimal">28</span>                <span class="comment">\ 1 * 4 = 4</span>
 <span class="mne">EQUB</span> <span class="decimal">200</span> <span class="operator">+</span> <span class="decimal">5</span>
 <span class="mne">EQUB</span> <span class="decimal">28</span>

 <span class="mne">EQUB</span> <span class="decimal">200</span> <span class="operator">+</span> <span class="decimal">1</span>           <span class="comment">\ Chord 3 = 28, 56, 56 with sound counter 6 * 4 = 24 and</span>
 <span class="mne">EQUB</span> <span class="decimal">28</span>                <span class="comment">\ the first two notes each introduced with a counter of</span>
 <span class="mne">EQUB</span> <span class="decimal">56</span>                <span class="comment">\ 1 * 4 = 4</span>
 <span class="mne">EQUB</span> <span class="decimal">200</span> <span class="operator">+</span> <span class="decimal">6</span>
 <span class="mne">EQUB</span> <span class="decimal">56</span>

 <span class="mne">EQUB</span> <span class="decimal">200</span> <span class="operator">+</span> <span class="decimal">1</span>           <span class="comment">\ Chord 4 = 20, 48, 48 with sound counter 7 * 4 = 28 and</span>
 <span class="mne">EQUB</span> <span class="decimal">20</span>                <span class="comment">\ the first two notes each introduced with a counter of</span>
 <span class="mne">EQUB</span> <span class="decimal">48</span>                <span class="comment">\ 1 * 4 = 4</span>
 <span class="mne">EQUB</span> <span class="decimal">200</span> <span class="operator">+</span> <span class="decimal">7</span>
 <span class="mne">EQUB</span> <span class="decimal">48</span>

 <span class="mne">EQUB</span> <span class="decimal">200</span> <span class="operator">+</span> <span class="decimal">1</span>           <span class="comment">\ Chord 5 = 16, 28, 28 with sound counter 9 * 4 = 36 and</span>
 <span class="mne">EQUB</span> <span class="decimal">16</span>                <span class="comment">\ the first two notes each introduced with a counter of</span>
 <span class="mne">EQUB</span> <span class="decimal">28</span>                <span class="comment">\ 1 * 4 = 4</span>
 <span class="mne">EQUB</span> <span class="decimal">200</span> <span class="operator">+</span> <span class="decimal">9</span>
 <span class="mne">EQUB</span> <span class="decimal">28</span>

 <span class="mne">EQUB</span> <span class="decimal">200</span> <span class="operator">+</span> <span class="decimal">1</span>           <span class="comment">\ Chord 6 = 8, 36, 36 with sound counter 1 * 4 = 1 and</span>
 <span class="mne">EQUB</span> <span class="decimal">8</span>                 <span class="comment">\ the first two notes each introduced with a counter of</span>
 <span class="mne">EQUB</span> <span class="decimal">36</span>                <span class="comment">\ 1 * 4 = 4</span>
 <span class="mne">EQUB</span> <span class="decimal">36</span>

 <span class="mne">EQUB</span> <span class="hex">&FF</span>               <span class="comment">\ End of music data</span>
</pre>
				</div>

				<div class="codeBlockWrapper nav">
					<nav class="codeBlock previousNext"><a class="previous" rel="prev" title="Previous routine" href="/source/main/variable/token17.html">token17</a><a class="next" rel="next" title="Next routine" href="/source/main/variable/icondata.html">iconData</a></nav>
				</div>
			</article>

<?php
include_once("../../../templates_local/navigation.php");
?>
		</div>
	</body>
</html>
