<?php
include_once("../../../templates/template_functions.php");
page_header("keyboard", "subroutine_checkforkeypresses.html", "The CheckForKeyPresses subroutine", "Keyboard: CheckForKeyPresses", "Annotated code for the CheckForKeyPresses subroutine in The Sentinel", "the_sentinel-code", "source_keyboard", "subroutine_checkforkeypresses", "");
?>
				<div class="codeBlockWrapper nav">
					<nav class="codeBlock previousNext"><a class="previous" rel="prev" title="Previous routine" href="/source/main/subroutine/resettilesobjects.html">ResetTilesObjects</a><a class="next" rel="next" title="Next routine" href="/source/main/subroutine/focusonkeyaction.html">FocusOnKeyAction</a></nav>
				</div>

				<div class="codeBlockWrapper">
<pre class="codeBlock sourceCode initial"><div class="headerBlockWrapper"><div class="headerBlock"><span class="headerLabel">       Name:</span> <span class="headerEntry">CheckForKeyPresses</span>                                      <span class="routineLink">[<a class="extraDataLink" href="#">Show more</a>]</span>
<span class="headerLabel">       Type:</span> <span class="headerEntry">Subroutine</span>
<span class="headerLabel">   Category:</span> <span class="headerEntry">Keyboard</span>
<span class="headerLabel">    Summary:</span> <span class="headerEntry">Check for various game key presses and update the key logger and</span>
             <span class="headerEntry">relevant variables (during the interrupt handler)</span>
<div class="extraData"><span class="headerLabel">    Context:</span> <span class="headerEntry">See this subroutine <a href="/source/all/the_sentinel_b.html#header-checkforkeypresses">in context in the source code</a></span>
<span class="headerLabel"> References:</span> <span class="headerEntry">This subroutine is called as follows:</span>
             <span class="headerEntry">* <a href="/source/main/subroutine/irqhandler.html">IRQHandler</a> calls <a href="#checkforkeypresses">CheckForKeyPresses</a></span>
</div>
</div></div>
<span class="label">.CheckForKeyPresses</span><a id="checkforkeypresses" class="anchor"></a>

 <span class="mne">LDA</span> <span class="hash">#</span><span class="binary">%10000000</span>         <span class="comment">\ Set bit 7 of panKeyBeingPressed to indicate that no</span>
 <span class="mne">STA</span> <a class="popup variable">panKeyBeingPressed</a> <span class="comment">\ pan key is being pressed (we will update this below</span>
                        <span class="comment">\ if a pan key is being pressed)</span>

 <span class="mne">LDX</span> <span class="hash">#</span><span class="hex">&8E</span>               <span class="comment">\ Scan the keyboard to see if function key f1 is being</span>
 <span class="mne">JSR</span> <a class="popup destination">ScanKeyboard</a>       <span class="comment">\ pressed ("Quit game")</span>

 <span class="mne">BNE</span> <a class="popup destination">ckey1</a>              <span class="comment">\ If function key f1 is not being pressed, jump to ckey1</span>
                        <span class="comment">\ to skip the following</span>

 <span class="mne">SEC</span>                    <span class="comment">\ Function key f1 is not being pressed, which quits the</span>
 <span class="mne">ROR</span> <a class="popup variable">quitGame</a>           <span class="comment">\ game, so set bit 7 of quitGame so that when we return</span>
                        <span class="comment">\ to the start of the main game loop it jumps to the</span>
                        <span class="comment">\ main title loop to restart the game</span>

<span class="label">.ckey1</span><a id="ckey1" class="anchor"></a>

 <span class="mne">LDX</span> <span class="hash">#</span><span class="hex">&9D</span>               <span class="comment">\ Scan the keyboard to see if SPACE is being pressed</span>
 <span class="mne">JSR</span> <a class="popup destination">ScanKeyboard</a>       <span class="comment">\ ("Toggle sights on/off")</span>

 <span class="mne">BNE</span> <a class="popup destination">ckey4</a>              <span class="comment">\ If SPACE is not being pressed, jump to ckey4 to reset</span>
                        <span class="comment">\ the value of spaceKeyDebounce to flag that SPACE is</span>
                        <span class="comment">\ not being pressed</span>

                        <span class="comment">\ If we get here then SPACE is being pressed</span>

 <span class="mne">LDA</span> <a class="popup variable">spaceKeyDebounce</a>   <span class="comment">\ If spaceKeyDebounce is non-zero then we have already</span>
 <span class="mne">BNE</span> <a class="popup destination">ckey6</a>              <span class="comment">\ toggled the sights but the player is still holding</span>
                        <span class="comment">\ down SPACE, so jump to ckey6 to avoid toggling the</span>
                        <span class="comment">\ sights again</span>

 <span class="mne">LDA</span> <a class="popup variable">sightsAreVisible</a>   <span class="comment">\ Flip bit 7 of sightsAreVisible to toggle the sights on</span>
 <span class="mne">EOR</span> <span class="hash">#</span><span class="binary">%10000000</span>         <span class="comment">\ and off</span>
 <span class="mne">STA</span> <a class="popup variable">sightsAreVisible</a>

 <span class="mne">BPL</span> <a class="popup destination">ckey2</a>              <span class="comment">\ If bit 7 is now clear then we just turned the sights</span>
                        <span class="comment">\ off, so jump to ckey2 to remove them from the screen</span>

                        <span class="comment">\ Otherwise bit 7 is now set, so we need to show the</span>
                        <span class="comment">\ sights</span>

 <span class="mne">JSR</span> <a class="popup destination">InitialiseSights</a>   <span class="comment">\ Initialise the variables used to manage the sights, so</span>
                        <span class="comment">\ the sights appear in the middle of the screen</span>

 <span class="mne">JSR</span> <a class="popup destination">DrawSights</a>         <span class="comment">\ Draw the sights on the screen</span>

 <span class="mne">JMP</span> <a class="popup destination">ckey3</a>              <span class="comment">\ Jump to ckey3 to skip the following</span>

<span class="label">.ckey2</span><a id="ckey2" class="anchor"></a>

 <span class="mne">JSR</span> <a class="popup destination">RemoveSights</a>       <span class="comment">\ Remove the sights from the screen</span>

<span class="label">.ckey3</span><a id="ckey3" class="anchor"></a>

 <span class="mne">LDA</span> <span class="hash">#</span><span class="binary">%10000000</span>         <span class="comment">\ Set bit 7 of A to store in spaceKeyDebounce, to flag</span>
                        <span class="comment">\ that we have toggled the sights (so we can make sure</span>
                        <span class="comment">\ we don't keep toggling the sights if SPACE is being</span>
                        <span class="comment">\ held down)</span>

 <span class="mne">BNE</span> <a class="popup destination">ckey5</a>              <span class="comment">\ Jump to ckey5 to set spaceKeyDebounce to the value of</span>
                        <span class="comment">\ A in (this BNE is effectively a JMP as A is never</span>
                        <span class="comment">\ zero)</span>

<span class="label">.ckey4</span><a id="ckey4" class="anchor"></a>

                        <span class="comment">\ If we get here then SPACE is not being pressed</span>

 <span class="mne">LDA</span> <span class="hash">#</span><span class="decimal">0</span>                 <span class="comment">\ Clear bit 7 of spaceKeyDebounce to record that SPACE</span>
                        <span class="comment">\ is not being pressed</span>

<span class="label">.ckey5</span><a id="ckey5" class="anchor"></a>

 <span class="mne">STA</span> <a class="popup variable">spaceKeyDebounce</a>   <span class="comment">\ Set spaceKeyDebounce to the value of A, so we record</span>
                        <span class="comment">\ whether or not SPACE is being pressed to make sure</span>
                        <span class="comment">\ we don't keep toggling the sights if SPACE is held</span>
                        <span class="comment">\ down</span>

<span class="label">.ckey6</span><a id="ckey6" class="anchor"></a>

 <span class="mne">LDY</span> <span class="hash">#</span><span class="decimal">14</span>                <span class="comment">\ Scan the keyboard for all 14 game keys in the gameKeys</span>
 <span class="mne">JSR</span> <a class="popup destination">ScanForGameKeys</a>    <span class="comment">\ table</span>

 <span class="mne">BPL</span> <a class="popup destination">ckey7</a>              <span class="comment">\ ScanForGameKeys will clear bit 7 of the result if at</span>
                        <span class="comment">\ least one pan key is being pressed, in which case jump</span>
                        <span class="comment">\ to ckey7 to skip the following, so pan keys take</span>
                        <span class="comment">\ precedence over the other game keys (which are ignored</span>
                        <span class="comment">\ while panning is taking place)</span>

                        <span class="comment">\ If we get here then no pan keys are being pressed</span>

 <span class="mne">LDA</span> <span class="hash">#</span><span class="binary">%01101011</span>         <span class="comment">\ Set a bit pattern in sightsInitialMoves to control the</span>
 <span class="mne">STA</span> <a class="popup variable">sightsInitialMoves</a> <span class="comment">\ initial movement of the sights when a pan key is</span>
                        <span class="comment">\ pressed and held down</span>
                        <span class="comment">\</span>
                        <span class="comment">\ Specifically, this value is shifted left once on each</span>
                        <span class="comment">\ call to this routine, with a zero shifted into bit 0,</span>
                        <span class="comment">\ and we only move the sights when a zero is shifted out</span>
                        <span class="comment">\ of bit 7</span>
                        <span class="comment">\</span>
                        <span class="comment">\ This means that when we start moving the sights, they</span>
                        <span class="comment">\ move like this, with each step happening on one call</span>
                        <span class="comment">\ of the interrupt handler:</span>
                        <span class="comment">\</span>
                        <span class="comment">\   0 = Move</span>
                        <span class="comment">\   1 = Pause</span>
                        <span class="comment">\   1 = Pause</span>
                        <span class="comment">\   0 = Move</span>
                        <span class="comment">\   1 = Pause</span>
                        <span class="comment">\   0 = Move</span>
                        <span class="comment">\   1 = Pause</span>
                        <span class="comment">\   1 = Pause</span>
                        <span class="comment">\</span>
                        <span class="comment">\ ...and then we move on every subsequent shift, as by</span>
                        <span class="comment">\ now all bits of sightsInitialMoves are clear</span>
                        <span class="comment">\</span>
                        <span class="comment">\ This means the sights move more slowly at the start,</span>
                        <span class="comment">\ with a slight judder, before speeding up fully after</span>
                        <span class="comment">\ eight steps (so this applies a bit of inertia to the</span>
                        <span class="comment">\ movement of the sights)</span>

 <span class="mne">LDA</span> <a class="popup variable">keyLogger</a><span class="operator">+</span><span class="decimal">1</span>        <span class="comment">\ Set A to the key logger entry for "A", "Q", "R", "T",</span>
                        <span class="comment">\ "B", "H", or "U" (absorb, transfer, create robot,</span>
                        <span class="comment">\ create tree, create boulder, hyperspace, U-turn)</span>

 <span class="mne">BPL</span> <a class="popup destination">FocusOnKeyAction</a>   <span class="comment">\ If there is a key press in the key logger entry, jump</span>
                        <span class="comment">\ to FocusOnKeyAction to start focusing effort on</span>
                        <span class="comment">\ implementing the relevant action after returning from</span>
                        <span class="comment">\ the subroutine using a tail call</span>

                        <span class="comment">\ If we get here then the player is not pressing "A",</span>
                        <span class="comment">\ "Q", "R", "T", "B", "H", or "U" (absorb, transfer,</span>
                        <span class="comment">\ create robot, create tree, create boulder, hyperspace,</span>
                        <span class="comment">\ U-turn)</span>

 <span class="mne">LDA</span> <span class="hash">#</span><span class="binary">%01000000</span>         <span class="comment">\ Set bit 6 of uTurnStatus so that when the "U" key is</span>
 <span class="mne">STA</span> <a class="popup variable">uTurnStatus</a>        <span class="comment">\ next pressed, this will trigger a U-turn in the</span>
                        <span class="comment">\ ProcessActionKeys routine</span>
                        <span class="comment">\</span>
                        <span class="comment">\ This implements debounce so that holding down "U" will</span>
                        <span class="comment">\ not continuously perform U-turns, and instead the</span>
                        <span class="comment">\ player has to release "U" before they can do a second</span>
                        <span class="comment">\ U-turn</span>
                        <span class="comment">\</span>
                        <span class="comment">\ A U-turn is only performed in ProcessActionKeys when</span>
                        <span class="comment">\ bit 6 of uTurnStatus is set, at which point bit 6 is</span>
                        <span class="comment">\ cleared, and this is the only place where bit 6 is</span>
                        <span class="comment">\ set, so this ensures only one U-turn is performed</span>
                        <span class="comment">\ until we get here again, when "U" has been released</span>

 <span class="mne">BNE</span> <a class="popup destination">focu1</a>              <span class="comment">\ Jump to focu1 to return from the subroutine (this BNE</span>
                        <span class="comment">\ is effectively a JMP as A is never zero)</span>

<span class="label">.ckey7</span><a id="ckey7" class="anchor"></a>

                        <span class="comment">\ If we get here then at least one pan key is being</span>
                        <span class="comment">\ pressed</span>

 <span class="mne">LDX</span> <a class="popup variable">sightsAreVisible</a>   <span class="comment">\ If bit 7 of sightsAreVisible is clear then the sights</span>
 <span class="mne">BPL</span> <a class="popup destination">ckey8</a>              <span class="comment">\ are not being shown, so jump to ckey8 to skip the</span>
                        <span class="comment">\ following, as we don't need to move the sights when</span>
                        <span class="comment">\ they aren't on-screen</span>

                        <span class="comment">\ If we get here then the sights are visible, so the pan</span>
                        <span class="comment">\ keys move the sights rather than panning the view</span>

 <span class="mne">ASL</span> <a class="popup variable">sightsInitialMoves</a> <span class="comment">\ Shift sightsInitialMoves to the left, so we pull the</span>
                        <span class="comment">\ next bit from the pattern that determines the initial</span>
                        <span class="comment">\ movement of the sights</span>

 <span class="mne">BCS</span> <a class="popup destination">focu1</a>              <span class="comment">\ If we shifted a 1 out of bit 7 of sightsInitialMoves,</span>
                        <span class="comment">\ jump to focu1 to return from the subroutine without</span>
                        <span class="comment">\ moving the sights, as a set bit indicates a pause in</span>
                        <span class="comment">\ the initial movement of the sights</span>

 <span class="mne">JSR</span> <a class="popup destination">MoveSights</a>         <span class="comment">\ Move the sights according to the pan key presses in</span>
                        <span class="comment">\ the key logger</span>
                        <span class="comment">\</span>
                        <span class="comment">\ If the player moves the sights off the edge of the</span>
                        <span class="comment">\ screen, this routine will set panKeyBeingPressed to</span>
                        <span class="comment">\ "press" the relevant pan key so that the screen</span>
                        <span class="comment">\ scrolls in the same direction to bring the sights</span>
                        <span class="comment">\ back into view</span>

 <span class="mne">JMP</span> <a class="popup destination">ckey10</a>             <span class="comment">\ Jump to ckey10 to process any pan "key press" from the</span>
                        <span class="comment">\ call to MoveSights</span>

<span class="label">.ckey8</span><a id="ckey8" class="anchor"></a>

 <span class="mne">LDA</span> <a class="popup variable">keyLogger</a>          <span class="comment">\ Set A to the key logger entry for "S" and "D" (pan</span>
                        <span class="comment">\ left, pan right), which are used to move the sights</span>

 <span class="mne">BPL</span> <a class="popup destination">ckey9</a>              <span class="comment">\ If there is a key press in the key logger entry, jump</span>
                        <span class="comment">\ to ckey9 to store this value in panKeyBeingPressed (so</span>
                        <span class="comment">\ panning left or right takes precedence over panning up</span>
                        <span class="comment">\ or down)</span>

 <span class="mne">LDA</span> <a class="popup variable">keyLogger</a><span class="operator">+</span><span class="decimal">2</span>        <span class="comment">\ Set A to the key logger entry for "L" and "," (pan</span>
                        <span class="comment">\ up, pan down), which are used to move the sights</span>

 <span class="mne">BMI</span> <a class="popup destination">focu1</a>              <span class="comment">\ If there is no key press in the key logger entry then</span>
                        <span class="comment">\ no pan keys are being pressed, so jump to focu1 to</span>
                        <span class="comment">\ return from the subroutine without recording a pan key</span>
                        <span class="comment">\ press in panKeyBeingPressed</span>

<span class="label">.ckey9</span><a id="ckey9" class="anchor"></a>

 <span class="mne">STA</span> <a class="popup variable">panKeyBeingPressed</a> <span class="comment">\ Set panKeyBeingPressed to the key logger value of the</span>
                        <span class="comment">\ pan key that's being pressed, as follows:</span>
                        <span class="comment">\</span>
                        <span class="comment">\   * 0 = pan right</span>
                        <span class="comment">\</span>
                        <span class="comment">\   * 1 = pan left</span>
                        <span class="comment">\</span>
                        <span class="comment">\   * 2 = pan up</span>
                        <span class="comment">\</span>
                        <span class="comment">\   * 3 = pan down</span>

<span class="label">.ckey10</span><a id="ckey10" class="anchor"></a>

 <span class="mne">LDA</span> <a class="popup variable">panKeyBeingPressed</a> <span class="comment">\ If bit 7 of panKeyBeingPressed is set then no pan keys</span>
 <span class="mne">BMI</span> <a class="popup destination">focu1</a>              <span class="comment">\ are being pressed, so jump to focu1 to return from the</span>
                        <span class="comment">\ subroutine</span>

 <span class="mne">STA</span> <a class="popup variable">latestPanKeyPress</a>  <span class="comment">\ Set latestPanKeyPress to the key logger value of the</span>
                        <span class="comment">\ pan key that's being pressed, so it contains the most</span>
                        <span class="comment">\ recent pan key press (i.e. the current one)</span>

                        <span class="comment">\ Fall through into FocusOnKeyAction to start focusing</span>
                        <span class="comment">\ effort on the pan that the player wants us to do</span>
</pre>
				</div>

				<div class="codeBlockWrapper popupWrapper" id="popup-drawsights"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="link">Subroutine <a href="/source/main/subroutine/drawsights.html">DrawSights</a> (category: Sights)</div><div class="summary">Draw the sights on the screen, saving the existing screen contents in the sights pixel byte stash</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-focusonkeyaction"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="link">Subroutine <a href="/source/main/subroutine/focusonkeyaction.html">FocusOnKeyAction</a> (category: Keyboard)</div><div class="summary">Tell the game to start focusing effort on the action that has been initiated, such as a pan of the landscape, absorb, transfer etc.</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-initialisesights"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="link">Subroutine <a href="/source/main/subroutine/initialisesights.html">InitialiseSights</a> (category: Sights)</div><div class="summary">Initialise the variables used to manage the sights, so the sights appear in the middle of the screen</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-movesights"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="link">Subroutine <a href="/source/main/subroutine/movesights.html">MoveSights</a> (category: Sights)</div><div class="summary">Check for up/down/left/right key presses and move the sights accordingly, panning the screen if they go past the screen edges</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-removesights"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="link">Subroutine <a href="/source/main/subroutine/removesights.html">RemoveSights</a> (category: Sights)</div><div class="summary">Remove the sights from the screen</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-scanforgamekeys"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="link">Subroutine <a href="/source/main/subroutine/scanforgamekeys.html">ScanForGameKeys</a> (category: Keyboard)</div><div class="summary">Scan for game key presses and update the key logger</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-scankeyboard"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="link">Subroutine <a href="/source/main/subroutine/scankeyboard.html">ScanKeyboard</a> (category: Keyboard)</div><div class="summary">Scan the keyboard for a specific key press</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-ckey1"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Label <a href="/source/main/subroutine/checkforkeypresses.html#ckey1">ckey1</a> is local to this routine</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-ckey10"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Label <a href="/source/main/subroutine/checkforkeypresses.html#ckey10">ckey10</a> is local to this routine</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-ckey2"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Label <a href="/source/main/subroutine/checkforkeypresses.html#ckey2">ckey2</a> is local to this routine</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-ckey3"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Label <a href="/source/main/subroutine/checkforkeypresses.html#ckey3">ckey3</a> is local to this routine</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-ckey4"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Label <a href="/source/main/subroutine/checkforkeypresses.html#ckey4">ckey4</a> is local to this routine</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-ckey5"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Label <a href="/source/main/subroutine/checkforkeypresses.html#ckey5">ckey5</a> is local to this routine</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-ckey6"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Label <a href="/source/main/subroutine/checkforkeypresses.html#ckey6">ckey6</a> is local to this routine</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-ckey7"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Label <a href="/source/main/subroutine/checkforkeypresses.html#ckey7">ckey7</a> is local to this routine</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-ckey8"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Label <a href="/source/main/subroutine/checkforkeypresses.html#ckey8">ckey8</a> is local to this routine</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-ckey9"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Label <a href="/source/main/subroutine/checkforkeypresses.html#ckey9">ckey9</a> is local to this routine</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-focu1"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Entry point <a href="/source/main/subroutine/focusonkeyaction.html#focu1">focu1</a> in subroutine <a href="/source/main/subroutine/focusonkeyaction.html">FocusOnKeyAction</a> (category: Keyboard)</div><div class="summary">Store the current setting of focusOnKeyAction in the previousFocus variable so we can detect (in the ProcessGameplay routine) whether the player is still holding down a pan key after we finish scrolling the screen for the previous pan... and then return from the subroutine</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-keylogger"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/main_variable_workspace.html#keylogger">keyLogger</a> in workspace <a href="/source/main/workspace/main_variable_workspace.html">Main variable workspace</a></div><div class="summary">The four-byte key logger for logging game key presses</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-latestpankeypress"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/main_variable_workspace.html#latestpankeypress">latestPanKeyPress</a> in workspace <a href="/source/main/workspace/main_variable_workspace.html">Main variable workspace</a></div><div class="summary">The key logger value of the latest pan key press, which will either be a current key press or the value from the last pan key press to be made</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-pankeybeingpressed"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/zero_page.html#pankeybeingpressed">panKeyBeingPressed</a> in workspace <a href="/source/main/workspace/zero_page.html">Zero page</a></div><div class="summary">The direction in which the player is currently panning</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-quitgame"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/main_variable_workspace.html#quitgame">quitGame</a> in workspace <a href="/source/main/workspace/main_variable_workspace.html">Main variable workspace</a></div><div class="summary">A flag to record whether the player has pressed function key f1 to quit the game</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-sightsarevisible"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/main_variable_workspace.html#sightsarevisible">sightsAreVisible</a> in workspace <a href="/source/main/workspace/main_variable_workspace.html">Main variable workspace</a></div><div class="summary">Controls whether the sights are being shown</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-sightsinitialmoves"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/main_variable_workspace.html#sightsinitialmoves">sightsInitialMoves</a> in workspace <a href="/source/main/workspace/main_variable_workspace.html">Main variable workspace</a></div><div class="summary">Controls the initial movement of the sights over the first eight calls to the CheckForKeyPresses routine</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-spacekeydebounce"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="link">Variable <a href="/source/main/variable/spacekeydebounce.html">spaceKeyDebounce</a> (category: Keyboard)</div><div class="summary">A variable to flag whether the SPACE key has been pressed, so we can implement debounce</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-uturnstatus"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/main_variable_workspace.html#uturnstatus">uTurnStatus</a> in workspace <a href="/source/main/workspace/main_variable_workspace.html">Main variable workspace</a></div><div class="summary">A flag to record whether we are performing or have just performed a U-turn</div></div></div></div>

				<div class="codeBlockWrapper nav">
					<nav class="codeBlock previousNext"><a class="previous" rel="prev" title="Previous routine" href="/source/main/subroutine/resettilesobjects.html">ResetTilesObjects</a><a class="next" rel="next" title="Next routine" href="/source/main/subroutine/focusonkeyaction.html">FocusOnKeyAction</a></nav>
				</div>
			</article>

<?php
include_once("../../../templates_local/navigation.php");
?>
		</div>
	</body>
</html>
