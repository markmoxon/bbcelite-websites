<?php
include_once("../../../templates/template_functions.php");
page_header("drawing_the_landscape", "subroutine_gettileviewangles_part_1_of_4.html", "The GetTileViewAngles (Part 1 of 4) subroutine", "Drawing the landscape: GetTileViewAngles (Part 1 of 4)", "Annotated code for the GetTileViewAngles (Part 1 of 4) subroutine in The Sentinel", "the_sentinel-code", "source_drawing_the_landscape", "subroutine_gettileviewangles_part_1_of_4", "");
?>
				<div class="codeBlockWrapper nav">
					<nav class="codeBlock previousNext"><a class="previous" rel="prev" title="Previous routine" href="/source/main/subroutine/gettileedgetoright.html">GetTileEdgeToRight</a><a class="next" rel="next" title="Next routine" href="/source/main/subroutine/gettileviewangles_part_2_of_4.html">GetTileViewAngles (Part 2 of 4)</a></nav>
				</div>

				<div class="codeBlockWrapper">
<pre class="codeBlock sourceCode initial"><div class="headerBlockWrapper"><div class="headerBlock"><span class="headerLabel">       Name:</span> <span class="headerEntry">GetTileViewAngles (Part 1 of 4)</span>                         <span class="routineLink">[<a class="extraDataLink" href="#">Show more</a>]</span>
<span class="headerLabel">       Type:</span> <span class="headerEntry">Subroutine</span>
<span class="headerLabel">   Category:</span> <span class="headerEntry">Drawing the landscape</span>
<span class="headerLabel">    Summary:</span> <span class="headerEntry">Calculate the pitch and yaw angles for a tile corner, relative to</span>
             <span class="headerEntry">a viewer object (e.g. the player), and whether it is on-screen</span>
<div class="extraData"><span class="headerLabel">    Context:</span> <span class="headerEntry">See this subroutine <a href="/source/all/the_sentinel_e.html#header-gettileviewangles-part-1-of-4">in context in the source code</a></span>
<span class="headerLabel"> References:</span> <span class="headerEntry">This subroutine is called as follows:</span>
             <span class="headerEntry">* <a href="/source/main/subroutine/drawlandscapeview_part_2_of_3.html">DrawLandscapeView (Part 2 of 3)</a> calls <a href="#gettileviewangles">GetTileViewAngles</a></span>
             <span class="headerEntry">* <a href="/source/main/subroutine/drawlandscapeview_part_3_of_3.html">DrawLandscapeView (Part 3 of 3)</a> calls <a href="#gettileviewangles">GetTileViewAngles</a></span>
             <span class="headerEntry">* <a href="/source/main/subroutine/gettileedgetoleft.html">GetTileEdgeToLeft</a> calls <a href="#gettileviewangles">GetTileViewAngles</a></span>
             <span class="headerEntry">* <a href="/source/main/subroutine/gettileviewedges.html">GetTileViewEdges</a> calls <a href="#gettileviewangles">GetTileViewAngles</a></span>
</div>
<hr class="light">
<span class="subheader"> Arguments:</span>

   <span class="argumentLabel">Y</span>                    <span class="argumentEntry">The tile column of the tile we are analysing, from the</span>
                        <span class="argumentEntry">perspective of the viewer</span>

   <span class="argumentLabel">zTile</span>                <span class="argumentEntry">The tile row of the tile we are analysing, from the</span>
                        <span class="argumentEntry">perspective of the viewer</span>

   <span class="argumentLabel">drawingTableOffset</span>   <span class="argumentEntry">Defines where we store the results of the analysis in</span>
                        <span class="argumentEntry">the tileViewData, tileViewYaw and tileViewPitch drawing</span>
                        <span class="argumentEntry">data tables; each table contains two complete sets of</span>
                        <span class="argumentEntry">tile data, with the first table at offset 0 and the</span>
                        <span class="argumentEntry">second table at offset 32, so we store the results</span>
                        <span class="argumentEntry">as follows:</span>

                        <span class="argumentEntry">  * 0 = store the results in the first table</span>
                        <span class="argumentEntry">        e.g. in the 32-byte table at tileViewData</span>

                        <span class="argumentEntry">  * 32 = store the results in the second table</span>
                        <span class="argumentEntry">        e.g. in the 32-byte table at tileViewData+32</span>

<hr class="light">
<span class="subheader"> Returns:</span>

   <span class="argumentLabel">tileViewData</span>         <span class="argumentEntry">Tile data for this tile corner, stored in the relevant</span>
                        <span class="argumentEntry">entry for this tile corner</span>

   <span class="argumentLabel">drawViewYaw(Hi Lo)</span>   <span class="argumentEntry">The yaw angle, stored in the relevant entry for this</span>
                        <span class="argumentEntry">tile corner</span>

   <span class="argumentLabel">drawViewPitchHi</span>      <span class="argumentEntry">High byte of the pitch angle, stored in the relevant</span>
                        <span class="argumentEntry">entry for this tile corner</span>

   <span class="argumentLabel">drawViewPitchLo</span>      <span class="argumentEntry">Low byte of the pitch angle, stored in the relevant</span>
                        <span class="argumentEntry">entry for this tile corner</span>

   <span class="argumentLabel">tileIsOnScreen</span>       <span class="argumentEntry">Determines whether the tile corner is on-screen (i.e.</span>
                        <span class="argumentEntry">within the max and min yaw angle limits):</span>

                        <span class="argumentEntry">  * %00000000 = tile is not on-screen and is past the</span>
                        <span class="argumentEntry">                left edge of the screen</span>

                        <span class="argumentEntry">  * %10000000 = tile is on-screen</span>

                        <span class="argumentEntry">  * %10000001 = tile is not on-screen and is past the</span>
                        <span class="argumentEntry">                right edge of the screen</span>

   <span class="argumentLabel">A</span>                    <span class="argumentEntry">The value of tileIsOnScreen is also returned in A</span>

   <span class="argumentLabel">Z flag</span>               <span class="argumentEntry">The Z flag is set according to the value of</span>
                        <span class="argumentEntry">tileIsOnScreen, so a BNE or BEQ following the call to</span>
                        <span class="argumentEntry">GetTileViewAngles will act accordingly</span>

   <span class="argumentLabel">C flag</span>               <span class="argumentEntry">The C flag is clear to indicate that we have not gone</span>
                        <span class="argumentEntry">past the end of the tile row, which is used when calling</span>
                        <span class="argumentEntry">this routine via GetTileEdgeToLeft or GetTileEdgeToRight</span>

   <span class="argumentLabel">Y</span>                    <span class="argumentEntry">Y is preserved</span>

</div></div>
<span class="label">.GetTileViewAngles</span><a id="gettileviewangles" class="anchor"></a>

 <span class="mne">STY</span> <a class="popup variable">xTile</a>              <span class="comment">\ Store the tile column in xTile, so we can analyse the</span>
                        <span class="comment">\ tile at (xTile, zTile)</span>

 <span class="mne">STY</span> <a class="popup variable">yStoreTileView</a>     <span class="comment">\ Store Y in yStoreTileView so it can be preserved</span>
                        <span class="comment">\ across calls to the routine</span>

 <span class="mne">TYA</span>                    <span class="comment">\ Set drawingTableIndex = Y + drawingTableOffset</span>
 <span class="mne">ORA</span> <a class="popup variable">drawingTableOffset</a> <span class="comment">\</span>
 <span class="mne">STA</span> <a class="popup variable">drawingTableIndex</a>  <span class="comment">\ So drawingTableIndex is the index into the drawing</span>
                        <span class="comment">\ tables for the tile we are analysing</span>

 <span class="mne">LDA</span> <span class="hash">#</span><span class="decimal">0</span>                 <span class="comment">\ Set tileIsOnScreen = 0, so the default is that the</span>
 <span class="mne">STA</span> <a class="popup variable">tileIsOnScreen</a>     <span class="comment">\ tile is not on-screen (we change this in part 3 if it</span>
                        <span class="comment">\ is on-screen)</span>

 <span class="mne">LDX</span> <a class="popup variable">viewingObject</a>      <span class="comment">\ Set X to the number of the object that is viewing the</span>
                        <span class="comment">\ landscape</span>

                        <span class="comment">\ We start by calculating the difference (the delta) in</span>
                        <span class="comment">\ the x-axis between the viewer and the tile we are</span>
                        <span class="comment">\ analysing</span>

 <span class="mne">LDA</span> <span class="hash">#</span><span class="decimal">128</span>               <span class="comment">\ Set the low byte of xDelta(Hi Lo) to 128</span>
 <span class="mne">STA</span> <a class="popup variable">xDeltaLo</a>

 <span class="mne">CLC</span>                    <span class="comment">\ Set the high byte of xDelta(Hi Lo) to the</span>
 <span class="mne">LDA</span> <a class="popup variable">xTile</a>              <span class="comment">\ following:</span>
 <span class="mne">SBC</span> <a class="popup variable">xTileViewer</a>        <span class="comment">\</span>
 <span class="mne">SEC</span>                    <span class="comment">\   xTile - xTileViewer - 1 - xTitleOffset</span>
 <span class="mne">SBC</span> <a class="popup variable">xTitleOffset</a>       <span class="comment">\</span>
 <span class="mne">STA</span> <a class="popup variable">xDeltaHi</a>           <span class="comment">\ Note that xTitleOffset is zero during gameplay, and is</span>
                        <span class="comment">\ only non-zero when we are drawing large 3D text on the</span>
                        <span class="comment">\ title screen, so let's ignore it for now to keep</span>
                        <span class="comment">\ things simple</span>
                        <span class="comment">\</span>
                        <span class="comment">\ Setting the low byte to 128 effectively adds 0.5 to</span>
                        <span class="comment">\ the result, so we get this:</span>
                        <span class="comment">\</span>
                        <span class="comment">\   xDelta(Hi Lo) = xTile - xTileViewer - 0.5</span>
                        <span class="comment">\</span>
                        <span class="comment">\ So this is the delta along the x-axis between the</span>
                        <span class="comment">\ viewer and the tile that we are analysing</span>

 <span class="mne">BPL</span> <a class="popup destination">tang1</a>              <span class="comment">\ If the result is positive then jump to tang1 to skip</span>
                        <span class="comment">\ the following</span>

 <span class="mne">LDA</span> <span class="hash">#</span><span class="decimal">0</span>                 <span class="comment">\ Negate the result to make it positive, so we now have:</span>
 <span class="mne">SEC</span>                    <span class="comment">\</span>
 <span class="mne">SBC</span> <a class="popup variable">xDeltaLo</a>           <span class="comment">\   (A xDeltaLo) = |xTile - xTileViewer - 0.5|</span>
 <span class="mne">STA</span> <a class="popup variable">xDeltaLo</a>
 <span class="mne">LDA</span> <span class="hash">#</span><span class="decimal">0</span>
 <span class="mne">SBC</span> <a class="popup variable">xDeltaHi</a>

<span class="label">.tang1</span><a id="tang1" class="anchor"></a>

 <span class="mne">STA</span> <a class="popup variable">xDeltaAbsoluteHi</a>   <span class="comment">\ Set xDeltaAbsoluteHi = |xDeltaHi|</span>
                        <span class="comment">\</span>
                        <span class="comment">\ So we now have the absolute z-axis length in:</span>
                        <span class="comment">\</span>
                        <span class="comment">\   (xDeltaAbsoluteHi xDeltaLo)</span>
                        <span class="comment">\</span>
                        <span class="comment">\ and the original high byte of the signed x-axis length</span>
                        <span class="comment">\ is still in xDeltaHi</span>

                        <span class="comment">\ We now do the same thing but for the z-axis, so that</span>
                        <span class="comment">\ zDelta contains the difference (the delta) in the</span>
                        <span class="comment">\ z-axis between the viewer and the tile we are</span>
                        <span class="comment">\ analysing</span>

 <span class="mne">LDA</span> <span class="hash">#</span><span class="decimal">128</span>               <span class="comment">\ Set the low byte of zDelta(Hi Lo) to 128</span>
 <span class="mne">STA</span> <a class="popup variable">zDeltaLo</a>

 <span class="mne">CLC</span>                    <span class="comment">\ Set the high byte of zDelta(Hi Lo) to the</span>
 <span class="mne">LDA</span> <a class="popup variable">zTile</a>              <span class="comment">\ following:</span>
 <span class="mne">SBC</span> <a class="popup variable">zTileViewer</a>        <span class="comment">\</span>
 <span class="mne">STA</span> <a class="popup variable">zDeltaHi</a>           <span class="comment">\   zTile - zTileViewer - 1</span>
                        <span class="comment">\</span>
                        <span class="comment">\ Setting the low byte to 128 effectively adds 0.5 to</span>
                        <span class="comment">\ the result, so we get this:</span>
                        <span class="comment">\</span>
                        <span class="comment">\   zDelta(Hi Lo) = zTile - zTileViewer - 0.5</span>
                        <span class="comment">\</span>
                        <span class="comment">\ So this is the delta along the z-axis between the</span>
                        <span class="comment">\ viewer and the tile that we are analysing</span>

 <span class="mne">BPL</span> <a class="popup destination">tang2</a>              <span class="comment">\ If the result is positive then jump to tang2 to skip</span>
                        <span class="comment">\ the following</span>

 <span class="mne">LDA</span> <span class="hash">#</span><span class="decimal">0</span>                 <span class="comment">\ Negate the result to make it positive, so we now have:</span>
 <span class="mne">SEC</span>                    <span class="comment">\</span>
 <span class="mne">SBC</span> <a class="popup variable">zDeltaLo</a>           <span class="comment">\   (A zDeltaLo) = |zTile - zTileViewer - 0.5|</span>
 <span class="mne">STA</span> <a class="popup variable">zDeltaLo</a>
 <span class="mne">LDA</span> <span class="hash">#</span><span class="decimal">0</span>
 <span class="mne">SBC</span> <a class="popup variable">zDeltaHi</a>

<span class="label">.tang2</span><a id="tang2" class="anchor"></a>

 <span class="mne">STA</span> <a class="popup variable">zDeltaAbsoluteHi</a>   <span class="comment">\ Set zDeltaAbsoluteHi = |zDeltaHi|</span>
                        <span class="comment">\</span>
                        <span class="comment">\ So we now have the absolute z-axis length in:</span>
                        <span class="comment">\</span>
                        <span class="comment">\   (zDeltaAbsoluteHi zDeltaLo)</span>
                        <span class="comment">\</span>
                        <span class="comment">\ and the original high byte of the signed z-axis length</span>
                        <span class="comment">\ is still in zDeltaHi</span>

                        <span class="comment">\ We now have both deltas, so we now can calculate the</span>
                        <span class="comment">\ angle of the hypotenuse of the triangle formed by</span>
                        <span class="comment">\ these axes, which is the projection of the 3D vector</span>
                        <span class="comment">\ from the viewer to the tile down onto the ground plane</span>
                        <span class="comment">\ (so imagine a light shining down from above, casting</span>
                        <span class="comment">\ the vector's shadow onto the y = 0 plane, and that's</span>
                        <span class="comment">\ the hypotenuse)</span>

 <span class="mne">JSR</span> <a class="popup destination">GetHypotenuseAngle</a> <span class="comment">\ Calculate the angle of the hypotenuse in the triangle</span>
                        <span class="comment">\ with the following non-hypotenuse sides:</span>
                        <span class="comment">\</span>
                        <span class="comment">\   * xDelta(Hi Lo)</span>
                        <span class="comment">\</span>
                        <span class="comment">\   * zDelta(Hi Lo)</span>
                        <span class="comment">\</span>
                        <span class="comment">\ and return the angle in angle(Hi Lo), the tangent in</span>
                        <span class="comment">\ angleTangent, the length of the longer side in</span>
                        <span class="comment">\ a(Hi Lo) and the length of the shorter side in</span>
                        <span class="comment">\ b(Hi Lo)</span>

                        <span class="comment">\ The angle of the hypotenuse is the yaw angle of the</span>
                        <span class="comment">\ 3D vector from the viewer to the tile corner we are</span>
                        <span class="comment">\ analysing, so store it in the table at</span>
                        <span class="comment">\ drawViewYaw(Hi Lo)</span>
                        <span class="comment">\</span>
                        <span class="comment">\ We also subtract the following:</span>
                        <span class="comment">\</span>
                        <span class="comment">\   * screenLeftYawHi from the high byte so the result</span>
                        <span class="comment">\     is the relative yaw angle from the left edge of</span>
                        <span class="comment">\     the screen, so the result is effectively a screen</span>
                        <span class="comment">\     x-coordinate where zero is the left screen edge</span>
                        <span class="comment">\</span>
                        <span class="comment">\   * yawAdjustmentLo from the low byte so if we are</span>
                        <span class="comment">\     drawing an object for updating, we include the</span>
                        <span class="comment">\     correct yaw offset to enable the object to be</span>
                        <span class="comment">\     drawn flush with the left edge of the screen</span>
                        <span class="comment">\     buffer (see the DrawUpdatedObject routine)</span>

 <span class="mne">LDY</span> <a class="popup variable">drawingTableIndex</a>  <span class="comment">\ Set Y to the drawing table index for this tile</span>

 <span class="mne">LDA</span> <a class="popup variable">angleLo</a>            <span class="comment">\ Set drawViewYaw(Hi Lo) for this tile to:</span>
 <span class="mne">SEC</span>                    <span class="comment">\</span>
 <span class="mne">SBC</span> <a class="popup variable">yawAdjustmentLo</a>    <span class="comment">\   angle(Hi Lo) - (screenLeftYawHi 0)</span>
 <span class="mne">STA</span> <a class="popup variable">drawViewYawLo</a>,<span class="register">Y</span>    <span class="comment">\                - (0 yawAdjustmentLo)</span>
                        <span class="comment">\</span>
                        <span class="comment">\ starting with the low bytes</span>

 <span class="mne">LDA</span> <a class="popup variable">angleHi</a>            <span class="comment">\ And then the high bytes</span>
 <span class="mne">SBC</span> <a class="popup variable">screenLeftYawHi</a>
 <span class="mne">STA</span> <a class="popup variable">drawViewYawHi</a>,<span class="register">Y</span>

 <span class="mne">JSR</span> <a class="popup destination">GetHypotenuse</a>      <span class="comment">\ Calculate the length of the hypotenuse in the triangle</span>
                        <span class="comment">\ with side lengths of a(Hi Lo) and b(Hi Lo) and angle</span>
                        <span class="comment">\ angleTangent, which are still set from the call to</span>
                        <span class="comment">\ GetHypotenuseAngle above to the values for the 3D</span>
                        <span class="comment">\ vector from the viewer to the tile corner we are</span>
                        <span class="comment">\ analysing</span>
                        <span class="comment">\</span>
                        <span class="comment">\ The hypotenuse length is returned in hypotenuse(Hi Lo)</span>
                        <span class="comment">\ so we can use it to calculate the pitch angle of the</span>
                        <span class="comment">\ viewer-to-tile vector in part 3</span>

                        <span class="comment">\ Fall through into part 2 to start the pitch angle</span>
                        <span class="comment">\ calculations</span>
</pre>
				</div>

				<div class="codeBlockWrapper popupWrapper" id="popup-gethypotenuse"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="link">Subroutine <a href="/source/main/subroutine/gethypotenuse.html">GetHypotenuse</a> (category: Maths (Geometry))</div><div class="summary">Calculate the hypotenuse from an angle and two triangle sides with one lookup and one multiplication (so without a square root)</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-gethypotenuseangle"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="link">Subroutine <a href="/source/main/subroutine/gethypotenuseangle.html">GetHypotenuseAngle</a> (category: Maths (Geometry))</div><div class="summary">Calculate the angle of the hypotenuse in a right-angle triangle given the two non-hypotenuse sides (i.e. two orthogonal axes)</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-anglehi"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/zero_page.html#anglehi">angleHi</a> in workspace <a href="/source/main/workspace/zero_page.html">Zero page</a></div><div class="summary">The low byte of an angle</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-anglelo"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/zero_page.html#anglelo">angleLo</a> in workspace <a href="/source/main/workspace/zero_page.html">Zero page</a></div><div class="summary">The high byte of an angle</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-drawviewyawhi"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="link">Variable <a href="/source/main/variable/drawviewyawhi.html">drawViewYawHi</a> (category: Drawing the landscape)</div><div class="summary">Storage for the yaw angles of tiles and object points for drawing the current landscape view (high bytes)</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-drawviewyawlo"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="link">Variable <a href="/source/main/variable/drawviewyawlo.html">drawViewYawLo</a> (category: Drawing the landscape)</div><div class="summary">Storage for the yaw angles of tiles and object points for drawing the current landscape view (low bytes)</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-drawingtableindex"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/zero_page.html#drawingtableindex">drawingTableIndex</a> in workspace <a href="/source/main/workspace/zero_page.html">Zero page</a></div><div class="summary">The index into the drawing tables for the tile being analysed</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-drawingtableoffset"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/zero_page.html#drawingtableoffset">drawingTableOffset</a> in workspace <a href="/source/main/workspace/zero_page.html">Zero page</a></div><div class="summary">The offset to use within the various drawing data tables for the tile we are analysing</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-screenleftyawhi"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/zero_page.html#screenleftyawhi">screenLeftYawHi</a> in workspace <a href="/source/main/workspace/zero_page.html">Zero page</a></div><div class="summary">The high byte of the yaw angle of the left edge of the screen, reduced into the range of a single 90-degree quadrant (so it's relative to the 90-degree viewing arc)</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-tang1"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Label <a href="/source/main/subroutine/gettileviewangles_part_1_of_4.html#tang1">tang1</a> is local to this routine</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-tang2"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Label <a href="/source/main/subroutine/gettileviewangles_part_1_of_4.html#tang2">tang2</a> is local to this routine</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-tileisonscreen"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/zero_page.html#tileisonscreen">tileIsOnScreen</a> in workspace <a href="/source/main/workspace/zero_page.html">Zero page</a></div><div class="summary">Information on whether a tile is fully on-screen, partially on-screen or fully off-screen</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-viewingobject"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/zero_page.html#viewingobject">viewingObject</a> in workspace <a href="/source/main/workspace/zero_page.html">Zero page</a></div><div class="summary">The number of the viewing object</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-xdeltaabsolutehi"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/zero_page.html#xdeltaabsolutehi">xDeltaAbsoluteHi</a> in workspace <a href="/source/main/workspace/zero_page.html">Zero page</a></div><div class="summary">The absolute difference between two x-coordinates (high byte), i.e. |xDeltaHi|</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-xdeltahi"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/zero_page.html#xdeltahi">xDeltaHi</a> in workspace <a href="/source/main/workspace/zero_page.html">Zero page</a></div><div class="summary">The difference between two x-coordinates (high byte)</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-xdeltalo"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/zero_page.html#xdeltalo">xDeltaLo</a> in workspace <a href="/source/main/workspace/zero_page.html">Zero page</a></div><div class="summary">The difference between two x-coordinates (low byte)</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-xtile"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/zero_page.html#xtile">xTile</a> in workspace <a href="/source/main/workspace/zero_page.html">Zero page</a></div><div class="summary">Tile corner x-coordinate</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-xtileviewer"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/zero_page.html#xtileviewer">xTileViewer</a> in workspace <a href="/source/main/workspace/zero_page.html">Zero page</a></div><div class="summary">The tile x-coordinate of the viewer, but with the axes rotated to match the orientation of the viewer, so we can draw the landscape along the line of sight, towards the viewer's tile</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-xtitleoffset"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/main_variable_workspace.html#xtitleoffset">xTitleOffset</a> in workspace <a href="/source/main/workspace/main_variable_workspace.html">Main variable workspace</a></div><div class="summary">An x-coordinate offset for drawing the title screen this is zero during gameplay)</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-ystoretileview"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/zero_page.html#ystoretileview">yStoreTileView</a> in workspace <a href="/source/main/workspace/zero_page.html">Zero page</a></div><div class="summary">Temporary storage for Y so it can be preserved through calls to GetTileViewAngles</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-yawadjustmentlo"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/zero_page.html#yawadjustmentlo">yawAdjustmentLo</a> in workspace <a href="/source/main/workspace/zero_page.html">Zero page</a></div><div class="summary">A yaw adjustment to apply to the landscape drawing process so that when we update objects on-screen, we can yaw the viewer's gaze to the right to move the left edge of the object to the left edge of the screen so the object will fit into the screen buffer as efficiently as possible (low byte)</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-zdeltaabsolutehi"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/zero_page.html#zdeltaabsolutehi">zDeltaAbsoluteHi</a> in workspace <a href="/source/main/workspace/zero_page.html">Zero page</a></div><div class="summary">The absolute difference between two z-coordinates (high byte), i.e. |zDeltaHi|</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-zdeltahi"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/zero_page.html#zdeltahi">zDeltaHi</a> in workspace <a href="/source/main/workspace/zero_page.html">Zero page</a></div><div class="summary">The difference between two z-coordinates (high byte)</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-zdeltalo"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/zero_page.html#zdeltalo">zDeltaLo</a> in workspace <a href="/source/main/workspace/zero_page.html">Zero page</a></div><div class="summary">The difference between two z-coordinates (low byte)</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-ztile"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/zero_page.html#ztile">zTile</a> in workspace <a href="/source/main/workspace/zero_page.html">Zero page</a></div><div class="summary">Tile corner z-coordinate</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-ztileviewer"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/zero_page.html#ztileviewer">zTileViewer</a> in workspace <a href="/source/main/workspace/zero_page.html">Zero page</a></div><div class="summary">The tile z-coordinate of the viewer, but with the axes rotated to match the orientation of the viewer, so we can draw the landscape along the line of sight, towards the viewer's tile</div></div></div></div>

				<div class="codeBlockWrapper nav">
					<nav class="codeBlock previousNext"><a class="previous" rel="prev" title="Previous routine" href="/source/main/subroutine/gettileedgetoright.html">GetTileEdgeToRight</a><a class="next" rel="next" title="Next routine" href="/source/main/subroutine/gettileviewangles_part_2_of_4.html">GetTileViewAngles (Part 2 of 4)</a></nav>
				</div>
			</article>

<?php
include_once("../../../templates_local/navigation.php");
?>
		</div>
	</body>
</html>
