<?php
include_once("../../../templates/template_functions.php");
page_header("landscape", "subroutine_addenemiestotiles.html", "The AddEnemiesToTiles subroutine", "Landscape: AddEnemiesToTiles", "Annotated code for the AddEnemiesToTiles subroutine in The Sentinel", "the_sentinel-code", "source_landscape", "subroutine_addenemiestotiles", "");
?>
				<div class="codeBlockWrapper nav">
					<nav class="codeBlock previousNext"><a class="previous" rel="prev" title="Previous routine" href="/source/main/variable/landscapecolour2.html">landscapeColour2</a><a class="next" rel="next" title="Next routine" href="/source/main/subroutine/gettilesataltitude.html">GetTilesAtAltitude</a></nav>
				</div>

				<div class="codeBlockWrapper">
<pre class="codeBlock sourceCode initial"><div class="headerBlockWrapper"><div class="headerBlock"><span class="headerLabel">       Name:</span> <span class="headerEntry">AddEnemiesToTiles</span>                                       <span class="routineLink">[<a class="extraDataLink" href="#">Show more</a>]</span>
<span class="headerLabel">       Type:</span> <span class="headerEntry">Subroutine</span>
<span class="headerLabel">   Category:</span> <span class="headerEntry">Landscape</span>
<span class="headerLabel">    Summary:</span> <span class="headerEntry">Add the required number of enemies to the landscape, starting from</span>
             <span class="headerEntry">the highest altitude and working down, with one enemy per contour</span>
<div class="extraData"><span class="headerLabel">    Context:</span> <span class="headerEntry">See this subroutine <a href="/source/all/the_sentinel_b.html#header-addenemiestotiles">in context in the source code</a></span>
<span class="headerLabel"> References:</span> <span class="headerEntry">This subroutine is called as follows:</span>
             <span class="headerEntry">* <a href="/source/main/subroutine/spawnenemies.html">SpawnEnemies</a> calls <a href="#addenemiestotiles">AddEnemiesToTiles</a></span>
</div>
</div></div>
<span class="label">.AddEnemiesToTiles</span><a id="addenemiestotiles" class="anchor"></a>

 <span class="mne">JSR</span> <a class="popup destination">GetHighestTiles</a>    <span class="comment">\ Calculate both the highest tiles in each 4x4 block of</span>
                        <span class="comment">\ tiles in the landscape and the altitude of the highest</span>
                        <span class="comment">\ tile, putting the results in the following variables:</span>
                        <span class="comment">\</span>
                        <span class="comment">\   * maxAltitude contains the altitude of the highest</span>
                        <span class="comment">\     tile in each 4x4 block in the landscape</span>
                        <span class="comment">\</span>
                        <span class="comment">\   * xTileMaxAltitude contains the tile x-coordinate of</span>
                        <span class="comment">\     the highest tile in each 4x4 block in the</span>
                        <span class="comment">\     landscape</span>
                        <span class="comment">\</span>
                        <span class="comment">\   * zTileMaxAltitude contains the tile z-coordinate of</span>
                        <span class="comment">\     the highest tile in each 4x4 block in the</span>
                        <span class="comment">\     landscape</span>
                        <span class="comment">\</span>
                        <span class="comment">\   * tileAltitude contains the altitude of the highest</span>
                        <span class="comment">\     tile in the entire landscape</span>

 <span class="mne">LDX</span> <span class="hash">#</span><span class="decimal">0</span>                 <span class="comment">\ We now loop through the number of enemies, adding one</span>
                        <span class="comment">\ enemy for each loop and iterating numberOfEnemies</span>
                        <span class="comment">\ times, so set an enemy counter in X to count the</span>
                        <span class="comment">\ enemies as we add them</span>
                        <span class="comment">\</span>
                        <span class="comment">\ If this is a level with only one enemy, then that</span>
                        <span class="comment">\ enemy must be the Sentinel, so when X = 0, we add the</span>
                        <span class="comment">\ Sentinel to the landscape, otherwise we add a sentry</span>
                        <span class="comment">\</span>
                        <span class="comment">\ Enemies are allocated object numbers from 0 to 7, with</span>
                        <span class="comment">\ the Sentinel in object #0, and sentries from object #1</span>
                        <span class="comment">\ to object #7 (if there are any)</span>

<span class="label">.aden1</span><a id="aden1" class="anchor"></a>

 <span class="mne">STX</span> <a class="popup variable">enemyCounter</a>       <span class="comment">\ Set enemyCounter to the enemy counter in X, so we can</span>
                        <span class="comment">\ retrieve it later in the loop</span>

 <span class="mne">LDA</span> <span class="hash">#</span><span class="decimal">1</span>                 <span class="comment">\ Set the object type for object #X to type 1, which</span>
 <span class="mne">STA</span> <a class="popup variable">objectTypes</a>,<span class="register">X</span>      <span class="comment">\ denotes a sentry, so we spawn sentries in objects #1</span>
                        <span class="comment">\ to #numberOfEnemies (this also sets the type for</span>
                        <span class="comment">\ object #0 to type 1, but this gets overridden when</span>
                        <span class="comment">\ the Sentinel is spawned as object #0 below)</span>

                        <span class="comment">\ We now work down the landscape, from the highest peaks</span>
                        <span class="comment">\ down to lower altitudes, looking for suitable tile</span>
                        <span class="comment">\ blocks to place an enemy</span>
                        <span class="comment">\</span>
                        <span class="comment">\ To do this we start with tile blocks that are at an</span>
                        <span class="comment">\ altitude of tileAltitude (which we set above to the</span>
                        <span class="comment">\ altitude of the highest tile in the landscape), and we</span>
                        <span class="comment">\ work down in steps of 16</span>

<span class="label">.aden2</span><a id="aden2" class="anchor"></a>

 <span class="mne">JSR</span> <a class="popup destination">GetTilesAtAltitude</a> <span class="comment">\ Set tilesAtAltitude to a list of tile block numbers</span>
                        <span class="comment">\ whose highest tiles in the 4x4 block are at an</span>
                        <span class="comment">\ altitude of tileAltitude, returning the length of the</span>
                        <span class="comment">\ list in T and a bit mask in bitMask that has a</span>
                        <span class="comment">\ matching number of leading zeroes as T</span>

 <span class="mne">BCC</span> <a class="popup destination">aden3</a>              <span class="comment">\ If the call to GetTilesAtAltitude returns at least one</span>
                        <span class="comment">\ tile block at this altitude then the C flag will be</span>
                        <span class="comment">\ clear, so jump to aden3 to add an enemy to one of the</span>
                        <span class="comment">\ matched tile blocks</span>

 <span class="mne">LDA</span> <a class="popup variable">tileAltitude</a>       <span class="comment">\ Otherwise we didn't find any tile blocks at this</span>
 <span class="mne">SEC</span>                    <span class="comment">\ altitude, so subtract 1 from the high nibble of</span>
 <span class="mne">SBC</span> <span class="hash">#</span><span class="binary">%00010000</span>         <span class="comment">\ tileAltitude to move down one level (we subtract from</span>
 <span class="mne">STA</span> <a class="popup variable">tileAltitude</a>       <span class="comment">\ the high nibble because tileAltitude contains tile</span>
                        <span class="comment">\ data, which has the tile altitude in the high nibble</span>
                        <span class="comment">\ and the tile shape in the low nibble)</span>

 <span class="mne">BNE</span> <a class="popup destination">aden2</a>              <span class="comment">\ Loop back to check for tile blocks at the lower</span>
                        <span class="comment">\ altitude until we have reached an altitude of zero</span>

 <span class="mne">STX</span> <a class="popup variable">numberOfEnemies</a>    <span class="comment">\ When the GetTilesAtAltitude routine returns with no</span>
                        <span class="comment">\ matching tile blocks, it also returns a value of &FF</span>
                        <span class="comment">\ in X, so this sets numberOfEnemies to -1</span>

 <span class="mne">JMP</span> <a class="popup destination">aden6</a>              <span class="comment">\ Jump to aden6 to set the value of minEnemyAltitude</span>
                        <span class="comment">\ and return from the subroutine</span>

<span class="label">.aden3</span><a id="aden3" class="anchor"></a>

                        <span class="comment">\ If we get here then we have found at least one tile</span>
                        <span class="comment">\ block at the current altitude, so we now pick one of</span>
                        <span class="comment">\ them, using the next seed number to choose which one,</span>
                        <span class="comment">\ and we then add an enemy to the highest tile in the</span>
                        <span class="comment">\ block</span>
                        <span class="comment">\</span>
                        <span class="comment">\ We only pick one tile at this altitude so that the</span>
                        <span class="comment">\ enemies are spread out over various altitudes</span>

 <span class="mne">JSR</span> <a class="popup destination">GetNextSeedNumber</a>  <span class="comment">\ Set A to the next number from the landscape's sequence</span>
                        <span class="comment">\ of seed numbers</span>

 <span class="mne">AND</span> <a class="popup variable">bitMask</a>            <span class="comment">\ The call to GetTilesAtAltitude above sets bitMask to a</span>
                        <span class="comment">\ bit mask that has a matching number of leading zeroes</span>
                        <span class="comment">\ as the number of tile blocks at this altitude, so this</span>
                        <span class="comment">\ instruction converts A into a number with the same</span>
                        <span class="comment">\ range of non-zero bits as T</span>

 <span class="mne">CMP</span> <a class="popup variable">T</a>                  <span class="comment">\ If A >= T then jump back to fetch another seed number</span>
 <span class="mne">BCS</span> <a class="popup destination">aden3</a>

                        <span class="comment">\ When we get here, A is a seed number and A &lt; T, so</span>
                        <span class="comment">\ A can be used as an offset into the list of tile</span>
                        <span class="comment">\ blocks in tilesAtAltitude (which contains T entries)</span>

 <span class="mne">TAY</span>                    <span class="comment">\ Set Y to the seed number in A so we can use it as an</span>
                        <span class="comment">\ index in the following instruction</span>

 <span class="mne">LDX</span> <a class="popup variable">tilesAtAltitude</a>,<span class="register">Y</span>  <span class="comment">\ Set X to the Y-th tile block number in the list of</span>
                        <span class="comment">\ tile blocks at an altitude of tilesAtAltitude</span>

                        <span class="comment">\ We now zero the maximum tile altitudes for tile block</span>
                        <span class="comment">\ X and the eight surrounding tile blocks, so that</span>
                        <span class="comment">\ further calls to GetTilesAtAltitude won't match these</span>
                        <span class="comment">\ tiles, so we therefore won't put any enemies on those</span>
                        <span class="comment">\ blocks (this ensures we don't create enemies too close</span>
                        <span class="comment">\ to each other)</span>

 <span class="mne">LDA</span> <span class="hash">#</span><span class="decimal">0</span>                 <span class="comment">\ Set A = 0 so we can zero the maximum tile altitudes</span>
                        <span class="comment">\ for tile block X and the eight surrounding blocks</span>

 <span class="mne">STA</span> <a class="popup variable">maxAltitude</a><span class="operator">-</span><span class="decimal">9</span>,<span class="register">X</span>    <span class="comment">\ Zero the altitudes of the three tile blocks in the row</span>
 <span class="mne">STA</span> <a class="popup variable">maxAltitude</a><span class="operator">-</span><span class="decimal">8</span>,<span class="register">X</span>    <span class="comment">\ in front of tile block X</span>
 <span class="mne">STA</span> <a class="popup variable">maxAltitude</a><span class="operator">-</span><span class="decimal">7</span>,<span class="register">X</span>

 <span class="mne">STA</span> <a class="popup variable">maxAltitude</a><span class="operator">-</span><span class="decimal">1</span>,<span class="register">X</span>    <span class="comment">\ Zero the altitudes of tile block X and the two blocks</span>
 <span class="mne">STA</span> <a class="popup variable">maxAltitude</a>,<span class="register">X</span>      <span class="comment">\ to the left and right</span>
 <span class="mne">STA</span> <a class="popup variable">maxAltitude</a><span class="operator">+</span><span class="decimal">1</span>,<span class="register">X</span>

 <span class="mne">STA</span> <a class="popup variable">maxAltitude</a><span class="operator">+</span><span class="decimal">7</span>,<span class="register">X</span>    <span class="comment">\ Zero the altitudes of the three tile blocks in the row</span>
 <span class="mne">STA</span> <a class="popup variable">maxAltitude</a><span class="operator">+</span><span class="decimal">8</span>,<span class="register">X</span>    <span class="comment">\ behind tile block X</span>
 <span class="mne">STA</span> <a class="popup variable">maxAltitude</a><span class="operator">+</span><span class="decimal">9</span>,<span class="register">X</span>

 <span class="mne">LDA</span> <a class="popup variable">xTileMaxAltitude</a>,<span class="register">X</span> <span class="comment">\ Set (xTile, zTile) to the tile coordinates of the</span>
 <span class="mne">STA</span> <a class="popup variable">xTile</a>              <span class="comment">\ highest tile in the tile block, which is where we can</span>
 <span class="mne">LDA</span> <a class="popup variable">zTileMaxAltitude</a>,<span class="register">X</span> <span class="comment">\ place an enemy</span>
 <span class="mne">STA</span> <a class="popup variable">zTile</a>

 <span class="mne">LDX</span> <a class="popup variable">enemyCounter</a>       <span class="comment">\ Set X to the loop counter that we stored above</span>

 <span class="mne">BNE</span> <a class="popup destination">aden4</a>              <span class="comment">\ If the loop number is non-zero then we are adding a</span>
                        <span class="comment">\ sentry, so jump to aden4</span>

                        <span class="comment">\ If we get here then the enemy counter is zero, so we</span>
                        <span class="comment">\ are adding the Sentinel and the Sentinel's tower</span>

 <span class="mne">STA</span> <a class="popup variable">zTileSentinel</a>      <span class="comment">\ Set (xTileSentinel, zTileSentinel) to the tile</span>
 <span class="mne">LDA</span> <a class="popup variable">xTile</a>              <span class="comment">\ coordinates of the highest tile in the tile block,</span>
 <span class="mne">STA</span> <a class="popup variable">xTileSentinel</a>      <span class="comment">\ which we put in (xTile, zTile) above, so this is the</span>
                        <span class="comment">\ tile coordinate where we now spawn the Sentinel</span>

 <span class="mne">LDA</span> <span class="hash">#</span><span class="decimal">5</span>                 <span class="comment">\ Set the object type for object #0 to type 5, which</span>
 <span class="mne">STA</span> <a class="popup variable">objectTypes</a>        <span class="comment">\ denotes the Sentinel (so the Sentinel is always</span>
                        <span class="comment">\ object #0, while other objects that are spawned are</span>
                        <span class="comment">\ allocated to object #63 and work down the numbers)</span>

 <span class="mne">LDA</span> <span class="hash">#</span><span class="decimal">6</span>                 <span class="comment">\ Spawn the Sentinel's tower (an object of type 6),</span>
 <span class="mne">JSR</span> <a class="popup destination">SpawnObject</a>        <span class="comment">\ returning the object number of the new object in X</span>
                        <span class="comment">\ and currentObject</span>

 <span class="mne">JSR</span> <a class="popup destination">PlaceObjectOnTile</a>  <span class="comment">\ Place object #X on the tile anchored at (xTile, zTile)</span>
                        <span class="comment">\ to place the tower on the landscape</span>

 <span class="mne">LDA</span> <span class="hash">#</span><span class="decimal">0</span>                 <span class="comment">\ Set the tower object's objectYawAngle to 0, so it's</span>
 <span class="mne">STA</span> <a class="popup variable">objectYawAngle</a>,<span class="register">X</span>   <span class="comment">\ facing forwards and into the screen</span>

 <span class="mne">LDX</span> <a class="popup variable">enemyCounter</a>       <span class="comment">\ Set X to the enemy counter, so X now contains the</span>
                        <span class="comment">\ object number of the Sentinel (which is always zero</span>
                        <span class="comment">\ as we only add the Sentinel on the first iteration of</span>
                        <span class="comment">\ the loop)</span>
                        <span class="comment">\</span>
                        <span class="comment">\ We now place the Sentinel object on the tile, which</span>
                        <span class="comment">\ therefore places the Sentinel on top of the tower</span>

<span class="label">.aden4</span><a id="aden4" class="anchor"></a>

 <span class="mne">JSR</span> <a class="popup destination">PlaceObjectOnTile</a>  <span class="comment">\ Place object #X on the tile anchored at (xTile, zTile)</span>
                        <span class="comment">\ to place the Sentinel or sentry in the correct place</span>
                        <span class="comment">\ on the landscape</span>

 <span class="mne">JSR</span> <a class="popup destination">ResetMeanieScan</a>    <span class="comment">\ Reset the data stored for any meanie scans that the</span>
                        <span class="comment">\ enemy has tried in the past, so the enemy can start</span>
                        <span class="comment">\ looking for potential meanies with a clean slate</span>

 <span class="mne">JSR</span> <a class="popup destination">GetNextSeedNumber</a>  <span class="comment">\ Set A to the next number from the landscape's sequence</span>
                        <span class="comment">\ of seed numbers</span>

 <span class="mne">LSR</span> <span class="register">A</span>                  <span class="comment">\ Set the C flag to bit 7 of A (this also clears bit 7</span>
                        <span class="comment">\ of A but that doesn't matter as we are about to clear</span>
                        <span class="comment">\ it in the next instruction anyway)</span>

 <span class="mne">AND</span> <span class="hash">#</span><span class="decimal">63</span>                <span class="comment">\ Set A to a number in the range 5 to 63</span>
 <span class="mne">ORA</span> <span class="hash">#</span><span class="decimal">5</span>

 <span class="mne">STA</span> <a class="popup variable">enemyTacticTimer</a>,<span class="register">X</span> <span class="comment">\ Set the enemy's tactics timer to the number in A, so</span>
                        <span class="comment">\ we wait for A * 0.06 seconds before applying tactics</span>
                        <span class="comment">\ to this enemy in the ApplyTactics routine (so that's</span>
                        <span class="comment">\ somewhere between 5 * 0.06 = 0.3 seconds and</span>
                        <span class="comment">\ 63 * 0.06 = 3.8 seconds)</span>

 <span class="mne">LDA</span> <span class="hash">#</span><span class="decimal">20</span>                <span class="comment">\ Set A to either 20 or 236, depending on the value that</span>
 <span class="mne">BCC</span> <a class="popup destination">aden5</a>              <span class="comment">\ we gave to the C flag above</span>
 <span class="mne">LDA</span> <span class="hash">#</span><span class="decimal">236</span>

<span class="label">.aden5</span><a id="aden5" class="anchor"></a>

 <span class="mne">STA</span> <a class="popup variable">enemyYawStep</a>,<span class="register">X</span>     <span class="comment">\ Set enemyYawStep for the enemy to the value of A,</span>
                        <span class="comment">\ so this sets the yaw step (i.e. the rate of rotation)</span>
                        <span class="comment">\ to either 20 or 236</span>
                        <span class="comment">\</span>
                        <span class="comment">\ The degree system in the Sentinel looks like this:</span>
                        <span class="comment">\</span>
                        <span class="comment">\            0</span>
                        <span class="comment">\      -32   |   +32         Overhead view of object</span>
                        <span class="comment">\         \  |  /</span>
                        <span class="comment">\          \ | /             0 = looking straight ahead</span>
                        <span class="comment">\           \|/              +64 = looking sharp right</span>
                        <span class="comment">\   -64 -----+----- +64      -64 = looking sharp left</span>
                        <span class="comment">\           /|\</span>
                        <span class="comment">\          / | \</span>
                        <span class="comment">\         /  |  \</span>
                        <span class="comment">\      -96   |   +96</span>
                        <span class="comment">\           128</span>
                        <span class="comment">\</span>
                        <span class="comment">\ The enemyYawStep speed is the angle through which the</span>
                        <span class="comment">\ enemy rotates on each rotation, so this means we are</span>
                        <span class="comment">\ setting the rotation speed to +20 degrees (a clockwise</span>
                        <span class="comment">\ turn) or -20 degrees (an anticlockwise turn)</span>

 <span class="mne">INX</span>                    <span class="comment">\ Increment the enemy loop counter in X</span>

 <span class="mne">CPX</span> <a class="popup variable">numberOfEnemies</a>    <span class="comment">\ If we have added a total of numberOfEnemies enemies,</span>
 <span class="mne">BCS</span> <a class="popup destination">aden6</a>              <span class="comment">\ jump to aden6 to finish off</span>

 <span class="mne">JMP</span> <a class="popup destination">aden1</a>              <span class="comment">\ Otherwise loop back to add another enemy</span>

<span class="label">.aden6</span><a id="aden6" class="anchor"></a>

 <span class="mne">LDA</span> <a class="popup variable">tileAltitude</a>       <span class="comment">\ Extract the altitude from tileAltitude, which is in</span>
 <span class="mne">LSR</span> <span class="register">A</span>                  <span class="comment">\ the high nibble (as tileAltitude contains tile data,</span>
 <span class="mne">LSR</span> <span class="register">A</span>                  <span class="comment">\ which has the tile altitude in the high nibble and</span>
 <span class="mne">LSR</span> <span class="register">A</span>                  <span class="comment">\ the tile shape in the low nibble)</span>
 <span class="mne">LSR</span> <span class="register">A</span>

 <span class="mne">STA</span> <a class="popup variable">minEnemyAltitude</a>   <span class="comment">\ Store the result in minEnemyAltitude, so it contains</span>
                        <span class="comment">\ the lowest altitude of the enemies we just added to</span>
                        <span class="comment">\ the landscape</span>

 <span class="mne">CLC</span>                    <span class="comment">\ Clear the C flag (though this has no effect as the C</span>
                        <span class="comment">\ flag is set as soon as we return to the SpawnEnemies</span>
                        <span class="comment">\ routine)</span>

 <span class="mne">RTS</span>                    <span class="comment">\ Return from the subroutine</span>
</pre>
				</div>

				<div class="codeBlockWrapper popupWrapper" id="popup-gethighesttiles"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="link">Subroutine <a href="/source/main/subroutine/gethighesttiles.html">GetHighestTiles</a> (category: Landscape)</div><div class="summary">Calculate both the highest tiles in each 4x4 block of tiles in the landscape and the altitude of the highest tile in the landscape</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-getnextseednumber"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="link">Subroutine <a href="/source/main/subroutine/getnextseednumber.html">GetNextSeedNumber</a> (category: Maths (Arithmetic))</div><div class="summary">Set A to a seed number</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-gettilesataltitude"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="link">Subroutine <a href="/source/main/subroutine/gettilesataltitude.html">GetTilesAtAltitude</a> (category: Landscape)</div><div class="summary">Return a list of tile blocks at a specified altitude</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-placeobjectontile"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="link">Subroutine <a href="/source/main/subroutine/placeobjectontile.html">PlaceObjectOnTile</a> (category: 3D objects)</div><div class="summary">Place an object on a tile, putting it on top of any existing boulders or towers</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-resetmeaniescan"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="link">Subroutine <a href="/source/main/subroutine/resetmeaniescan.html">ResetMeanieScan</a> (category: Gameplay)</div><div class="summary">Reset the data stored for any meanie scans that the enemy has tried in the past, so we can start looking with a clean slate</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-spawnobject"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="link">Subroutine <a href="/source/main/subroutine/spawnobject.html">SpawnObject</a> (category: 3D objects)</div><div class="summary">Add a new object of the specified type to the objectTypes table</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-t"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/zero_page.html#t">T</a> in workspace <a href="/source/main/workspace/zero_page.html">Zero page</a></div><div class="summary">Temporary storage, used in a number of places</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-aden1"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Label <a href="/source/main/subroutine/addenemiestotiles.html#aden1">aden1</a> is local to this routine</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-aden2"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Label <a href="/source/main/subroutine/addenemiestotiles.html#aden2">aden2</a> is local to this routine</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-aden3"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Label <a href="/source/main/subroutine/addenemiestotiles.html#aden3">aden3</a> is local to this routine</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-aden4"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Label <a href="/source/main/subroutine/addenemiestotiles.html#aden4">aden4</a> is local to this routine</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-aden5"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Label <a href="/source/main/subroutine/addenemiestotiles.html#aden5">aden5</a> is local to this routine</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-aden6"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Label <a href="/source/main/subroutine/addenemiestotiles.html#aden6">aden6</a> is local to this routine</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-bitmask"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/zero_page.html#bitmask">bitMask</a> in workspace <a href="/source/main/workspace/zero_page.html">Zero page</a></div><div class="summary">Used to return a bit mask from the GetTilesAtAltitude routine that has a matching number of leading zeroes as the number of tile blocks at a specific altitude</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-enemycounter"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/zero_page.html#enemycounter">enemyCounter</a> in workspace <a href="/source/main/workspace/zero_page.html">Zero page</a></div><div class="summary">Used as a loop counter when adding enemies to the landscape</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-enemytactictimer"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/main_variable_workspace.html#enemytactictimer">enemyTacticTimer</a> in workspace <a href="/source/main/workspace/main_variable_workspace.html">Main variable workspace</a></div><div class="summary">A timer for each enemy that counts down every 0.06</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-enemyyawstep"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="link">Variable <a href="/source/main/variable/enemyyawstep.html">enemyYawStep</a> (category: 3D objects)</div><div class="summary">The yaw angle through which each enemy rotates on each scheduled rotation</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-maxaltitude"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="link">Variable <a href="/source/main/variable/maxaltitude.html">maxAltitude</a> (category: Landscape)</div><div class="summary">The maximum tile altitude for each 4x4 block of tiles</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-minenemyaltitude"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/main_variable_workspace.html#minenemyaltitude">minEnemyAltitude</a> in workspace <a href="/source/main/workspace/main_variable_workspace.html">Main variable workspace</a></div><div class="summary">The altitude of the lowest enemy on the landscape</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-numberofenemies"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/main_variable_workspace.html#numberofenemies">numberOfEnemies</a> in workspace <a href="/source/main/workspace/main_variable_workspace.html">Main variable workspace</a></div><div class="summary">The number of enemies in the current landscape, including the Sentinel (in the range 1 to 8)</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-objecttypes"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="link">Variable <a href="/source/main/variable/objecttypes.html">objectTypes</a> (category: 3D objects)</div><div class="summary">The object types table for up to 64 objects</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-objectyawangle"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="link">Variable <a href="/source/main/variable/objectyawangle.html">objectYawAngle</a> (category: 3D objects)</div><div class="summary">The yaw angle for each object (i.e. the horizontal direction in which they are facing)</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-tilealtitude"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/zero_page.html#tilealtitude">tileAltitude</a> in workspace <a href="/source/main/workspace/zero_page.html">Zero page</a></div><div class="summary">The altitude of the tile that we are currently processing</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-tilesataltitude"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="link">Variable <a href="/source/main/variable/tilesataltitude.html">tilesAtAltitude</a> (category: Landscape)</div><div class="summary">Storage for tile blocks at specific altitudes for placing enemies on the landscape</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-xtile"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/zero_page.html#xtile">xTile</a> in workspace <a href="/source/main/workspace/zero_page.html">Zero page</a></div><div class="summary">Tile corner x-coordinate</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-xtilemaxaltitude"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="link">Variable <a href="/source/main/variable/xtilemaxaltitude.html">xTileMaxAltitude</a> (category: Landscape)</div><div class="summary">The tile x-coordinate of the highest tile within each 4x4 block of tiles</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-xtilesentinel"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/main_variable_workspace.html#xtilesentinel">xTileSentinel</a> in workspace <a href="/source/main/workspace/main_variable_workspace.html">Main variable workspace</a></div><div class="summary">The tile x-coordinate of the Sentinel</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-ztile"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/zero_page.html#ztile">zTile</a> in workspace <a href="/source/main/workspace/zero_page.html">Zero page</a></div><div class="summary">Tile corner z-coordinate</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-ztilemaxaltitude"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="link">Variable <a href="/source/main/variable/ztilemaxaltitude.html">zTileMaxAltitude</a> (category: Landscape)</div><div class="summary">The tile z-coordinate of the highest tile within each 4x4 block of tiles</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-ztilesentinel"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/main_variable_workspace.html#ztilesentinel">zTileSentinel</a> in workspace <a href="/source/main/workspace/main_variable_workspace.html">Main variable workspace</a></div><div class="summary">The tile z-coordinate of the Sentinel</div></div></div></div>

				<div class="codeBlockWrapper nav">
					<nav class="codeBlock previousNext"><a class="previous" rel="prev" title="Previous routine" href="/source/main/variable/landscapecolour2.html">landscapeColour2</a><a class="next" rel="next" title="Next routine" href="/source/main/subroutine/gettilesataltitude.html">GetTilesAtAltitude</a></nav>
				</div>
			</article>

<?php
include_once("../../../templates_local/navigation.php");
?>
		</div>
	</body>
</html>
