<?php
include_once("../../../templates/template_functions.php");
page_header("title_screen", "subroutine_spawntitleobject.html", "The SpawnTitleObject subroutine", "Title screen: SpawnTitleObject", "Annotated code for the SpawnTitleObject subroutine in The Sentinel", "the_sentinel-code", "source_title_screen", "subroutine_spawntitleobject", "");
?>
				<div class="codeBlockWrapper nav">
					<nav class="codeBlock previousNext"><a class="previous" rel="prev" title="Previous routine" href="/source/main/subroutine/jumptopreview.html">JumpToPreview</a><a class="next" rel="next" title="Next routine" href="/source/main/variable/ztitleobject.html">zTitleObject</a></nav>
				</div>

				<div class="codeBlockWrapper">
<pre class="codeBlock sourceCode initial"><div class="headerBlockWrapper"><div class="headerBlock"><span class="headerLabel">       Name:</span> <span class="headerEntry">SpawnTitleObject</span>                                        <span class="routineLink">[<a class="extraDataLink" href="#">Show more</a>]</span>
<span class="headerLabel">       Type:</span> <span class="headerEntry">Subroutine</span>
<span class="headerLabel">   Category:</span> <span class="headerEntry">Title screen</span>
<span class="headerLabel">    Summary:</span> <span class="headerEntry">Spawn the title object (robot or the Sentinel) as object #1</span>
<div class="extraData"><span class="headerLabel">    Context:</span> <span class="headerEntry">See this subroutine <a href="/source/all/the_sentinel_j.html#header-spawntitleobject">in context in the source code</a></span>
<span class="headerLabel"> References:</span> <span class="headerEntry">This subroutine is called as follows:</span>
             <span class="headerEntry">* <a href="/source/main/subroutine/drawtitleobject.html">DrawTitleObject</a> calls <a href="#spawntitleobject">SpawnTitleObject</a></span>
             <span class="headerEntry">* <a href="/source/main/subroutine/showgameoverscreen.html">ShowGameOverScreen</a> calls <a href="#spawntitleobject">SpawnTitleObject</a></span>
</div>
<hr class="light">
<span class="subheader"> Arguments:</span>

   <span class="argumentLabel">A</span>                    <span class="argumentEntry">The type of object to spawn</span>

   <span class="argumentLabel">Y</span>                    <span class="argumentEntry">The configuration to use when spawning the object:</span>

                        <span class="argumentEntry">  * 0 = the object on the game over screen (i.e. the</span>
                        <span class="argumentEntry">        enemy that ended the game)</span>

                        <span class="argumentEntry">  * 1 = the Sentinel on the main title screen or the</span>
                        <span class="argumentEntry">        robot on the secret code screen</span>

                        <span class="argumentEntry">  * 2 = the tower on which the Sentinel or robot stands</span>

</div></div>
<span class="label">.SpawnTitleObject</span><a id="spawntitleobject" class="anchor"></a>

                        <span class="comment">\ We set up the object that we want to draw on the title</span>
                        <span class="comment">\ screen in object #1, and we set up the viewing object</span>
                        <span class="comment">\ for that object in object #2</span>
                        <span class="comment">\</span>
                        <span class="comment">\ The values come from the Y-th entry in each of the</span>
                        <span class="comment">\ following configuration tables, so this routine sets</span>
                        <span class="comment">\ up the following, depending on the object that we are</span>
                        <span class="comment">\ spawning:</span>
                        <span class="comment">\</span>
                        <span class="comment">\   * Object #1 (the object to draw) is set to a yaw</span>
                        <span class="comment">\     of 128 for the game over screen (so the enemy</span>
                        <span class="comment">\     stares directly out of the screen), or -114 for</span>
                        <span class="comment">\     the object on the tower (so it looks towards the</span>
                        <span class="comment">\     left of the viewer) or -50 for the tower (so it is</span>
                        <span class="comment">\     rotated slightly to the left)</span>
                        <span class="comment">\</span>
                        <span class="comment">\   * Object #1 (the object to draw) is set to a yaw</span>
                        <span class="comment">\     of 128 for the game over screen, so the enemy</span>
                        <span class="comment">\     stares directly out of the screen</span>
                        <span class="comment">\</span>
                        <span class="comment">\   * Object #1 (the object to draw) is set to a yaw</span>
                        <span class="comment">\     of -114 for the object on the tower, so the robot</span>
                        <span class="comment">\     or Sentinel looks out of the screen, towards the</span>
                        <span class="comment">\     left of the viewer</span>
                        <span class="comment">\</span>
                        <span class="comment">\   * Object #1 (the object to draw) is set to a yaw</span>
                        <span class="comment">\     of -50 for the tower, so it is rotated slightly to</span>
                        <span class="comment">\     the left</span>
                        <span class="comment">\</span>
                        <span class="comment">\   * Object #2 (the viewing object) is set to a pitch</span>
                        <span class="comment">\     of -12 for the game over screen, so the camera</span>
                        <span class="comment">\     points down, thus moving the object down the</span>
                        <span class="comment">\     screen</span>
                        <span class="comment">\</span>
                        <span class="comment">\   * Object #2 (the viewing object) is set to a pitch</span>
                        <span class="comment">\     of -5 and a yaw of -8 for the title screen, so the</span>
                        <span class="comment">\     camera points down and left, thus moving the tower</span>
                        <span class="comment">\     and object to the right</span>
                        <span class="comment">\</span>
                        <span class="comment">\   * Object #1 is always at the same x-coordinate as</span>
                        <span class="comment">\     the viewing object</span>
                        <span class="comment">\</span>
                        <span class="comment">\   * The tower and game over objects are at the same</span>
                        <span class="comment">\     y-coordinate as the viewer (so they at the same</span>
                        <span class="comment">\     altitude)</span>
                        <span class="comment">\</span>
                        <span class="comment">\   * The object on the tower is higher than the viewer</span>
                        <span class="comment">\     by one y-coordinate</span>
                        <span class="comment">\</span>
                        <span class="comment">\   * The game over object is at a z-coordinate distance</span>
                        <span class="comment">\     of 5 from the viewer, while the object and tower</span>
                        <span class="comment">\     are at a distance of 7</span>

 <span class="mne">STA</span> <a class="popup variable">objectTypes</a><span class="operator">+</span><span class="decimal">1</span>      <span class="comment">\ Set the object type for object #1 to the argument in A</span>

 <span class="mne">LDA</span> <a class="popup variable">zTitleObject</a>,<span class="register">Y</span>     <span class="comment">\ Set the z-coordinate for object #1 to the z-coordinate</span>
 <span class="mne">CLC</span>                    <span class="comment">\ of object #2 plus the Y-th entry from the zTitleObject</span>
 <span class="mne">ADC</span> <a class="popup variable">zObject</a><span class="operator">+</span><span class="decimal">2</span>          <span class="comment">\ table</span>
 <span class="mne">STA</span> <a class="popup variable">zObject</a><span class="operator">+</span><span class="decimal">1</span>

 <span class="mne">LDA</span> <a class="popup variable">yObjectHi</a><span class="operator">+</span><span class="decimal">2</span>        <span class="comment">\ Set the high byte of the y-coordinate for object #1 to</span>
 <span class="mne">CLC</span>                    <span class="comment">\ the high byte of the y-coordinate of object #2 plus</span>
 <span class="mne">ADC</span> <a class="popup variable">yTitleObject</a>,<span class="register">Y</span>     <span class="comment">\ the Y-th entry from the yTitleObject table</span>
 <span class="mne">STA</span> <a class="popup variable">yObjectHi</a><span class="operator">+</span><span class="decimal">1</span>

 <span class="mne">LDA</span> <a class="popup variable">xObject</a><span class="operator">+</span><span class="decimal">2</span>          <span class="comment">\ Set the x-coordinate for object #1 to the x-coordinate</span>
 <span class="mne">STA</span> <a class="popup variable">xObject</a><span class="operator">+</span><span class="decimal">1</span>          <span class="comment">\ of object #2</span>

 <span class="mne">LDA</span> <a class="popup variable">titleViewerPitch</a>,<span class="register">Y</span> <span class="comment">\ Set the pitch angle of the viewer in object #2 to the</span>
 <span class="mne">STA</span> <a class="popup variable">objectPitchAngle</a><span class="operator">+</span><span class="decimal">2</span> <span class="comment">\ Y-th entry from the titleViewerPitch table</span>

 <span class="mne">LDA</span> <a class="popup variable">titleViewerYaw</a>,<span class="register">Y</span>   <span class="comment">\ Set the yaw angle of the viewer in object #2 to the</span>
 <span class="mne">STA</span> <a class="popup variable">objectYawAngle</a><span class="operator">+</span><span class="decimal">2</span>   <span class="comment">\ Y-th entry from the titleViewerYaw table</span>

 <span class="mne">LDA</span> <span class="hash">#</span><span class="decimal">0</span>                 <span class="comment">\ Zero the low bytes of the y-coordinates for both</span>
 <span class="mne">STA</span> <a class="popup variable">yObjectLo</a><span class="operator">+</span><span class="decimal">2</span>        <span class="comment">\ objects</span>
 <span class="mne">STA</span> <a class="popup variable">yObjectLo</a><span class="operator">+</span><span class="decimal">1</span>

 <span class="mne">LDA</span> <a class="popup variable">titleObjectYaw</a>,<span class="register">Y</span>   <span class="comment">\ Set the yaw angle of object #1 to the Y-th entry from</span>
 <span class="mne">STA</span> <a class="popup variable">objectYawAngle</a><span class="operator">+</span><span class="decimal">1</span>   <span class="comment">\ the titleObjectYaw</span>

 <span class="mne">LDX</span> <span class="hash">#</span><span class="decimal">2</span>                 <span class="comment">\ Set the viewing object to object #2 so the screen will</span>
 <span class="mne">STX</span> <a class="popup variable">viewingObject</a>      <span class="comment">\ be drawn from this perspective</span>

 <span class="mne">RTS</span>                    <span class="comment">\ Return from the subroutine</span>
</pre>
				</div>

				<div class="codeBlockWrapper popupWrapper" id="popup-objectpitchangle"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/stack_variables.html#objectpitchangle">objectPitchAngle</a> in workspace <a href="/source/main/workspace/stack_variables.html">Stack variables</a></div><div class="summary">The pitch angle for each object (i.e. the vertical direction in which they are facing)</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-objecttypes"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="link">Variable <a href="/source/main/variable/objecttypes.html">objectTypes</a> (category: 3D objects)</div><div class="summary">The object types table for up to 64 objects</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-objectyawangle"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="link">Variable <a href="/source/main/variable/objectyawangle.html">objectYawAngle</a> (category: 3D objects)</div><div class="summary">The yaw angle for each object (i.e. the horizontal direction in which they are facing)</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-titleobjectyaw"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="link">Variable <a href="/source/main/variable/titleobjectyaw.html">titleObjectYaw</a> (category: Title screen)</div><div class="summary">The yaw angle of an object on the title screen</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-titleviewerpitch"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="link">Variable <a href="/source/main/variable/titleviewerpitch.html">titleViewerPitch</a> (category: Title screen)</div><div class="summary">The pitch angle of the viewer for objects on the title screen</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-titlevieweryaw"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="link">Variable <a href="/source/main/variable/titlevieweryaw.html">titleViewerYaw</a> (category: Title screen)</div><div class="summary">The yaw angle of the viewer for objects on the title screen</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-viewingobject"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/zero_page.html#viewingobject">viewingObject</a> in workspace <a href="/source/main/workspace/zero_page.html">Zero page</a></div><div class="summary">The number of the viewing object</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-xobject"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="link">Variable <a href="/source/main/variable/xobject.html">xObject</a> (category: 3D objects)</div><div class="summary">The x-coordinates in 3D space for the 3D objects</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-yobjecthi"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="link">Variable <a href="/source/main/variable/yobjecthi.html">yObjectHi</a> (category: 3D objects)</div><div class="summary">The y-coordinates in 3D space for the 3D objects (high byte)</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-yobjectlo"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="link">Variable <a href="/source/main/variable/yobjectlo.html">yObjectLo</a> (category: 3D objects)</div><div class="summary">The y-coordinates in 3D space for the 3D objects (low byte)</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-ytitleobject"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="link">Variable <a href="/source/main/variable/ytitleobject.html">yTitleObject</a> (category: Title screen)</div><div class="summary">The y-coordinate of an object on the title screen, as a delta from the y-coordinate of the viewing object</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-zobject"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="link">Variable <a href="/source/main/variable/zobject.html">zObject</a> (category: 3D objects)</div><div class="summary">The z-coordinates in 3D space for the 3D objects</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-ztitleobject"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="link">Variable <a href="/source/main/variable/ztitleobject.html">zTitleObject</a> (category: Title screen)</div><div class="summary">The z-coordinate of an object on the title screen, as a delta from the z-coordinate of the viewing object</div></div></div></div>

				<div class="codeBlockWrapper nav">
					<nav class="codeBlock previousNext"><a class="previous" rel="prev" title="Previous routine" href="/source/main/subroutine/jumptopreview.html">JumpToPreview</a><a class="next" rel="next" title="Next routine" href="/source/main/variable/ztitleobject.html">zTitleObject</a></nav>
				</div>
			</article>

<?php
include_once("../../../templates_local/navigation.php");
?>
		</div>
	</body>
</html>
