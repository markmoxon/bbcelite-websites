<?php
include_once("../../../templates/template_functions.php");
page_header("drawing_the_landscape", "subroutine_getrowvisibility_part_1_of_2.html", "The GetRowVisibility (Part 1 of 2) subroutine", "Drawing the landscape: GetRowVisibility (Part 1 of 2)", "Annotated code for the GetRowVisibility (Part 1 of 2) subroutine in The Sentinel", "the_sentinel-code", "source_drawing_the_landscape", "subroutine_getrowvisibility_part_1_of_2", "");
?>
				<div class="codeBlockWrapper nav">
					<nav class="codeBlock previousNext"><a class="previous" rel="prev" title="Previous routine" href="/source/main/variable/visibilebitmask.html">visibileBitMask</a><a class="next" rel="next" title="Next routine" href="/source/main/subroutine/checksecretstash.html">CheckSecretStash</a></nav>
				</div>

				<div class="codeBlockWrapper">
<pre class="codeBlock sourceCode initial"><div class="headerBlockWrapper"><div class="headerBlock"><span class="headerLabel">       Name:</span> <span class="headerEntry">GetRowVisibility (Part 1 of 2)</span>                          <span class="routineLink">[<a class="extraDataLink" href="#">Show more</a>]</span>
<span class="headerLabel">       Type:</span> <span class="headerEntry">Subroutine</span>
<span class="headerLabel">   Category:</span> <span class="headerEntry">Drawing the landscape</span>
<span class="headerLabel">    Summary:</span> <span class="headerEntry">Set up the calculations to determine whether each tile corner in a</span>
             <span class="headerEntry">tile row is obscured from the player by any intervening landscape</span>
<div class="extraData"><span class="headerLabel">    Context:</span> <span class="headerEntry">See this subroutine <a href="/source/all/the_sentinel_d.html#header-getrowvisibility-part-1-of-2">in context in the source code</a></span>
<span class="headerLabel"> References:</span> <span class="headerEntry">This subroutine is called as follows:</span>
             <span class="headerEntry">* <a href="/source/main/subroutine/gettilevisibility.html">GetTileVisibility</a> calls <a href="#getrowvisibility">GetRowVisibility</a></span>
</div>
<hr class="light">
 This routine populates a specified table with the visibility of each tile
 corner in a row, populating the table with 32 entries as follows:

   * %00000000 if the tile corner is not visible from the player's position

   * %11111111 if the tile corner is visible from the player's position

<hr class="light">
<span class="subheader"> Arguments:</span>

   <span class="argumentLabel">zTileRow</span>             <span class="argumentEntry">The tile z-coordinate of the tile row to analyse</span>

   <span class="argumentLabel">drawingTableOffset</span>   <span class="argumentEntry">Defines where we store the results of the analysis:</span>

                        <span class="argumentEntry">  * oddVisibility when drawingTableOffset = 0</span>

                        <span class="argumentEntry">  * evenVisibility when drawingTableOffset = 32</span>

   <span class="argumentLabel">P</span>                    <span class="argumentEntry">P is always zero, so (Q P) is of the form &xx00</span>

   <span class="argumentLabel">R</span>                    <span class="argumentEntry">R is always &20, so (S R) is of the form &xx20</span>

<hr class="light">
<span class="subheader"> Returns:</span>

   <span class="argumentLabel">(Q P)</span>                <span class="argumentEntry">The address of the table that contains the altitude and</span>
                        <span class="argumentEntry">shape data for tile row zTileRow, like this:</span>

                        <span class="argumentEntry">  * (Q P) = &6000 + (zTileRow 0)</span>

</div></div>
<span class="label">.GetRowVisibility</span><a id="getrowvisibility" class="anchor"></a>

 <span class="mne">LDA</span> <a class="popup variable">zTileRow</a>           <span class="comment">\ Set the high byte of (Q P) to &60 + zTileRow</span>
 <span class="mne">CLC</span>                    <span class="comment">\</span>
 <span class="mne">ADC</span> <span class="hash">#</span><span class="hex">&60</span>               <span class="comment">\ This gives us the address where the GetTileAltitudes</span>
 <span class="mne">STA</span> <a class="popup variable">Q</a>                  <span class="comment">\ routine stored the altitude data for tile row zTileRow</span>
                        <span class="comment">\</span>
                        <span class="comment">\ This works because we only ever call this routine with</span>
                        <span class="comment">\ P = 0, and row zTile = 0 is at &6000, row zTile = 1 is</span>
                        <span class="comment">\ at &6100 and so on</span>

 <span class="mne">LDA</span> <span class="hash">#</span><span class="decimal">31</span>                <span class="comment">\ Set xTileRow = 31 so we start iterating from the right</span>
 <span class="mne">STA</span> <a class="popup variable">xTileRow</a>           <span class="comment">\ end of the current row (so xTileRow iterates from 31</span>
                        <span class="comment">\ to in the following loop)</span>

                        <span class="comment">\ We now loop through each tile corner in the row, from</span>
                        <span class="comment">\ right to left, in a loop that's split over part 1 and</span>
                        <span class="comment">\ part 2 (and which has an anti-cracker interlude in the</span>
                        <span class="comment">\ middle that has nothing to do with visibility checks)</span>

<span class="label">.rvis1</span><a id="rvis1" class="anchor"></a>

 <span class="mne">JSR</span> <a class="popup destination">ProcessSound</a>       <span class="comment">\ Process any sounds or music that are being made in the</span>
                        <span class="comment">\ background</span>

 <span class="mne">LDY</span> <span class="hash">#</span><span class="decimal">0</span>                 <span class="comment">\ Set T = 0, so we can use it to capture the longest</span>
 <span class="mne">STY</span> <a class="popup variable">T</a>                  <span class="comment">\ axis in the vector calculation below</span>

 <span class="mne">DEY</span>                    <span class="comment">\ Set traceStepCounter = 255, so we start off by tracing</span>
 <span class="mne">STY</span> <a class="popup variable">traceStepCounter</a>   <span class="comment">\ 255 steps (as the initial calculation calculates the</span>
                        <span class="comment">\ vector to trace by dividing the full vector from the</span>
                        <span class="comment">\ player to the tile corner by 256)</span>
                        <span class="comment">\</span>
                        <span class="comment">\ We may reduce the number of steps below to make the</span>
                        <span class="comment">\ process more efficient</span>

 <span class="mne">LDY</span> <a class="popup variable">xTileRow</a>           <span class="comment">\ Set yTileRow to the altitude of the tile corner we are</span>
 <span class="mne">LDA</span> <span class="bracket">(</span><a class="popup variable">P</a><span class="bracket">)</span>,<span class="register">Y</span>              <span class="comment">\ analysing</span>
 <span class="mne">LSR</span> <span class="register">A</span>                  <span class="comment">\</span>
 <span class="mne">STA</span> <a class="popup variable">yTileRow</a>           <span class="comment">\ The value in the table at (Q P) contains the flatness</span>
                        <span class="comment">\ of the tile in bit 0 and the altitude of the tile</span>
                        <span class="comment">\ corner in bits 1-4, so we shift this value right by</span>
                        <span class="comment">\ one place to extract the altitude</span>

 <span class="mne">LDX</span> <a class="popup variable">playerObject</a>       <span class="comment">\ Fetch the cartesian coordinates of the player object</span>
 <span class="mne">JSR</span> <a class="popup destination">GetObjectCoords</a>    <span class="comment">\ as three 24-bit numbers, as follows:</span>
                        <span class="comment">\</span>
                        <span class="comment">\   xCoord(Hi Lo Bot)</span>
                        <span class="comment">\</span>
                        <span class="comment">\   yCoord(Hi Lo Bot)</span>
                        <span class="comment">\</span>
                        <span class="comment">\   zCoord(Hi Lo Bot)</span>

 <span class="mne">LDX</span> <span class="hash">#</span><span class="decimal">2</span>                 <span class="comment">\ We now work through all three axes in turn, so set an</span>
                        <span class="comment">\ axis counter in X to iterate through 2, 1 and 0 (for</span>
                        <span class="comment">\ the z-axis, y-axis and x-axis respectively)</span>
                        <span class="comment">\</span>
                        <span class="comment">\ The comments in the following loop will concentrate on</span>
                        <span class="comment">\ the x-axis to keep things simple</span>

<span class="label">.rvis2</span><a id="rvis2" class="anchor"></a>

 <span class="mne">LDA</span> <span class="hash">#</span><span class="decimal">0</span>                 <span class="comment">\ Zero the high byte of (xVector yVector zVector), which</span>
 <span class="mne">STA</span> <a class="popup variable">xVectorHi</a>,<span class="register">X</span>        <span class="comment">\ we will use to store the vector from the player to the</span>
                        <span class="comment">\ tile corner</span>

 <span class="mne">SEC</span>                    <span class="comment">\ Set xVector(Lo Bot) =</span>
 <span class="mne">SBC</span> <a class="popup variable">xCoordLo</a>,<span class="register">X</span>         <span class="comment">\             ((xTileRow 0) - xCoord(Hi Lo)) / 256</span>
 <span class="mne">STA</span> <a class="popup variable">xVectorBot</a>,<span class="register">X</span>       <span class="comment">\</span>
 <span class="mne">LDA</span> <a class="popup variable">xTileRow</a>,<span class="register">X</span>         <span class="comment">\ So xVector(Lo Bot) contains the distance in the x-axis</span>
 <span class="mne">SBC</span> <a class="popup variable">xCoordHi</a>,<span class="register">X</span>         <span class="comment">\ from the player to the tile corner that we are</span>
 <span class="mne">STA</span> <a class="popup variable">xVectorLo</a>,<span class="register">X</span>        <span class="comment">\ analysing, divided by 256</span>
                        <span class="comment">\</span>
                        <span class="comment">\ The "divided by 256" part is subtle and important</span>
                        <span class="comment">\</span>
                        <span class="comment">\ We want to divide the vector from the player to the</span>
                        <span class="comment">\ tile corner into small steps, so we can move along the</span>
                        <span class="comment">\ vector sequentially, checking on each step whether the</span>
                        <span class="comment">\ vector is passing below ground level (in which case we</span>
                        <span class="comment">\ will know that the line of sight from the player to</span>
                        <span class="comment">\ the tile corner is obstructed by landscape)</span>
                        <span class="comment">\</span>
                        <span class="comment">\ The above calculation subtracts two high byte/low byte</span>
                        <span class="comment">\ 16-bit numbers in (xTileRow 0) and xCoord(Hi Lo) and</span>
                        <span class="comment">\ puts the result into a low byte/bottom byte 16-bit</span>
                        <span class="comment">\ number in xVector(Lo Bot)</span>
                        <span class="comment">\</span>
                        <span class="comment">\ This is the same as dividing the result of the</span>
                        <span class="comment">\ subtraction by 256, which we can see if we consider</span>
                        <span class="comment">\ that this would be the normal high/low calculation:</span>
                        <span class="comment">\</span>
                        <span class="comment">\   xVector(Hi Lo) =  (xTileRow 0) - xCoord(Hi Lo)</span>
                        <span class="comment">\</span>
                        <span class="comment">\ and we also have:</span>
                        <span class="comment">\</span>
                        <span class="comment">\   xVector(Lo Bot) = xVector(Hi Lo) / 256</span>
                        <span class="comment">\</span>
                        <span class="comment">\ so we get:</span>
                        <span class="comment">\</span>
                        <span class="comment">\   xVector(Lo Bot)</span>
                        <span class="comment">\           = ((xTileRow 0) - xCoord(Hi Lo)) / 256</span>
                        <span class="comment">\</span>
                        <span class="comment">\ Also, it's worth noting that this is the vector from</span>
                        <span class="comment">\ the player to the tile corner, because if you add this</span>
                        <span class="comment">\ vector to the player's coordinates 256 times, then you</span>
                        <span class="comment">\ get the tile corner's coordinates</span>

 <span class="mne">BPL</span> <a class="popup destination">rvis3</a>              <span class="comment">\ If the result is positive, jump to rvis3, with the low</span>
                        <span class="comment">\ byte of the result (xVectorLo) in A</span>

 <span class="mne">DEC</span> <a class="popup variable">xVectorHi</a>,<span class="register">X</span>        <span class="comment">\ The result is negative, so set xVectorHi to %11111111</span>
                        <span class="comment">\ so it can be used as the high byte for the negative</span>
                        <span class="comment">\ 24-bit number in xVector(Hi Lo Bot)</span>

 <span class="mne">LDA</span> <span class="hash">#</span><span class="decimal">0</span>                 <span class="comment">\ Negate the result as follows (note that we ignore the</span>
 <span class="mne">SEC</span>                    <span class="comment">\ bottom byte, as we are only interested in the low byte</span>
 <span class="mne">SBC</span> <a class="popup variable">xVectorBot</a>,<span class="register">X</span>       <span class="comment">\ of the result):</span>
 <span class="mne">LDA</span> <span class="hash">#</span><span class="decimal">0</span>                 <span class="comment">\</span>
 <span class="mne">SBC</span> <a class="popup variable">xVectorLo</a>,<span class="register">X</span>        <span class="comment">\   (A *) = -xVector(Lo Bot)</span>
                        <span class="comment">\</span>
                        <span class="comment">\ So this makes (A *) positive, to give this:</span>
                        <span class="comment">\</span>
                        <span class="comment">\   (A *) = |xVectorLo xVectorBot|</span>
                        <span class="comment">\</span>
                        <span class="comment">\ So the low byte of the result |xVectorLo| is in A</span>

<span class="label">.rvis3</span><a id="rvis3" class="anchor"></a>

                        <span class="comment">\ By this point we have the following:</span>
                        <span class="comment">\</span>
                        <span class="comment">\   * A = |xVectorLo|</span>
                        <span class="comment">\</span>
                        <span class="comment">\   * xVectorHi is either 0 or %11111111, depending on</span>
                        <span class="comment">\     the sign of xVector(Lo Bot)</span>

 <span class="mne">CMP</span> <a class="popup variable">T</a>                  <span class="comment">\ If A >= T then set T = A, so T keeps a record of the</span>
 <span class="mne">BCC</span> <a class="popup destination">rvis4</a>              <span class="comment">\ largest value of |xVectorLo| across all three axes</span>
 <span class="mne">STA</span> <a class="popup variable">T</a>                  <span class="comment">\</span>
                        <span class="comment">\ In other words, once we have finished looping through</span>
                        <span class="comment">\ all three axes, T will contain the magnitude of the</span>
                        <span class="comment">\ longest axis in the vector:</span>
                        <span class="comment">\</span>
                        <span class="comment">\   T = max(|xVectorLo|, |yVectorLo|, |zVectorLo|)</span>

<span class="label">.rvis4</span><a id="rvis4" class="anchor"></a>

 <span class="mne">DEX</span>                    <span class="comment">\ Decrement the axis counter in X to move on to the next</span>
                        <span class="comment">\ axis</span>

 <span class="mne">BPL</span> <a class="popup destination">rvis2</a>              <span class="comment">\ Loop back until we have processed all three axes</span>

                        <span class="comment">\ At this point X is set to 255, which we use below when</span>
                        <span class="comment">\ checking the secret entry code in CheckSecretStash</span>

 <span class="mne">LDA</span> <a class="popup variable">T</a>                  <span class="comment">\ If:</span>
 <span class="mne">ASL</span> <span class="register">A</span>                  <span class="comment">\</span>
 <span class="mne">ASL</span> <span class="register">A</span>                  <span class="comment">\   T * 4 &lt; 6</span>
 <span class="mne">CMP</span> <span class="hash">#</span><span class="decimal">6</span>                 <span class="comment">\</span>
 <span class="mne">BCC</span> <a class="popup destination">rvis10</a>             <span class="comment">\ then:</span>
                        <span class="comment">\</span>
                        <span class="comment">\   T &lt; 1.5</span>
                        <span class="comment">\</span>
                        <span class="comment">\ and:</span>
                        <span class="comment">\</span>
                        <span class="comment">\  max(|xVectorLo|, |yVectorLo|, |zVectorLo|) &lt; 1.5</span>
                        <span class="comment">\</span>
                        <span class="comment">\ In other words, if this is true, then the longest axis</span>
                        <span class="comment">\ of the vector from player to the tile corner is less</span>
                        <span class="comment">\ than 1.5 (where each tile is of size 1), so the tile</span>
                        <span class="comment">\ corner we are analysing is within 1.5 tile widths of</span>
                        <span class="comment">\ the player</span>
                        <span class="comment">\</span>
                        <span class="comment">\ We automatically mark all these close-by tiles as</span>
                        <span class="comment">\ being potentially visible, so we jump to rvis10 with</span>
                        <span class="comment">\ the C flag clear to store &FF as the visibility result</span>
                        <span class="comment">\ (to record that this corner is potentially visible)</span>

                        <span class="comment">\ The next step is an optimisation</span>
                        <span class="comment">\</span>
                        <span class="comment">\ We could trace the vector from the player to the tile</span>
                        <span class="comment">\ corner in steps of 256, but given that the landscape</span>
                        <span class="comment">\ is only 32 tile corners across in each direction, this</span>
                        <span class="comment">\ would mean that most of the time we would be stepping</span>
                        <span class="comment">\ along the vector while staying above the same tile</span>
                        <span class="comment">\</span>
                        <span class="comment">\ Instead we can scale up the size of our steps and do</span>
                        <span class="comment">\ fewer of them, and as long as each individual step is</span>
                        <span class="comment">\ smaller than a tile width, we can still check every</span>
                        <span class="comment">\ landscape tile along the line of sight</span>
                        <span class="comment">\</span>
                        <span class="comment">\ We therefore double the value in A, which contains the</span>
                        <span class="comment">\ longest side of the vector, to be as high as possible</span>
                        <span class="comment">\ while still fitting into one byte (which represents a</span>
                        <span class="comment">\ fraction of a tile as it's the low byte of the vector)</span>
                        <span class="comment">\</span>
                        <span class="comment">\ At the same time we double the size of the vector by</span>
                        <span class="comment">\ doubling the following:</span>
                        <span class="comment">\</span>
                        <span class="comment">\   xVector(Hi Lo Bot)</span>
                        <span class="comment">\</span>
                        <span class="comment">\   yVector(Hi Lo Bot)</span>
                        <span class="comment">\</span>
                        <span class="comment">\   zVector(Hi Lo Bot)</span>
                        <span class="comment">\</span>
                        <span class="comment">\ though we don't actually need to shift the high bytes</span>
                        <span class="comment">\ as we won't be shifting data out of the low bytes and</span>
                        <span class="comment">\ they are either zero or %11111111</span>
                        <span class="comment">\</span>
                        <span class="comment">\ Because we have doubled the size of the vector, we</span>
                        <span class="comment">\ also halve the number of steps in traceStepCounter</span>
                        <span class="comment">\</span>
                        <span class="comment">\ This reduces the number of steps in the ray-tracing</span>
                        <span class="comment">\ process as far as possible while keeping the size of</span>
                        <span class="comment">\ each step to less than one tile (so that the tracing</span>
                        <span class="comment">\ process still steps through each tile en route)</span>

<span class="label">.rvis5</span><a id="rvis5" class="anchor"></a>

 <span class="mne">ASL</span> <a class="popup variable">xVectorBot</a>         <span class="comment">\ Double xVector(Lo Bot) to double the size of the</span>
 <span class="mne">ROL</span> <a class="popup variable">xVectorLo</a>          <span class="comment">\ vector</span>
 <span class="mne">ASL</span> <a class="popup variable">yVectorBot</a>
 <span class="mne">ROL</span> <a class="popup variable">yVectorLo</a>
 <span class="mne">ASL</span> <a class="popup variable">zVectorBot</a>
 <span class="mne">ROL</span> <a class="popup variable">zVectorLo</a>

 <span class="mne">LSR</span> <a class="popup variable">traceStepCounter</a>   <span class="comment">\ Halve traceStepCounter to halve the number of steps in</span>
                        <span class="comment">\ the tracing process</span>

 <span class="mne">ASL</span> <span class="register">A</span>                  <span class="comment">\ Shift A to the left to shift bit 7 into the C flag, to</span>
                        <span class="comment">\ detect when A is as big as it can be within one byte</span>

 <span class="mne">BCC</span> <a class="popup destination">rvis5</a>              <span class="comment">\ Loop back to repeat the above scalings until we have</span>
                        <span class="comment">\ scaled up the vector as much as we can</span>

                        <span class="comment">\ So xVector(Hi Lo Bot) now contains the vector from the</span>
                        <span class="comment">\ player to the tile corner, divided by 256 and scaled</span>
                        <span class="comment">\ up as far as possible while still keeping the vector</span>
                        <span class="comment">\ within the dimensions of a tile, and traceStepCounter</span>
                        <span class="comment">\ contains the number of times this vector fits into the</span>
                        <span class="comment">\ original vector from the player to the tile corner</span>
                        <span class="comment">\</span>
                        <span class="comment">\ We can therefore trace the vector from the player to</span>
                        <span class="comment">\ the tile corner by taking the player's coordinates and</span>
                        <span class="comment">\ adding the xVector(Hi Lo Bot) vector traceStepCounter</span>
                        <span class="comment">\ times, knowing that together, these steps will stop</span>
                        <span class="comment">\ over every tile between the player and the tile corner</span>
                        <span class="comment">\ in the process (we may stop over some tiles more than</span>
                        <span class="comment">\ once, but that's OK)</span>

 <span class="mne">LDA</span> <a class="popup variable">zCoordHi</a>           <span class="comment">\ Set zCoordHi = zCoordHi + &60</span>
 <span class="mne">CLC</span>                    <span class="comment">\</span>
 <span class="mne">ADC</span> <span class="hash">#</span><span class="hex">&60</span>               <span class="comment">\ This sets zCoordHi to the high byte of the address for</span>
 <span class="mne">STA</span> <a class="popup variable">zCoordHi</a>           <span class="comment">\ the extracted altitude data for the tile row on which</span>
                        <span class="comment">\ the player is standing (as zCoordHi is the integer</span>
                        <span class="comment">\ part of the player's z-coordinate, which is the number</span>
                        <span class="comment">\ of the row containing the player)</span>

                        <span class="comment">\ We now have a short interlude to check the secret code</span>
                        <span class="comment">\ stash, as part of the game's anti-cracker code, and we</span>
                        <span class="comment">\ pick up the tile visibility code in part 2</span>
</pre>
				</div>

				<div class="codeBlockWrapper popupWrapper" id="popup-getobjectcoords"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="link">Subroutine <a href="/source/main/subroutine/getobjectcoords.html">GetObjectCoords</a> (category: 3D objects)</div><div class="summary">Get an object's coordinates</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-p"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/zero_page.html#p">P</a> in workspace <a href="/source/main/workspace/zero_page.html">Zero page</a></div><div class="summary">Temporary storage, used in a number of places</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-processsound"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="link">Subroutine <a href="/source/main/subroutine/processsound.html">ProcessSound</a> (category: Sound)</div><div class="summary">Process any sound effects that have been configured so they play in the background (this is called regularly throughout gameplay)</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-q"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/zero_page.html#q">Q</a> in workspace <a href="/source/main/workspace/zero_page.html">Zero page</a></div><div class="summary">Temporary storage, used in a number of places</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-t"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/zero_page.html#t">T</a> in workspace <a href="/source/main/workspace/zero_page.html">Zero page</a></div><div class="summary">Temporary storage, used in a number of places</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-playerobject"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/zero_page.html#playerobject">playerObject</a> in workspace <a href="/source/main/workspace/zero_page.html">Zero page</a></div><div class="summary">The number of the player object</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-rvis10"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Label <a href="/source/main/subroutine/getrowvisibility_part_2_of_2.html#rvis10">rvis10</a> in subroutine <a href="/source/main/subroutine/getrowvisibility_part_2_of_2.html">GetRowVisibility (Part 2 of 2)</a></div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-rvis2"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Label <a href="/source/main/subroutine/getrowvisibility_part_1_of_2.html#rvis2">rvis2</a> is local to this routine</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-rvis3"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Label <a href="/source/main/subroutine/getrowvisibility_part_1_of_2.html#rvis3">rvis3</a> is local to this routine</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-rvis4"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Label <a href="/source/main/subroutine/getrowvisibility_part_1_of_2.html#rvis4">rvis4</a> is local to this routine</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-rvis5"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Label <a href="/source/main/subroutine/getrowvisibility_part_1_of_2.html#rvis5">rvis5</a> is local to this routine</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-tracestepcounter"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/zero_page.html#tracestepcounter">traceStepCounter</a> in workspace <a href="/source/main/workspace/zero_page.html">Zero page</a></div><div class="summary">The number of steps in the ray-tracing process when calculating tile visibility in the GetRowVisibility routine</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-xcoordhi"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/zero_page.html#xcoordhi">xCoordHi</a> in workspace <a href="/source/main/workspace/zero_page.html">Zero page</a></div><div class="summary">The x-coordinate of an object or point (high byte)</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-xcoordlo"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/zero_page.html#xcoordlo">xCoordLo</a> in workspace <a href="/source/main/workspace/zero_page.html">Zero page</a></div><div class="summary">The x-coordinate of an object or point (low byte)</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-xtilerow"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/zero_page.html#xtilerow">xTileRow</a> in workspace <a href="/source/main/workspace/zero_page.html">Zero page</a></div><div class="summary">The tile x-coordinate of the tile we are analysing in the GetRowVisibility routine</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-xvectorbot"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/zero_page.html#xvectorbot">xVectorBot</a> in workspace <a href="/source/main/workspace/zero_page.html">Zero page</a></div><div class="summary">The x-coordinate of a vector (bottom byte)</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-xvectorhi"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/zero_page.html#xvectorhi">xVectorHi</a> in workspace <a href="/source/main/workspace/zero_page.html">Zero page</a></div><div class="summary">The x-coordinate of a vector (high byte)</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-xvectorlo"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/zero_page.html#xvectorlo">xVectorLo</a> in workspace <a href="/source/main/workspace/zero_page.html">Zero page</a></div><div class="summary">The x-coordinate of a vector (low byte)</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-ytilerow"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/zero_page.html#ytilerow">yTileRow</a> in workspace <a href="/source/main/workspace/zero_page.html">Zero page</a></div><div class="summary">The tile y-coordinate of the tile we are analysing in the GetRowVisibility routine</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-yvectorbot"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/zero_page.html#yvectorbot">yVectorBot</a> in workspace <a href="/source/main/workspace/zero_page.html">Zero page</a></div><div class="summary">The y-coordinate of a vector (bottom byte)</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-yvectorlo"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/zero_page.html#yvectorlo">yVectorLo</a> in workspace <a href="/source/main/workspace/zero_page.html">Zero page</a></div><div class="summary">The y-coordinate of a vector (low byte)</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-zcoordhi"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/zero_page.html#zcoordhi">zCoordHi</a> in workspace <a href="/source/main/workspace/zero_page.html">Zero page</a></div><div class="summary">The z-coordinate of an object or point (high byte)</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-ztilerow"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/zero_page.html#ztilerow">zTileRow</a> in workspace <a href="/source/main/workspace/zero_page.html">Zero page</a></div><div class="summary">The tile z-coordinate of the tile we are analysing in the GetRowVisibility routine</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-zvectorbot"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/zero_page.html#zvectorbot">zVectorBot</a> in workspace <a href="/source/main/workspace/zero_page.html">Zero page</a></div><div class="summary">The z-coordinate of a vector (bottom byte)</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-zvectorlo"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/zero_page.html#zvectorlo">zVectorLo</a> in workspace <a href="/source/main/workspace/zero_page.html">Zero page</a></div><div class="summary">The z-coordinate of a vector (low byte)</div></div></div></div>

				<div class="codeBlockWrapper nav">
					<nav class="codeBlock previousNext"><a class="previous" rel="prev" title="Previous routine" href="/source/main/variable/visibilebitmask.html">visibileBitMask</a><a class="next" rel="next" title="Next routine" href="/source/main/subroutine/checksecretstash.html">CheckSecretStash</a></nav>
				</div>
			</article>

<?php
include_once("../../../templates_local/navigation.php");
?>
		</div>
	</body>
</html>
