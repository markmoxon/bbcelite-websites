<?php
include_once("../../../templates/template_functions.php");
page_header("sights", "subroutine_movesights.html", "The MoveSights subroutine", "Sights: MoveSights", "Annotated code for the MoveSights subroutine in The Sentinel", "the_sentinel-code", "source_sights", "subroutine_movesights", "");
?>
				<div class="codeBlockWrapper nav">
					<nav class="codeBlock previousNext"><a class="previous" rel="prev" title="Previous routine" href="/source/main/subroutine/setcolumnbuffermax.html">SetColumnBufferMax</a><a class="next" rel="next" title="Next routine" href="/source/main/subroutine/movesightssideways.html">MoveSightsSideways</a></nav>
				</div>

				<div class="codeBlockWrapper">
<pre class="codeBlock sourceCode initial"><div class="headerBlockWrapper"><div class="headerBlock"><span class="headerLabel">       Name:</span> <span class="headerEntry">MoveSights</span>                                              <span class="routineLink">[<a class="extraDataLink" href="#">Show more</a>]</span>
<span class="headerLabel">       Type:</span> <span class="headerEntry">Subroutine</span>
<span class="headerLabel">   Category:</span> <span class="headerEntry">Sights</span>
<span class="headerLabel">    Summary:</span> <span class="headerEntry">Check for up/down/left/right key presses and move the sights</span>
             <span class="headerEntry">accordingly, panning the screen if they go past the screen edges</span>
<div class="extraData"><span class="headerLabel">    Context:</span> <span class="headerEntry">See this subroutine <a href="/source/all/the_sentinel_h.html#header-movesights">in context in the source code</a></span>
<span class="headerLabel"> References:</span> <span class="headerEntry">This subroutine is called as follows:</span>
             <span class="headerEntry">* <a href="/source/main/subroutine/checkforkeypresses.html">CheckForKeyPresses</a> calls <a href="#movesights">MoveSights</a></span>
</div>
</div></div>
<span class="label">.MoveSights</span><a id="movesights" class="anchor"></a>

 <span class="mne">JSR</span> <a class="popup destination">MoveSightsSideways</a> <span class="comment">\ Check for the left/right keys and move the sights</span>
                        <span class="comment">\ accordingly, panning to the left or right if they go</span>
                        <span class="comment">\ past the screen edges</span>

 <span class="mne">LDA</span> <a class="popup variable">panKeyBeingPressed</a> <span class="comment">\ If panKeyBeingPressed contains a key press then one</span>
 <span class="mne">BPL</span> <a class="popup destination">sigh1</a>              <span class="comment">\ of the left and right keys is being pressed, so jump</span>
                        <span class="comment">\ to sigh1 to skip scanning the up and down keys as we</span>
                        <span class="comment">\ can only move the sights in one direction at a time</span>

 <span class="mne">JSR</span> <a class="popup destination">MoveSightsUpDown</a>   <span class="comment">\ Check for the up/down keys and move the sights</span>
                        <span class="comment">\ accordingly, panning up or down if they go past the</span>
                        <span class="comment">\ screen edges</span>

<span class="label">.sigh1</span><a id="sigh1" class="anchor"></a>

 <span class="mne">JMP</span> <a class="popup destination">DrawSights</a>         <span class="comment">\ Jump to DrawSights to draw the sights in their new</span>
                        <span class="comment">\ position, returning from the subroutine using a tail</span>
                        <span class="comment">\ call</span>
</pre>
				</div>

				<div class="codeBlockWrapper popupWrapper" id="popup-drawsights"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="link">Subroutine <a href="/source/main/subroutine/drawsights.html">DrawSights</a> (category: Sights)</div><div class="summary">Draw the sights on the screen, saving the existing screen contents in the sights pixel byte stash</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-movesightssideways"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="link">Subroutine <a href="/source/main/subroutine/movesightssideways.html">MoveSightsSideways</a> (category: Sights)</div><div class="summary">Check for the left/right keys and move the sights accordingly, panning to the left or right if they go past the screen edges</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-movesightsupdown"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="link">Subroutine <a href="/source/main/subroutine/movesightsupdown.html">MoveSightsUpDown</a> (category: Sights)</div><div class="summary">Check for the up/down keys and move the sights accordingly, panning up or down if they go past the screen edges</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-pankeybeingpressed"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/zero_page.html#pankeybeingpressed">panKeyBeingPressed</a> in workspace <a href="/source/main/workspace/zero_page.html">Zero page</a></div><div class="summary">The direction in which the player is currently panning</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-sigh1"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Label <a href="/source/main/subroutine/movesights.html#sigh1">sigh1</a> is local to this routine</div></div></div></div>

				<div class="codeBlockWrapper nav">
					<nav class="codeBlock previousNext"><a class="previous" rel="prev" title="Previous routine" href="/source/main/subroutine/setcolumnbuffermax.html">SetColumnBufferMax</a><a class="next" rel="next" title="Next routine" href="/source/main/subroutine/movesightssideways.html">MoveSightsSideways</a></nav>
				</div>
			</article>

<?php
include_once("../../../templates_local/navigation.php");
?>
		</div>
	</body>
</html>
