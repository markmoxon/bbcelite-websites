<?php
include_once("../../../templates/template_functions.php");
page_header("text", "subroutine_printdigit.html", "The PrintDigit subroutine", "Text: PrintDigit", "Annotated code for the PrintDigit subroutine in The Sentinel", "the_sentinel-code", "source_text", "subroutine_printdigit", "");
?>
				<div class="codeBlockWrapper nav">
					<nav class="codeBlock previousNext"><a class="previous" rel="prev" title="Previous routine" href="/source/main/subroutine/printnumber.html">PrintNumber</a><a class="next" rel="next" title="Next routine" href="/source/main/subroutine/spawncharacter3d_part_1_of_2.html">SpawnCharacter3D (Part 1 of 2)</a></nav>
				</div>

				<div class="codeBlockWrapper">
<pre class="codeBlock sourceCode initial"><div class="headerBlockWrapper"><div class="headerBlock"><span class="headerLabel">       Name:</span> <span class="headerEntry">PrintDigit</span>                                              <span class="routineLink">[<a class="extraDataLink" href="#">Show more</a>]</span>
<span class="headerLabel">       Type:</span> <span class="headerEntry">Subroutine</span>
<span class="headerLabel">   Category:</span> <span class="headerEntry">Text</span>
<span class="headerLabel">    Summary:</span> <span class="headerEntry">Print a numerical digit, printing zero as a capital "O"</span>
<div class="extraData"><span class="headerLabel">    Context:</span> <span class="headerEntry">See this subroutine <a href="/source/all/the_sentinel_f.html#header-printdigit">in context in the source code</a></span>
<span class="headerLabel"> References:</span> <span class="headerEntry">This subroutine is called as follows:</span>
             <span class="headerEntry">* <a href="/source/main/subroutine/printinputbuffer.html">PrintInputBuffer</a> calls <a href="#printdigit">PrintDigit</a></span>
</div>
<hr class="light">
<span class="subheader"> Arguments:</span>

   <span class="argumentLabel">A</span>                    <span class="argumentEntry">The numerical digit to be printed as an ASCII code</span>

</div></div>
<span class="label">.PrintDigit</span><a id="printdigit" class="anchor"></a>

 <span class="mne">CMP</span> <span class="hash">#</span><span class="character">'0'</span>               <span class="comment">\ If the character in A is not a zero, jump to zero1 to</span>
 <span class="mne">BNE</span> <a class="popup destination">zero1</a>              <span class="comment">\ skip the following</span>

 <span class="mne">LDA</span> <span class="hash">#</span><span class="character">'O'</span>               <span class="comment">\ The character in A is a zero, so set A to ASCII "O" so</span>
                        <span class="comment">\ we print zero as capital "O" instead</span>

<span class="label">.zero1</span><a id="zero1" class="anchor"></a>

 <span class="mne">BIT</span> <a class="popup variable">printTextIn3D</a>      <span class="comment">\ If bit 7 of printTextIn3D is set then we are printing</span>
 <span class="mne">BMI</span> <a class="popup destination">SpawnCharacter3D</a>   <span class="comment">\ 3D text, so jump to SpawnCharacter3D to spawn the</span>
                        <span class="comment">\ character in 3D text blocks</span>

 <span class="mne">JMP</span> <a class="popup destination">PrintCharacter</a>     <span class="comment">\ Otherwise jump to PrintCharacter to print the single-</span>
                        <span class="comment">\ byte VDU command or character in A, returning from the</span>
                        <span class="comment">\ subroutine using a tail call</span>
</pre>
				</div>

				<div class="codeBlockWrapper popupWrapper" id="popup-printcharacter"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="link">Subroutine <a href="/source/main/subroutine/printcharacter.html">PrintCharacter</a> (category: Text)</div><div class="summary">Print a single-byte VDU command or character from a text token, optionally printing a drop shadow if the character is alphanumeric</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-spawncharacter3d"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="link">Subroutine <a href="/source/main/subroutine/spawncharacter3d_part_1_of_2.html">SpawnCharacter3D (Part 1 of 2)</a> (category: Title screen)</div><div class="summary">Spawn a character on the landscape in large 3D blocks for drawing on the main title screen or secret code screen</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-printtextin3d"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Variable <a href="/source/main/workspace/main_variable_workspace.html#printtextin3d">printTextIn3D</a> in workspace <a href="/source/main/workspace/main_variable_workspace.html">Main variable workspace</a></div><div class="summary">Controls whether we are printing text normally or in 3D (as in the game's title on the title screen)</div></div></div></div>

				<div class="codeBlockWrapper popupWrapper" id="popup-zero1"><div class="codeBlock"><div class="close">[X]</div><div class="content"><div class="name">Label <a href="/source/main/subroutine/printdigit.html#zero1">zero1</a> is local to this routine</div></div></div></div>

				<div class="codeBlockWrapper nav">
					<nav class="codeBlock previousNext"><a class="previous" rel="prev" title="Previous routine" href="/source/main/subroutine/printnumber.html">PrintNumber</a><a class="next" rel="next" title="Next routine" href="/source/main/subroutine/spawncharacter3d_part_1_of_2.html">SpawnCharacter3D (Part 1 of 2)</a></nav>
				</div>
			</article>

<?php
include_once("../../../templates_local/navigation.php");
?>
		</div>
	</body>
</html>
