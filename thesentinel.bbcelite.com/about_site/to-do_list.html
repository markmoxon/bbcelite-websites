<?php
include_once("../templates/template_functions.php");
page_header("about_site", "to-do_list.html", "To-do list", "To-do list", "Code that could benefit from a bit more analysis", "the_sentinel","about_site", "to-do_list");
?>
				<div class="codeBlockWrapper nav">
					<nav class="codeBlock previousNext"><a class="previous" rel="prev" title="Previous page" href="site_map.html">Site map</a></nav>
				</div>

				<div class="codeBlockWrapper">
					<div class="codeBlock article">
						<p>I have documented every byte of The Sentinel game code, but that doesn't mean that I've fully <i>understood</i> every byte (though it's close). Almost every single aspect of the code is explained, but there are a few issues that could benefit from another look.</p>

						<p>This page lists all of the outstanding issues of which I am aware. These are the notes I made as I analysed the source, so they are fairly terse and might not be terribly clear.</p>

						<h2 class="articleSubheader">Main game loop<br />
						                             --------------</h2>

						<ul>
							<li><a href="/source/main/subroutine/setscannerandpause.html">SetScannerAndPause</a>: Why the pause? Seems to have been patched into the code as an afterthought</li>
						</ul>

						<h2 class="articleSubheader">Drawing the landscape<br />
						                             ---------------------</h2>

						<ul>
							<li><a href="/source/main/workspace/zero_page.html#quadrantoffset">quadrantOffset</a>: Explain what this does</li>
							<li><a href="/source/main/workspace/zero_page.html#viewingquadrantopp">viewingQuadrantOpp</a>: Explain what this does</li>
							<li><a href="/source/main/subroutine/drawlandscapeview_part_1_of_3.html">DrawLandscapeView (Part 1 of 3)</a>: Explain quadrantOffset, viewingQuadrantOpp, why subtract from 30 when it's 31 in GetTileViewAngles?</li>
							<li><a href="/source/main/subroutine/drawlandscapeview_part_3_of_3.html">DrawLandscapeView (Part 3 of 3)</a>: What does a high pitch byte of 2 mean?</li>
							<li><a href="/source/main/subroutine/gettileviewedges.html">GetTileViewEdges</a>: This makes no sense! Is my analysis of tileIsOnScreen incorrect in GetTileViewAngles, because of buffersMinYaw?</li>
							<li><a href="/source/main/subroutine/drawtileandobjects.html">DrawTileAndObjects</a>: Explain triangleStartPoint, quadrantOffset, viewingQuadrantOpp</li>
							<li><a href="/source/main/subroutine/drawslopingtile.html">DrawSlopingTile</a>: Explain triangleStart/triangleStartPoint, adding 16 to A</li>
							<li><a href="/source/main/subroutine/drawtwofacetile.html">DrawTwoFaceTile</a>: Explain triangleStartPoint and A arguments as passed from DrawSlopingTile</li>
						</ul>

						<h2 class="articleSubheader">Drawing polygons<br />
						                             ----------------</h2>

						<ul>
							<li><a href="/source/main/subroutine/drawpolygonlines_part_1_of_4.html">DrawPolygonLines (Part 1 of 4)</a>: Why add 96 to address in right row buffer from bufferOffset(Hi Lo)?</li>
							<li><a href="/source/main/subroutine/drawpolygonlines_part_2_of_4.html">DrawPolygonLines (Part 2 of 4)</a>: Why xPolygonRightEdge = bufferYawWidth * 2 (is bufferYawWidth in "pixels"?)</li>
							<li><a href="/source/main/subroutine/drawpolygonlines_part_3_of_4.html">DrawPolygonLines (Part 3 of 4)</a>: Explain calculation of Y = offset of edge within character row</li>
							<li><a href="/source/main/subroutine/getpolygonlines_part_1_of_6.html">GetPolygonLines (Part 1 of 6)</a>: Explain trianglePointAdd, triangleStart, how does triangle point logic work?</li>
							<li><a href="/source/main/subroutine/getpolygonlines_part_5_of_6.html">GetPolygonLines (Part 5 of 6)</a>: Clarify logic around choosing left vs right depending on sign of yDelta, why skip horizontal edge count when yEdgeDeltaLo = 0?</li>
							<li><a href="/source/main/subroutine/tracepolygonedge_part_2_of_8.html">TracePolygonEdge (Part 2 of 8)</a>, <a href="/source/main/subroutine/tracepolygonedge_part_3_of_8.html">TracePolygonEdge (Part 3 of 8)</a>, <a href="/source/main/subroutine/tracepolygonedge_part_4_of_8.html">TracePolygonEdge (Part 4 of 8)</a>, <a href="/source/main/subroutine/tracepolygonedge_part_5_of_8.html">TracePolygonEdge (Part 5 of 8)</a>: Why does the slope error calculation include xEdgeDelta?</li>
							<li><a href="/source/main/subroutine/tracepolygonedge_part_7_of_8.html">TracePolygonEdge (Part 7 of 8)</a>: Why does the slope error calculation include xEdgeDelta? Why increment (A Y)? Explain calls to ModifyStoringCode, whole thing needs explaining better</li>
							<li><a href="/source/main/subroutine/tracepolygonedge_part_8_of_8.html">TracePolygonEdge (Part 8 of 8)</a>: Explain slope error calculation, explain calls to ModifyStoringCode, whole thing needs explaining better</li>
							<li><a href="/source/main/subroutine/modifystoringcode.html">ModifyStoringCode</a>: Explain effects of modified code properly</li>
						</ul>

						<h2 class="articleSubheader">Maths (Geometry)<br />
						                             ----------------</h2>

						<ul>
							<li><a href="/source/main/subroutine/getanglefromcoords_part_1_of_3.html">GetAngleFromCoords (Part 1 of 3)</a>, <a href="/source/main/subroutine/getanglefromcoords_part_2_of_3.html">GetAngleFromCoords (Part 2 of 3)</a>: Explain the early abort of shift-and-subtract and what this does to bit 5 of the result</li>
							<li><a href="/source/main/subroutine/getsightsvector.html">GetSightsVector</a>: Improve pixel-to-angle commentary, explain pitch angle addition of (3 32)</li>
							<li><a href="/source/main/subroutine/gethypotenuseangle.html">GetHypotenuseAngle</a>: Why zero bits 0 and 1 of W? Explain the quadrant sign changes for the angle</li>
							<li><a href="/source/main/subroutine/getpitchangledelta.html">GetPitchAngleDelta</a>: Why the 32 in (objectPitchAngle 32)? Explain division by 16</li>
						</ul>

						<h2 class="articleSubheader">Gameplay<br />
						                             --------</h2>

						<ul>
							<li><a href="/source/main/subroutine/scanformeanietree.html">ScanForMeanieTree</a>: Why is minObjWidth = 104 for tree to meanie? Half widths are 114 to 74</li>
							<li><a href="/source/main/subroutine/drainobjectenergy.html">DrainObjectEnergy</a>: Why is minObjWidth = 116 for boulder to tree? Half widths are 122 to 144</li>
						</ul>


						<h2 class="articleSubheader">Screen buffer<br />
						                             -------------</h2>

						<ul>
							<li><a href="/source/main/variable/buffersoffsethi.html">buffersOffsetHi</a>, <a href="/source/main/variable/buffersoffsetlo.html">buffersOffsetLo</a>: Why these values?</li>
							<li><a href="/source/main/variable/xbuffersleft.html">xBuffersLeft</a>: Why these values?</li>
							<li><a href="/source/main/variable/xbufferswidth.html">xBuffersWidth</a>: Why these values?</li>
							<li><a href="/source/main/variable/buffersminyaw.html">buffersMinYaw</a>: Why these values? And does this impact GetTileViewAngles and therefore GetTileViewEdges (via tileIsOnScreen)?</li>
							<li><a href="/source/main/subroutine/configurebuffer.html">ConfigureBuffer</a>: How do these variables work?</li>
							<li><a href="/source/main/subroutine/configureobjbuffer.html">ConfigureObjBuffer</a>: How do these variables work?</li>
							<li><a href="/source/main/subroutine/ditherscreenbuffer.html">DitherScreenBuffer</a>: Explain ditherStore calculation</li>
						</ul>
					</div>
				</div>

				<div class="codeBlockWrapper nav">
					<nav class="codeBlock previousNext"><a class="previous" rel="prev" title="Previous page" href="site_map.html">Site map</a></nav>
				</div>
			</article>

<?php
include_once("../templates_local/navigation.php");

?>
		</div>
	</body>
</html>
