<?php
include_once("../templates/template_functions.php");
page_header("deep_dives", "the_constrictor_mission.html", "The Constrictor mission", "The Constrictor mission", "A deep dive into the Constrictor mission in Elite", "elite", "deep_dives_missions", "the_constrictor_mission");
?>
				<!-- Start of article -->
				<div class="codeBlockWrapper nav">
					<nav class="codeBlock previousNext"><a class="previous" rel="prev" title="Previous deep dive" href="stardust_in_the_side_views.html">Stardust in the side views</a><a class="next" rel="next" title="Next deep dive" href="the_thargoid_plans_mission.html">The Thargoid Plans mission</a></nav>
				</div>

				<div class="codeBlockWrapper">
					<div class="codeBlock article">
						<h2 class="articleSubheader deepDive">Hunting high and low for the stolen Constrictor</h2>

						<p>I can still remember the thrill of my first mission in Elite. I'd cut my teeth on the BBC Micro cassette version of the game, which didn't have any missions, but I eventually saved up enough pocket money for a disc drive, and the first thing I did was to post my Elite cassette to Acornsoft to be upgraded into the disc version. And then, one day, when I was flying around galaxy 1, minding my own business, I docked and saw this:</p>

						<img class="titleImage" src="/images/missions/incoming.png" alt="The INCOMING MESSAGE screen in BBC Micro Elite" />

						<p>I nearly fell out of my pilot seat. What was this? Could this be a mission, like the ones I'd heard about in the Acorn press? And then this wondrous sight appeared, spinning away in the middle of the screen:</p>

						<img class="titleImage" src="/images/missions/mission_1_ship.png" alt="The rotating Constrictor in BBC Micro Elite" />

						<p>By this point I knew all the ships by sight, and this was a new one. It slowly drifted up towards the top of the screen, and then I hit the jackpot:</p>

						<img class="titleImage" src="/images/missions/mission_1a.png" alt="The first briefing screen for the Constrictor mission in BBC Micro Elite" />

						<p>Finally, a mission! And a mission so detailed that it needed a second screen:</p>

						<img class="titleImage" src="/images/missions/mission_1b.png" alt="The second briefing screen for the Constrictor mission in BBC Micro Elite" />

						<p>I scribbled down the details, which looked like this:</p>

						<blockquote class="articleIndented">
							<p>Greetings Commander MARK, I am Captain Curruthers of Her Majesty's Space Navy and I beg a moment of your valuable time.</p>

							<p>We would like you to do a little job for us.</p>

							<p>The ship you see here is a new model, the Constrictor, equiped with a top secret new shield generator.</p>

							<p>Unfortunately it's been stolen.</p>

							<p>It went missing from our ship yard on Xeer five months ago and was last seen at Reesdice.</p>

							<p>Your mission, should you decide to accept it, is to seek and destroy this ship.</p>

							<p>You are cautioned that only Military Lasers will penetrate the new shields and that the Constrictor is fitted with an E.C.M.System.</p>

							<p>Good luck, Commander.</p>

							<p>MESSAGE ENDS</p>
						</blockquote>

						<p>I still get goosebumps reading this; it's one of my favourite gaming moments, and in this article I'm going to relive that mission, and look at how the mission system works under the hood.</p>

						<h2 class="articleSubheader">The Constrictor mission<br />
													 -----------------------</h2>

						<p>The clue in the mission briefing is to travel to Reesdice. If you're at the starting system of Lave, it's a 53.2 light-year journey across the galaxy (Reesdice is the small cross to the right in this Long-range Chart):</p>

						<img class="titleImage" src="/images/missions/reesdice_long_range_chart.png" alt="The Long-range Chart showing Reesdice in BBC Micro Elite" />

						<p>Flying there takes a while, but when you dock at Reesdice and look at the Data on System screen, there's something new - the extended system description has been replaced by a mission-specific clue, all in capitals so you can't miss it. Here's what it looks like:</p>

						<img class="titleImage" src="/images/missions/reesdice.png" alt="The mission message at Reesdice in BBC Micro Elite" />

						<p>I scribbled this down, too:</p>

						<blockquote class="articleIndented">
							<p>A STRANGE LOOKING SHIP LEFT HERE A WHILE BACK. LOOKED BOUND FOR AREXE.</p>
						</blockquote>

						<p>Heading to Arexe gives you a new message:</p>

						<img class="titleImage" src="/images/missions/arexe_1.png" alt="The mission message at Arexe in BBC Micro Elite" />

						<p>I scribbled this down as well, spelling mistake and all:</p>

						<blockquote class="articleIndented">
							<p>YEP, A WIERD NEW SHIP HAD A GALACTIC HYPERDRIVE FITTED HERE. USED IT TOO.</p>
						</blockquote>

						<p>It turns out that some of the mission messages are randomly generated, and refreshing the Data on System screen gives you a different version. Here's another version of the message at Arexe:</p>

						<img class="titleImage" src="/images/missions/arexe_2.png" alt="The mission message at Arexe in BBC Micro Elite" />

						<p>This one's also in my notes, complete with typo:</p>

						<blockquote class="articleIndented">
							<p>YEP, A UNUSAL NEW SHIP HAD A GALACTIC HYPERDRIVE FITTED HERE. USED IT TOO.</p>
						</blockquote>

						<p>There is at least one grammatically correct version of this message, though. Here it is:</p>

						<img class="titleImage" src="/images/missions/arexe_3.png" alt="The mission message at Arexe in BBC Micro Elite" />

						<p>And here it is in a more readable form:</p>

						<blockquote class="articleIndented">
							<p>YEP, A PECULIAR NEW SHIP HAD A GALACTIC HYPERDRIVE FITTED HERE. USED IT TOO.</p>
						</blockquote>

						<p>So you need a galactic hyperdrive to continue with the mission, which might take a while if you're short on cash. But when you activate it, you arrive here:</p>

						<img class="titleImage" src="/images/missions/galaxy_2_long_range_chart.png" alt="The Long-range Chart for arriving in galaxy 2 in BBC Micro Elite" />

						<p>And specifically, at the system of Ororra:</p>

						<img class="titleImage" src="/images/missions/galaxy_2_short_range_chart.png" alt="The Short-range Chart for arriving in  galaxy 2 in BBC Micro Elite" />

						<p>At this point the trail appears to have gone cold - there are no mission briefings, and Ororra doesn't have a capitalised hint in its Data on System screen. but it turns out there are quite a few systems scattered around the galaxy with hints, including one at Cearso, just a short hop from our arrival point. Here it is:</p>

						<img class="titleImage" src="/images/missions/cearso_1.png" alt="The mission message at Cearso in BBC Micro Elite" />

						<p>And here it is in slightly more legible text:</p>

						<blockquote class="articleIndented">
							<p>I HEAR A STRANGE LOOKING SHIP APPEARED AT ERRIUS.</p>
						</blockquote>

						<p>This message also has an alternative if you refresh the screen, and this one's a cracker:</p>

						<img class="titleImage" src="/images/missions/cearso_2.png" alt="The mission message at Cearso in BBC Micro Elite" />

						<p>Or, if that screenshot text is too small, here it is:</p>

						<blockquote class="articleIndented">
							<p>GET YOUR IRON ASS OVER TO ERRIUS.</p>
						</blockquote>

						<p>Now that's a mission statement! Of course, Errius is a bit of a hike at 39.6 light years away, but that's the nature of the ship-hunting game, so off we go again:</p>

						<img class="titleImage" src="/images/missions/errius_long_range_chart.png" alt="The Long-range Chart showing Errius in BBC Micro Elite" />

						<p>The messages continue. At Errius we get another clue:</p>

						<blockquote class="articleIndented">
							<p>THIS UNUSUAL SHIP DEHYPED HERE FROM NOWHERE, SUN SKIMMED AND JUMPED. I HEAR IT WENT TO INBIBE.</p>
						</blockquote>

						<p>The hint at Inbibe keeps the chase going:</p>

						<blockquote class="articleIndented">
							<p>SCOUNDREL SHIP WENT FOR ME AT AUSAR. MY LASERS DIDN'T EVEN SCRATCH THE SON OF A BITCH.</p>
						</blockquote>

						<p>And there's yet another hint when we dock at Ausar:</p>

						<blockquote class="articleIndented">
							<p>OH DEAR ME YES. A FRIGHTFUL ROGUE WITH WHAT I BELIEVE YOU PEOPLE CALL A LEAD POSTERIOR SHOT UP LOTS OF THOSE BEASTLY PIRATES AND WENT TO USLERI.</p>
						</blockquote>

						<p>Finally, in Usleri, we get our last hint:</p>

						<img class="titleImage" src="/images/missions/usleri_1.png" alt="The mission message at Usleri in BBC Micro Elite" />

						<p>This says:</p>

						<blockquote class="articleIndented">
							<p>YOU CAN TACKLE THE EVIL SCOUNDREL IF YOU LIKE. HE'S AT ORARRA.</p>
						</blockquote>

						<p>Though you definitely want to refresh this one, as the other version is a lot more fun:</p>

						<img class="titleImage" src="/images/missions/usleri_2.png" alt="The mission message at Usleri in BBC Micro Elite" />

						<p>This says:</p>

						<blockquote class="articleIndented">
							<p>YOU CAN TACKLE THE VICIOUS WHORESON BEETLE HEADFLAP EAR'D KNAVE IF YOU LIKE. HE'S AT ORARRA.</p>
						</blockquote>

						<p>[Aside: This is actually a quote from Shakespeare, specifically from Act 4 Scene 1 of The Taming of the Shrew, where Petruchio calls a servant "a whoreson beetle-headed, flap-ear'd knave!". The original BBC Micro disc version of Elite gets this quote wrong - as you can see, it says "whoreson beetle <i>headflap</i> ear'd knave" above - but this was fixed in the 6502 Second Processor and BBC Master versions, which correctly call the Constrictor thief a "whoreson beetle headed flap ear'd knave". Interestingly, the NES version ditches Shakespeare in favour of a much tamer shrew, opting instead for the rather less flowery and considerably more succint "wretch".]</p>

						<p>So it's time to head to Orarra for the showdown, which is just a short hop from Usleri. It doesn't appear on the Short-range Chart, but a quick search in the Long-range Chart shows that it's really close:</p>

						<img class="titleImage" src="/images/missions/orarra_long_range_chart.png" alt="The Long-range Chart showing Orarra in BBC Micro Elite" />

						<p>And in fact it is within range, but the Short-range Chart is rather coy about showing its name, though it does show the crosshairs at the top of the screen:</p>

						<img class="titleImage" src="/images/missions/orarra_short_range_chart.png" alt="The Short-range Chart showing Orarra in BBC Micro Elite" />

						<p>Anyway, flying to Orarra and hanging around in deep space will eventually bring on a fight to the death with the Constrictor. Here he is, about to make the mistake of flying into my laser sights. Rookie mistake!</p>

						<img class="titleImage" src="/images/missions/constrictor.png" alt="The Constrictor in BBC Micro Elite" />

						<p>It might take a while, but assuming we win, there's a final message waiting for us back in the station:</p>

						<img class="titleImage" src="/images/missions/mission_1c.png" alt="The debriefing screen for the Constrictor mission in BBC Micro Elite" />

						<p>It says:</p>

						<blockquote class="articleIndented">
							<p>Congratulations Commander!</p>

							<p>There will always be a place for you in Her Majesty's Space Navy.</p>

							<p>And maybe sooner than you think...</p>

							<p>MESSAGE ENDS</p>
						</blockquote>

						<p>We also get our rewards: 5,000 credits, plus 256 kill points, which equates to one whole "Right On Commander!".</p>

						<p>And that's the first mission in Elite; maybe you had to be there, but for some of us, this was such a thrill ride. Let's see how it all works in the code.</p>

						<h2 class="articleSubheader">The mission routines and tokens<br />
													 -------------------------------</h2>

						<p>The Constrictor mission appears in every version of 6502 Elite apart from the BBC Micro cassette and Acorn Electron versions, which have no missions at all.</p>

						<p>The <a href="/disc/docked/subroutine/doentry.html">DOENTRY</a> routine in the docked code contains all the mission logic, and because missions are designed to take a long time, there's a flag in the commander save file called <a href="/disc/docked/workspace/up.html#tp">TP</a> that stores the current mission status. The DOENTRY routine is called every time we dock, and it checks the flags in TP and compares it with our current situation, and if we meet the criteria for a mission, it calls one of the many briefing routines to display the relevant mission details.</p>

						<p>Bits 0 and 1 of TP contain the flags for the Constrictor mission. For this mission, DOENTRY applies the following logic:</p>

						<ul>
							<li>If bits 0-1 of TP are %00, then the Constrictor mission has not been started yet, so check the following:

								<ul>
									<li>Is TALLY+1 &gt; 0 (i.e. have we reached a combat rank of Competent and earned a grand total of at least 256 kill points, which is another 128 kill points beyond Competent)?</li>

									<li>Are we in either of the first two galaxies?</li>
								</ul>

								If the answer to both of these is "yes", then we jump to the <a href="/disc/docked/subroutine/brief.html">BRIEF</a> routine to display the Constrictor briefing and set bit 0 of TP (so bits 0-1 of TP are now %01). If the answer to either or both of these is "no", then we jump straight to the docking bay and skip the rest of the mission logic, as we are not yet ready for the mission.
							</li>

							<li>If bits 0-1 of TP are %01, then the Constrictor mission is already in progress, so we stop checking further and fall through into the other mission checks. In the BBC Micro version this will take us to the docking bay as there is only one other mission (<a href="the_thargoid_plans_mission.html">the Thargoid Plans mission</a>), and we can only start that once we've killed the Constrictor. In the other 6502 versions it is possible to do <a href="the_trumbles_mission.html">the Trumbles mission</a> at the same time as the others, so in theory we could be offered the Trumbles mission straight after accepting the Constrictor mission, though it's pretty unlikely we'd be Competent without having already met the criteria for the Trumbles offer.</li>

							<li>If bits 0-1 of TP are %11, then we have just killed the Constrictor (the <a href="/disc/flight/subroutine/killshp.html">KILLSHP</a> routine sets bit 1 of TP when this happens, so TP goes from %01 to %11). If this is the case, we jump to the <a href="/disc/docked/subroutine/debrief.html">DEBRIEF</a> routine to display the congratulations message and get our reward. At this point bit 0 of TP is cleared, leaving bits 0-1 of TP set to %10 to indicate that the mission is done and dusted, and to ensure that in future we pass through the above logic and into the checks for the Thargoid Plans mission (see the deep dive on <a href="the_thargoid_plans_mission.html">the Thargoid Plans mission</a> for details).</li>
						</ul>

						<p>As well as the DOENTRY logic for when we dock, the game displays the mission hints using the extended system description overrides described in the deep dive on <a href="extended_system_descriptions.html">extended system descriptions</a>. Specifically, the <a href="/disc/docked/variable/rugal.html">RUGAL</a> and <a href="/disc/docked/variable/rupla.html">RUPLA</a> tables define a selection of capitalised tokens from the <a href="/disc/docked/variable/rutok.html">RUTOK</a> table that get shown instead of the normal extended system descriptions, but only when the Constrictor mission is in progress. The tokens are as follows:</p>

						<table class="spacedTableBorder codeSummary">
							<tr class="codeSummaryHeader"><th>Galaxy</th><th>System</th><th>Token</th><th>Text</th></tr>
							<tr><td>1</td><td>Xeer</td><td>2</td><td>THE CONSTRICTOR WAS LAST SEEN AT REESDICE, COMMANDER.</td></tr>
							<tr><td>1</td><td>Reesdice</td><td>3</td><td>A [130-134] LOOKING SHIP LEFT HERE A WHILE BACK. LOOKED BOUND FOR AREXE.</td></tr>
							<tr><td>1</td><td>Arexe</td><td>4</td><td>YEP, A [130-134] NEW SHIP HAD A GALACTIC HYPERDRIVE FITTED HERE. USED IT TOO.</td></tr>
							<tr><td>2</td><td>Errius</td><td>5</td><td>THIS  [130-134] SHIP DEHYPED HERE FROM NOWHERE, SUN SKIMMED AND JUMPED. I HEAR IT WENT TO INBIBE.</td></tr>
							<tr><td>2</td><td>Inbibe</td><td>6</td><td>[91-95] SHIP WENT FOR ME AT AUSAR. MY LASERS DIDN'T EVEN SCRATCH THE [91-95].</td></tr>
							<tr><td>2</td><td>Ausar</td><td>7</td><td>OH DEAR ME YES. A FRIGHTFUL ROGUE WITH WHAT I BELIEVE YOU PEOPLE CALL A LEAD POSTERIOR SHOT UP LOTS OF THOSE BEASTLY PIRATES AND WENT TO USLERI.</td></tr>
							<tr><td>2</td><td>Usleri</td><td>8</td><td>YOU CAN TACKLE THE [170-174] [91-95] IF YOU LIKE. HE'S AT ORARRA.</td></tr>
							<tr><td>2</td><td>Bebege</td><td>10</td><td>Random Errius message</td></tr>
							<tr><td>2</td><td>Cearso</td><td>11</td><td>Random Errius message</td></tr>
							<tr><td>2</td><td>Dicela</td><td>12</td><td>Random Errius message</td></tr>
							<tr><td>2</td><td>Eringe</td><td>13</td><td>Random Errius message</td></tr>
							<tr><td>2</td><td>Gexein</td><td>14</td><td>Random Errius message</td></tr>
							<tr><td>2</td><td>Isarin</td><td>15</td><td>Random Errius message</td></tr>
							<tr><td>2</td><td>Letibema</td><td>16</td><td>Random Errius message</td></tr>
							<tr><td>2</td><td>Maisso</td><td>17</td><td>Random Errius message</td></tr>
							<tr><td>2</td><td>Onen</td><td>18</td><td>Random Errius message</td></tr>
							<tr><td>2</td><td>Ramaza</td><td>19</td><td>Random Errius message</td></tr>
							<tr><td>2</td><td>Sosole</td><td>20</td><td>Random Errius message</td></tr>
							<tr><td>2</td><td>Tivere</td><td>21</td><td>Random Errius message</td></tr>
							<tr><td>2</td><td>Veriar</td><td>22</td><td>Random Errius message</td></tr>
							<tr><td>2</td><td>Orarra</td><td>24</td><td>THERE'S A REAL [91-95] PIRATE OUT THERE.</td></tr>
							<tr><td>3</td><td>Xeveon</td><td>23</td><td>BOY ARE YOU IN THE WRONG GALAXY!</td></tr>
						</table>

						<p>The various Errius messages that are picked by random are in tokens 106 to 110 of the extended token table at <a href="/disc/docked/variable/tkn1.html">TKN1</a>, and are as follows:</p>

						<table class="spacedTableBorder codeSummary">
							<tr class="codeSummaryHeader"><th>Token</th><th>Text</th></tr>
							<tr><td>106</td><td>I HEAR A [130-134] LOOKING SHIP APPEARED AT ERRIUS.</td></tr>
							<tr><td>107</td><td>YEAH, I HEAR A [130-134] SHIP LEFT ERRIUS A  WHILE BACK.</td></tr>
							<tr><td>108</td><td>GET YOUR IRON ASS OVER TO ERRIUS.</td></tr>
							<tr><td>109</td><td>SOME [91-95] NEW SHIP WAS SEEN AT ERRIUS.</td></tr>
							<tr><td>110</td><td>TRY ERRIUS</td></tr>
						</table>

						<p>Finally, the random tokens in the above translate into the following options, with one of the options being randomly chosen each time the text is displayed:</p>

						<table class="spacedTableBorder codeSummary">
							<tr class="codeSummaryHeader"><th>Token range</th><th>Text</th></tr>
							<tr><td>[91-95]</td><td>SON OF A BITCH<br />SCOUNDREL<br />BLACKGUARD<br />ROGUE<br />WHORESON BEETLE HEAD FLAP EAR'D KNAVE</td></tr>
							<tr><td>[130-134]</td><td>FUNNY<br />WIERD<br />UNUSUAL<br />STRANGE<br />PECULIAR</td></tr>
							<tr><td>[170-174]</td><td>KILLER<br />DEADLY<br />EVIL<br />LETHAL<br />VICIOUS</td></tr>
						</table>

						<p>Here are some other points of interest:</p>

						<ul>
							<li>The last invective in token 95 is "WHORESON BEETLE HEAD FLAP EAR'D KNAVE" in the disc version, but by the time of the 6502 Second Processor version, it had been changed to "WHORESON BEETLE HEADED FLAP EAR'D KNAVE", which presumably scans better. It's good to see the authors refining the quality of their insults over time (though, sadly, the NES version changes it to "WRETCH", which is just not the same).</li>

							<li>The names of the Navy captains in the above messages are different depending on which galaxy you are in when the mission is offered (which is a nice touch). If we receive the briefing in galaxy 1 then it's from Captain Carruthers, but if we are in galaxy 2 then it's from Captain Fosdyke Smythe. The names are implemented in the <a href="/disc/docked/subroutine/mt27.html">MT27</a> routine, which is called when printing an EJMP 27 token from the extended token table.</li>

							<li>In the NES version, the captains' names vary between different languages. In English they're Captain Carruthers and Captain Fosdyke Smythe, in German they're Käpitan Richtofen and Käpitan Vanderbilt, and in French they're le capitain de Remigny and le capitain de Sevigny.</li>

							<li>The mission hint in the mission briefing is also different depending on the galaxy you are in when the mission is offered. If we are in galaxy 1 then the hint is "was last seen at Reesdice", but if we're in galaxy 2, the hint is "is believed to have jumped to this galaxy". The hints are implemented in the <a href="/disc/docked/subroutine/mt28.html">MT28</a> routine, which is called when printing an EJMP 28 token from the extended token table.</li>

							<li>The incoming message text is token 216 in <a href="/disc/docked/variable/tkn1.html">TKN1</a>, the mission briefing with the rotating ship is token 10, and the mission debriefing is token 15.</li>

							<li>In the BBC Micro disc version, the mission status affects which ship data files are loaded. Specifically, the <a href="/disc/flight/subroutine/lomod.html">LOMOD</a> routine ensures that the ship blueprints file D.MOG is loaded for the Constrictor fight, as that's the only data file that contains the Constrictor blueprint. See the deep dive on <a href="ship_blueprints_in_the_disc_version.html">ship blueprints in the disc version</a> for details.</li>
						</ul>

						<p>And that's it - mission accomplished! See the deep dives on <a href="the_thargoid_plans_mission.html">the Thargoid Plans mission</a> and <a href="the_trumbles_mission.html">the Trumbles mission</a> for more mission-related reading.</p>

						<p>MESSAGE ENDS</p>
					</div>
				</div>

				<div class="codeBlockWrapper nav">
					<nav class="codeBlock previousNext"><a class="previous" rel="prev" title="Previous deep dive" href="stardust_in_the_side_views.html">Stardust in the side views</a><a class="next" rel="next" title="Next deep dive" href="the_thargoid_plans_mission.html">The Thargoid Plans mission</a></nav>
				</div>
				<!-- End of article -->
			</article>

<?php
include_once("../templates_local/navigation.php");
?>
		</div>
	</body>
</html>
