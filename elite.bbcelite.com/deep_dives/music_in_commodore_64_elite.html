<?php
include_once("../templates/template_functions.php");
page_header("deep_dives", "music_in_commodore_64_elite.html", "Music in Commodore 64 Elite", "Music in Commodore 64 Elite", "A deep dive into the music driver in Commodore 64 Elite", "elite", "deep_dives_c64", "music_in_commodore_64_elite");
?>
				<!-- Start of article -->
				<div class="codeBlockWrapper nav">
					<nav class="codeBlock previousNext"><a class="previous" rel="prev" title="Previous deep dive" href="sound_effects_in_commodore_64_elite.html">Sound effects in C64 Elite</a><a class="next" rel="next" title="Next deep dive" href="building_commodore_64_elite_from_the_source_disk.html">Building C64 Elite from the source disk</a></nav>
				</div>

				<div class="codeBlockWrapper">
					<div class="codeBlock article">
						<h2 class="articleSubheader deepDive">The music driver behind the iconic Blue Danube and the catchy Elite theme tune</h2>

						<p>xxx</p>

Music driver data format:

<#1 fh1 fl1>	Set the frequency for voice 1 to (fh1 fl1) and the control register for voice 1 to value1

<#2 fh2 fl2>	Set the frequency for voice 2 to (fh2 fl2) and the control register for voice 2 to value2

<#3 fh3 fl3>	Set the frequency for voice 3 to (fh3 fl3) and the control register for voice 3 to value3

<#4 fh1 fl1 fh2 fl2>	Set the frequencies and voice control registers for voices 1 and 2

<#4 fh1 fl1 fh2 fl2 fh3 fl3>	Set the frequencies and voice control registers for voices 1, 2 and 3

<#6>	Increment value0 and move on to the next bit of data

<#7 ad1 ad2 ad3 sr1 sr2 sr3> Set the attack and decay length, sustain volume and release length for all three voices

<#8>	Rest for value4 interrupts (i.e. play nothing for n/50 or n/60 of a second)

<#9> Restart the current tune

<#10 h1 l1 h2 l2 h3 l3>	Set voice 1 pulse width to (h1 l1), voice 2 pulse width to (h2 l2), voice 3 pulse width to (h3 l3)

<#11>	Do command <#9> to restart the current tune

<#12 n>	Set value4 = n, which sets the rest length for commands #8 and #15

<#13 v1 v2 v3>	Set value1, value2 and value3 to the voice control register values to use in commands <#1>, <#2> and <#3>

<#14 vf fc cf>	Set the volume and filter modes, filter control and filter cut-off frequency

<#15>	Rest for 2 * value4 interrupts


PAL vs NTSC: http://unusedino.de/ec64/technical/misc/vic656x/pal-ntsc.html


					</div>
				</div>

				<div class="codeBlockWrapper nav">
					<nav class="codeBlock previousNext"><a class="previous" rel="prev" title="Previous deep dive" href="sound_effects_in_commodore_64_elite.html">Sound effects in C64 Elite</a><a class="next" rel="next" title="Next deep dive" href="building_commodore_64_elite_from_the_source_disk.html">Building C64 Elite from the source disk</a></nav>
				</div>
				<!-- End of article -->
			</article>

<?php
include_once("../templates_local/navigation.php");
?>
		</div>
	</body>
</html>
