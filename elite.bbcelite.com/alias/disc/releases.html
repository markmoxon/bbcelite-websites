<?php
include_once("../../templates/template_functions.php");
page_header("", "releases.html", "Different variants of the BBC Micro disc version of Elite", "Different variants of the BBC Micro disc version", "An article covering the different variants of the BBC Micro disc version of Elite", "elite-alias", "disc_sources", "releases");
?>
				<div class="codeBlockWrapper nav">
					<nav class="codeBlock previousNext"><a class="previous" rel="prev" title="Previous routine" href="/disc/">Information on the BBC Micro disc version</a><a class="next" rel="next" title="Next page" href="articles/map_of_the_source_code.html">Map of the source code</a></nav>
				</div>

				<div class="codeBlockWrapper">
					<div class="codeBlock article">
						<p>This site contains the source code for three different variants of the BBC Micro disc version of Elite:</p>

						<ul>
							<li>The <a href="#sth">variant from the Stairway to Hell archive</a></li>

							<li>The <a href="#ib-disc">variant from the game disc on Ian Bell's website</a></li>

							<li>The <a href="#sideways-ram">sideways RAM variant from Ian Bell's website</a></li>
						</ul>

						<p>See below for comprehensive details of the differences between the variants, along with links to the relevant bits of the source code.</p>

						<p>All these differences are implemented within the source code using BeebAsm IF statements, which determine which variant is compiled. These IF statements check the values of the relevant source code variables (_STH_DISC, _IB_DISC and _SRAM_DISC), which are themselves set by parameters to the build command (such as variant=ib-disc). See the <a href="https://github.com/markmoxon/elite-source-code-bbc-micro-disc">associated repository</a> for more about building different variants from the source.</p>

						<p>Note that in the first two variants below, I have only included differences that appear in the main game code, rather than those that appear in the loaders, as these files can differ extensively between variants without affecting the game itself. The variant on Ian Bell's site contains a whole load of copy protection differences when compared to the same code in the Stairway to Hell variant, and it also contains two more binary files (ELITE5 and ELITE6), plus a !BOOT file that contains even more copy protection code. I haven't disassembled the loader files from this variant as that's a whole different rabbit hole.</p>

						<p>To play Elite with an SSD disc image, load the BBC Micro disc image into drive 0 and press SHIFT-BREAK.</p>

						<h2 class="articleSubheader"><a id="sth" name="sth" class="anchor"></a>The Stairway to Hell variant<br />
						                             ----------------------------</h2>

						<p>The <a href="http://www.stairwaytohell.com/bbc/archive/diskimages/reclist.php?sort=name&filter=Elite">variant in the Stairway to Hell archive</a> is a cracked version of the original Acornsoft release. It has all the known bugs fixed and the copy protection is disabled, so this looks like the second release of BBC Micro disc Elite. The same variant was later released as part of the multi-version SNG47 release.</p>

						<table class="spacedTableBorder codeSummary">
							<tr><td>Default build in repository</td><td>Yes</td></tr>
							<tr><td>Product details</td><td>Acornsoft SNG38 (bug fix)<br />Acornsoft SNG47</td></tr>
							<tr><td>Date</td><td>1984</td></tr>
							<tr><td>Build command parameter</td><td>variant=sth (optional)</td></tr>
							<tr><td>Source code variable</td><td>_STH_DISC</td></tr>
							<tr><td>Verification checksums (crc32)</td><td>See the <a href="https://github.com/markmoxon/elite-source-code-bbc-micro-disc#building-the-stairway-to-hell-variant">GitHub repository</a></td></tr>
							<tr><td>Download SSD disc image</td><td><a href="/versions/elite/elite-disc-sth.ssd">Original</a>, <a href="/versions/flicker_free_elite/elite-disc-flicker-free-sth.ssd">Flicker-free</a>, <a href="/versions/music/elite-disc-music-sth.ssd">Music</a></td></tr>
							<tr><td>Play this variant online</td><td><a href="https://bbc.xania.org/?autoboot&amp;disc=https://elite.bbcelite.com/versions/elite/elite-disc-sth.ssd">Original</a>, <a href="https://bbc.xania.org/?autoboot&amp;disc=https://elite.bbcelite.com/versions/flicker_free_elite/elite-disc-flicker-free-sth.ssd">Flicker-free</a>, <a href="https://bbc.xania.org/?autoboot&amp;disc=https://elite.bbcelite.com/versions/music/elite-disc-music-sth.ssd">Music</a></td></tr>
						</table>

						<p>It has the following features that differentiate it from the other variants:</p>

						<ul>
							<li>Bit 5 is set in the version number in the competition flags (see <a href="/disc/docked/subroutine/dfault.html">DFAULT</a>).</li>
						</ul>

						<h2 class="articleSubheader"><a id="ib-disc" name="ib-disc" class="anchor"></a>The game disc on Ian Bell's site<br />
						                             --------------------------------</h2>

						<p>The <a href="http://www.elitehomepage.org/bbc/">variant on Ian Bell's site</a> appears to be the very first release of BBC Micro disc Elite. The binaries match the very first Acornsoft release (with the refund and asteroid bugs), so this looks like the original disc variant.</p>

						<table class="spacedTableBorder codeSummary">
							<tr><td>Default build in repository</td><td>No</td></tr>
							<tr><td>Product details</td><td>Acornsoft SNG38 (original)</td></tr>
							<tr><td>Date</td><td>1984</td></tr>
							<tr><td>Build command parameter</td><td>variant=ib-disc</td></tr>
							<tr><td>Source code variable</td><td>_IB_DISC</td></tr>
							<tr><td>Verification checksums (crc32)</td><td>See the <a href="https://github.com/markmoxon/elite-source-code-bbc-micro-disc#building-the-ian-bell-disc-variant">GitHub repository</a></td></tr>
							<tr><td>Download SSD disc image</td><td><a href="/versions/elite/elite-disc-ib-disc.ssd">Original</a>, <a href="/versions/flicker_free_elite/elite-disc-flicker-free-ib-disc.ssd">Flicker-free</a></td></tr>
							<tr><td>Play this variant online</td><td><a href="https://bbc.xania.org/?autoboot&amp;disc=https://elite.bbcelite.com/versions/elite/elite-disc-ib-disc.ssd">Original</a>, <a href="https://bbc.xania.org/?autoboot&amp;disc=https://elite.bbcelite.com/versions/flicker_free_elite/elite-disc-flicker-free-ib-disc.ssd">Flicker-free</a></td></tr>
						</table>

						<p>It has the following features that differentiate it from the other variants:</p>

						<ul>
							<li>The refund bug is present (see <a href="/disc/docked/subroutine/refund.html">refund</a>).</li>

							<li>Asteroids are never spawned (see <a href="/disc/flight/subroutine/main_game_loop_part_2_of_6.html">Main game loop part 2</a>).</li>

							<li>Bit 2 is set in the version number in the competition flags (see <a href="/disc/docked/subroutine/dfault.html">DFAULT</a>).</li>

							<li>The docked code's workspace noise is different (see <a href="/disc/docked/variable/checksum.html">Checksum</a>).</li>
						</ul>

						<h2 class="articleSubheader"><a id="sideways-ram" name="sideways-ram" class="anchor"></a>The sideways RAM variant<br />
						                             ------------------------</h2>

						<p>The sideways RAM variant on <a href="http://www.elitehomepage.org/bbc/">Ian Bell's site</a> is an enhanced variant of BBC Micro disc Elite, written by Stuart McConnachie, that loads all the ship blueprints into sideways RAM, thus removing the restrictions of the disc version's ship blueprint files (which you can read about in the deep dive on <a href="/deep_dives/ship_blueprints_in_the_disc_version.html">ship blueprints in the disc version</a>). It needs 16K of sideways RAM in order to work.</p>

						<table class="spacedTableBorder codeSummary">
							<tr><td>Default build in repository</td><td>No</td></tr>
							<tr><td>Product details</td><td>-</td></tr>
							<tr><td>Date</td><td>1988-9</td></tr>
							<tr><td>Build command parameter</td><td>variant=sideways-ram</td></tr>
							<tr><td>Source code variable</td><td>_SRAM_DISC</td></tr>
							<tr><td>Verification checksums (crc32)</td><td>See the <a href="https://github.com/markmoxon/elite-source-code-bbc-micro-disc#building-the-sideways-ram-variant">GitHub repository</a></td></tr>
							<tr><td>Download SSD disc image</td><td><a href="/versions/elite/elite-disc-sideways-ram.ssd">Original</a>, <a href="/versions/flicker_free_elite/elite-disc-flicker-free-sideways-ram.ssd">Flicker-free</a></td></tr>
							<tr><td>Play this variant online</td><td><a href="https://bbc.xania.org/?autoboot&amp;disc=https://elite.bbcelite.com/versions/elite/elite-disc-sideways-ram.ssd">Original</a>, <a href="https://bbc.xania.org/?autoboot&amp;disc=https://elite.bbcelite.com/versions/flicker_free_elite/elite-disc-flicker-free-sideways-ram.ssd">Flicker-free</a></td></tr>
						</table>

						<p>It has the following features that differentiate it from the other variants:</p>

						<ul>
							<li>All ship blueprints are available in sideways RAM at the same time, so all ship types can appear at any time without the restrictions of the disc version's blueprint files. Also, loading is quicker on launch and there is no disc access at all when hyperspacing (see the <a href="/disc/all/loader_sideways_ram.html">sideways RAM loader</a>).</li>

							<li>The missile blueprint is the version from the non-disc versions (see <a href="/disc/missile_ship_blueprint/variable/ship_missile.html">SHIP_MISSILE</a>).</li>

							<li>The scanner shows the space station, asteroids, escape pods and cargo in red, as opposed to the yellow/green of the original (see <a href="/disc/flight/subroutine/scancol.html">SCANCOL</a>).</li>

							<li>Different parts of the copy protection are disabled compared to the other variants (see the <a href="/disc/all/loader_sideways_ram.html">sideways RAM loader</a>).</li>

							<li>The main docked and flight binaries in T.CODE and D.CODE are not encrypted (see <a href="/disc/docked/subroutine/deeor.html">DEEOR (Docked)</a>, <a href="/disc/flight/subroutine/deeor.html">DEEOR (Flight)</a>).</li>

							<li>The sideways RAM loader is a mod in the true sense, in that it works with the normal disc version, converting it to work with sideways RAM by hooking itself into the original game binaries. You can see this in action by doing the following:

								<ul>
									<li>Copy the MENU, MNUCODE and SCREEN files from the sideways RAM variant onto the disc for standard disc Elite</li>

									<li>Enter CHAIN "MENU" and choose the sideways RAM version from the menu</li>

									<li>This will give an error when the menu tries to load the missing INTRO file, so instead type *RUN ELITE2 to run the standard disc version, which will now run in sideways RAM</li>
								</ul>
							 </li>
						</ul>

						<p>You can read all about the genesis of this clever piece if hacking in <a href="https://stardot.org.uk/forums/viewtopic.php?p=422308#p422308">this post by the author</a> on Stardot.</p>
					</div>
				</div>

				<div class="codeBlockWrapper nav">
					<nav class="codeBlock previousNext"><a class="previous" rel="prev" title="Previous routine" href="/disc/">Information on the BBC Micro disc version</a><a class="next" rel="next" title="Next page" href="articles/map_of_the_source_code.html">Map of the source code</a></nav>
				</div>
			</article>

<?php
include("../../templates_local/navigation.php");
?>
		</div>
	</body>
</html>
