<?php
include_once("../templates/template_functions.php");
page_header("disassembly_websites", "code_analysis.html", "Scripts that help me manage my websites", "Scripts that help me manage my websites", "Using a library repository to compare for different versions of Elite", "archaeology", "disassembly_websites", "code_analysis");
?>
				<div class="codeBlockWrapper nav">
					<nav class="codeBlock previousNext"><a class="previous" rel="prev" title="Previous page" href="comparing_elite.html">Generating code comparisons</a></nav>
				</div>

				<div class="codeBlockWrapper">
					<div class="codeBlock article">
						<h2 class="articleSubheader deepDive">Extracting text for spellchecks, counting words and validating the library</h2>

						<p>As a writer, I like to make sure my documentation is grammatically correct and free of spelling mistakes. This is difficult enough when using a normal word processor, but when you embed your prose as code comments, where English gets mixed up with assembly code, then there are very few automated tools that are going to help here. I use a text editor to create my sites, and running a text editor's spellchecker on source code is not on the optimal path to happiness.</p>

						<p>To help with this issue, I've written a suite of scripts that help me improve the quality of my non-code content. They can be found in the <a href="https://github.com/markmoxon/bbcelite-scripts/tree/main/code-analysis">code-analysis</a> folder of the bbcelite-scripts repository, and they break down into four groups:</p>

						<ul>
							<li>Text extraction, which lets me extract the non-code text from the source repositories and web content, so I can check the spelling and grammar using a word processor</li>

							<li>Word counts, so I can see just how much I'm writing</li>

							<li>Code images, which provide a fascinating view into the structure of the game binaries</li>

							<li>Validation, which can check the underlying repository logic that's used to generate my sites</li>
						</ul>

						<p>These scripts use Perl and Python, and they are tailored to my repository structure. If you've managed to follow the installation instructions in the <a href="https://github.com/markmoxon/bbcelite-scripts">bbcelite-scripts</a> repository, then you can run these scripts locally to see what they do. They're not particularly fancy, but they enable me to do things that would be otherwise impossible.</p>

						<p>Here are a few choice highlights from the code image and word count tools, just for fun.</p>

						<h2 class="articleSubheader">Binary code as an image<br>
													 -----------------------</h2>

						<p>The smallest version of Elite is, not surprisingly, the Electron version. To see just how small the Electron version is, we can convert the main game binary into an image, with one byte per pixel, and a greyscale showing each byte's value, with 0 being shown as black, 255 being shown as white, and interim values as greyscale pixels. The result is a 156-pixel square, like this:</p>

						<img class="titleImage" style="width: 156px" src="http://elite.bbcelite.com/images/master/code.png" alt="The game binary for Acorn Electron Elite as an image">

						<p>There are two candidates for the largest version. Elite-A has both a standard and second processor version, as well as 23 ship files, and if we put these all together, we get a 405-pixel square:</p>

						<img class="titleImage" style="width: 405px" src="http://elite.bbcelite.com/images/elite-a/code.png" alt="The game binary for Elite-A as an image">

						<p>This is probably a bit unfair, as the NES version has the largest single-platform binary with unrepeated code, giving us a 363-pixel square in which you can clearly see the division into ROM banks:</p>

						<img class="titleImage" style="width: 363px" src="http://elite.bbcelite.com/images/nes/code.png" alt="The game binary for NES Elite as an image">

						<p>As for the other games I've analysed, they are pretty small compared to the larger Elite versions. Aviator is the smallest of all, with a 141-pixel square:</p>

						<img class="titleImage" style="width: 141px" src="http://aviator.bbcelite.com/images/general/code.png" alt="The game binary for Aviator as an image">

						<p>Next is The Sentinel with a 147-pixel square:</p>

						<img class="titleImage" style="width: 147px" src="http://thesentinel.bbcelite.com/images/general/code.png" alt="The game binary for The Sentinel as an image">

						<p>Then comes Revs with a 185-pixel square (and that's including all five of the Acornsoft track files):</p>

						<img class="titleImage" style="width: 185px" src="http://revs.bbcelite.com/images/general/code.png" alt="The game binary for Revs as an image">

						<p>And finally Lander, with its four-byte instructions, has a 199-pixel square:</p>

						<img class="titleImage" style="width: 199px" src="http://lander.bbcelite.com/images/general/code.png" alt="The game binary for Aviator as an image">

						<p>You can see more images in the <a href="https://github.com/markmoxon/bbcelite-scripts/tree/main/code-analysis/code-images">code-images</a> folder in the repository.</p>

						<h2 class="articleSubheader">Word counts<br>
													 -----------</h2>

						<p>Another interesting tool is the word count script. This tool extracts the commentary and deep dive text from the repositories and website, but instead of saving it to a text file so it can be checked, the script counts the words.</p>

						<p>Here are some highlights from the script:</p>

						<ul>
							<li>At the time of writing (early 2025), the deep dives across all four of my disassembly sites total 428,676 words. In comparison, Dostoyevsky's hefty tome <i>Crime and Punishment</i> is only 211,591 words.</li>

							<li>The NES Elite source code contains 399,859 words of commentary (this is ignoring the code - it's just the commentary). <i>The Lord of the Rings</i> contains 455,125 words, which is not a great deal bigger.</li>

							<li>If you add up the unique commentary across my four projects (so that's the commentary from NES Elite, Aviator, Revs, The Sentinel and Lander), then it comes to 1,035,680 words. This is noticeably more then the complete set of Shakespeare's plays, which come to just 835,997 words.</li>

							<li>The total amount of commentary across all my projects is 3,413,374 words. If you add up all the words in <i>The Lord of the Rings</i>, <i>War and Peace</i>, <i>Crime and Punishment</i> and the King James Bible, you only get 2,037,140 words.</li>

							<li>The total amount of commentary and deep dive content across all my projects is 3,842,050 words. If you add up the four tomes from the last bullet point, and add in the full set of <i>Harry Potter</i> novels, you get 3,121,765 words, which is quite a bit less.</li>
						</ul>

						<p>I like to write, I guess.</p>

						<p>You can see more results and analysis in the <a href="https://github.com/markmoxon/bbcelite-scripts/tree/main/code-analysis/word-count-code-comments">word-count-code-comments</a> and  <a href="https://github.com/markmoxon/bbcelite-scripts/tree/main/code-analysis/word-count-deep-dives">word-count-deep-dives</a> folders in the repository.</p>
					</div>
				</div>

				<div class="codeBlockWrapper nav">
					<nav class="codeBlock previousNext"><a class="previous" rel="prev" title="Previous page" href="comparing_elite.html">Generating code comparisons</a></nav>
				</div>
			</article>

<?php
include_once("../templates_local/navigation.php");

?>
		</div>
	</body>
</html>
